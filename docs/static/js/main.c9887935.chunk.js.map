{"version":3,"sources":["utils/services/ColorGenerator.js","common/NotFound.js","servers/ServersListGroup.js","servers/helpers/withSelectedServer.js","utils/services/ShlinkApiClient.js","common/services/provideServices.js","common/ScrollToTop.js","common/MainHeader.js","common/shlink-logo-white.png","common/Home.js","common/MenuLayout.js","common/AsideMenu.js","common/ErrorHandler.js","common/ShlinkVersions.js","utils/utils.js","utils/services/provideServices.js","utils/services/Storage.js","utils/services/ShlinkApiClientBuilder.js","utils/helpers/hooks.js","servers/prop-types/index.js","registerServiceWorker.js","utils/SearchField.js","App.js","utils/helpers/pagination.js","short-urls/Paginator.js","short-urls/ShortUrls.js","tags/helpers/Tag.js","utils/DateInput.js","utils/DateRangeRow.js","utils/helpers/date.js","short-urls/reducers/shortUrlTags.js","short-urls/reducers/shortUrlDeletion.js","short-urls/reducers/shortUrlMeta.js","short-urls/reducers/shortUrlEdition.js","short-urls/reducers/shortUrlsList.js","short-urls/reducers/shortUrlsListParams.js","short-urls/SearchBar.js","utils/SortingDropdown.js","short-urls/ShortUrlsList.js","short-urls/helpers/VisitStatsLink.js","short-urls/helpers/ShortUrlVisitsCount.js","short-urls/helpers/ShortUrlsRow.js","short-urls/helpers/PreviewModal.js","short-urls/helpers/QrCodeModal.js","short-urls/helpers/ShortUrlsRowMenu.js","utils/Checkbox.js","short-urls/reducers/shortUrlCreation.js","short-urls/UseExistingIfFoundInfoIcon.js","short-urls/CreateShortUrl.js","short-urls/helpers/DeleteShortUrlModal.js","short-urls/helpers/EditTagsModal.js","short-urls/helpers/EditMetaModal.js","short-urls/helpers/EditShortUrlModal.js","short-urls/helpers/CreateShortUrlResult.js","short-urls/services/provideServices.js","utils/HorizontalFormGroup.js","servers/helpers/ServerForm.js","servers/CreateServer.js","servers/ServersDropdown.js","servers/DeleteServerModal.js","servers/DeleteServerButton.js","servers/EditServer.js","servers/helpers/ImportServersBtn.js","servers/reducers/selectedServer.js","servers/reducers/server.js","servers/helpers/ForServerVersion.js","servers/helpers/ServerError.js","servers/services/ServersImporter.js","servers/services/ServersService.js","servers/services/ServersExporter.js","servers/services/provideServices.js","utils/PaginationDropdown.js","utils/helpers/numbers.js","common/SimplePaginator.js","visits/GraphCard.js","visits/SortableBarGraph.js","visits/reducers/shortUrlVisits.js","visits/reducers/shortUrlDetail.js","visits/VisitsHeader.js","visits/ShortUrlVisits.js","visits/VisitsTable.js","visits/helpers/OpenMapModalBtn.js","visits/helpers/MapModal.js","utils/helpers/visits.js","visits/services/VisitsParser.js","visits/services/provideServices.js","tags/helpers/TagBullet.js","tags/helpers/TagsSelector.js","tags/TagCard.js","tags/reducers/tagDelete.js","tags/helpers/DeleteTagConfirmModal.js","tags/helpers/EditTagModal.js","tags/TagsList.js","tags/reducers/tagEdit.js","tags/reducers/tagsList.js","tags/services/provideServices.js","container/index.js","reducers/index.js","container/store.js","index.js","utils/helpers/version.js","utils/Message.js"],"names":["floor","Math","random","normalizeKey","key","toLowerCase","trim","ColorGenerator","storage","getColorForKey","normalizedKey","color","colors","setColorForKey","rangeOf","length","join","set","this","get","PropTypes","shape","func","NotFound","to","children","className","ServerListItem","id","name","tag","Link","icon","chevronIcon","ServersListGroup","servers","Fragment","map","withSelectedServer","WrappedComponent","ServerError","props","selectServer","selectedServer","serverId","match","params","useEffect","serverNotFound","type","loading","apiErrorType","string","detail","title","status","number","error","message","buildShlinkBaseUrl","url","apiVersion","rejectNilProps","reject","isNil","ShlinkApiClient","axios","baseUrl","apiKey","listShortUrls","options","_performRequest","then","resp","data","shortUrls","createShortUrl","filteredOptions","value","isEmpty","getShortUrlVisits","shortCode","query","visits","getShortUrl","domain","deleteShortUrl","updateShortUrlTags","tags","updateShortUrlMeta","meta","listTags","deleteTags","editTag","oldName","newName","health","a","method","body","_baseUrl","_apiVersion","headers","_apiKey","paramsSerializer","qs","stringify","arrayFormat","response","provideServices","bottle","connect","withRouter","constant","global","window","console","serviceFactory","ScrollToTop","decorator","MainHeader","Home","MenuLayout","AsideMenu","ShlinkVersions","ErrorHandler","scrollTo","prevLocation","location","React","Component","ServersDropdown","state","isOpen","handleToggle","setState","prevProps","toggleClass","classnames","dark","fixed","expand","src","shlinkLogo","alt","onClick","arrowIcon","navbar","active","pathname","plusIcon","module","exports","resetSelectedServer","list","values","hasServers","TagsList","ShortUrls","CreateShortUrl","ShortUrlVisits","useToggle","sidebarVisible","toggleSidebar","showSidebar","hideSidebar","serverNotReachable","burgerClasses","classNames","swipeMenuIfNoModalExists","callback","document","querySelector","burgerIcon","delta","onSwipedLeft","onSwipedRight","showOnMobile","exact","path","component","render","AsideMenuItem","rest","activeClassName","DeleteServerButton","asideClass","buildPath","suffix","isActive","listIcon","createIcon","flip","tagsIcon","editIcon","textClassName","server","hasError","e","outline","reload","clientVersion","serverVersion","printableVersion","normalizedClientVersion","pipe","versionToSemVer","versionToPrintable","stateFlagTimeout","setTimeout","flagName","initialValue","delay","determineOrderDir","clickedField","currentOrderField","currentOrderDir","ASC","DESC","undefined","fixLeafletIcons","L","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","marker2x","iconUrl","marker","shadowUrl","markerShadow","size","mappingFn","startAt","range","hasValue","localStorage","service","Storage","buildShlinkApiClient","useStateFlagTimeout","item","getItem","JSON","parse","setItem","apiClients","getStateOrSelectedServer","clientKey","useState","flag","setFlag","regularServerType","version","bool","notFoundServerType","isRequired","oneOfType","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","catch","timer","App","CreateServer","EditServer","progressivePagination","currentPage","pageCount","pages","max","min","unshift","push","keyForPage","pageNumber","index","isPageDisabled","Paginator","paginator","pagesCount","Pagination","listClassName","PaginationItem","disabled","PaginationLink","previous","next","SearchBar","ShortUrlsList","object","shortUrlsList","page","pagination","urlsListKey","setUrlsListKey","SearchField","onChange","placeholder","large","noBorder","searchTerm","setSearchTerm","resetTimer","clearTimeout","searchTermChanged","newSearchTerm","timeout","target","searchIcon","hidden","Tag","text","clearable","colorGenerator","onClose","style","backgroundColor","cursor","DateInput","isClearable","selected","ref","createRef","showCalendarIcon","dateFormat","readOnly","calendarIcon","current","input","focus","DateRangeRow","startDate","endDate","onStartDateChange","onEndDateChange","placeholderText","maxDate","minDate","formatDate","format","date","formatIsoDate","arrayOf","saving","initialState","handleActions","editShortUrlTags","dispatch","getState","normalizedTags","resetShortUrlsTags","createAction","SHORT_URL_DELETED","errorData","resetDeleteShortUrl","shortUrlMetaType","validSince","validUntil","maxVisits","editShortUrlMeta","resetShortUrlMeta","SHORT_URL_EDITED","longUrl","editShortUrl","LIST_SHORT_URLS_START","LIST_SHORT_URLS_ERROR","LIST_SHORT_URLS","shortUrlType","shortUrl","visitsCount","shortUrlMatches","setPropFromActionOnMatchingShortUrl","prop","propValue","assocPath","assoc","orderBy","resetShortUrlParams","dateOrUndefined","moment","ForServerVersion","shortUrlsListParams","selectedTags","setDate","dateName","minVersion","filter","selectedTag","SortingDropdown","items","orderField","orderDir","isButton","right","handleItemClick","fieldKey","newOrderDir","UncontrolledDropdown","DropdownToggle","caret","DropdownMenu","toPairs","fieldValue","DropdownItem","sortAscIcon","sortDescIcon","divider","defaultProps","SORTABLE_FIELDS","dateCreated","ShortUrlsRow","refreshList","extraParams","handleOrderBy","orderByColumn","columnName","renderOrderIcon","field","caretUpIcon","caretDownIcon","head","keys","search","ignoreQueryPrefix","colSpan","renderShortUrls","buildVisitsUrl","VisitStatsLink","ShortUrlVisitsCount","visitsLink","infoIcon","UncontrolledTooltip","placement","ShortUrlsRowMenu","copiedToClipboard","setCopiedToClipboard","data-th","href","onCopy","copyIcon","renderTags","PreviewModal","toggle","Modal","ModalHeader","ModalBody","QrCodeModal","centered","DeleteShortUrlModal","EditTagsModal","EditMetaModal","EditShortUrlModal","isQrModalOpen","toggleQrCode","isPreviewModalOpen","togglePreview","isTagsModalOpen","toggleTags","isMetaModalOpen","toggleMeta","isDeleteModalOpen","toggleDelete","isEditModalOpen","toggleEdit","completeShortUrl","ButtonDropdown","menuIcon","pieChartIcon","fixedWidth","linkIcon","qrIcon","maxVersion","pictureIcon","deleteIcon","Checkbox","checked","uuid","display","htmlFor","result","resetCreateShortUrl","UseExistingIfFoundInfoIcon","isModalOpen","toggleModal","normalizeTag","replace","customSlug","shortCodeLength","findIfExists","TagsSelector","CreateShortUrlResult","shortUrlCreationResult","shortUrlCreation","setShortUrlCreation","moreOptionsVisible","toggleMoreOptionsVisible","reset","renderOptionalInput","FormGroup","Input","renderDateInput","currentServerVersion","disableDomain","versionMatch","disableShortCodeLength","onSubmit","preventDefault","shortUrlData","required","Collapse","upIcon","downIcon","inputValue","handleDeleteUrl","identity","shortUrlDeletion","errorCode","hasThresholdError","hasErrorOtherThanThreshold","close","threshold","ModalFooter","saveTags","shortUrlTags","shortUrlMeta","setValidSince","setValidUntil","setMaxVisits","parseInt","shortUrlEdition","setLongUrl","Button","showCopyTooltip","Card","inverse","CardBody","bind","Tooltip","reduxConnect","HorizontalFormGroup","ServerForm","initialValues","setName","setUrl","setApiKey","ImportServersBtn","createServer","history","serversImported","setServersImported","serverData","onImport","serversExporter","renderServers","loadServer","exportServers","componentDidMount","listServers","nav","inNavbar","DeleteServerModal","deleteServer","showModal","hideModal","editServer","serversImporter","fileRef","importServersFromFile","createServers","click","accept","files","SELECT_SERVER","toSemVer","getServerVersion","memoizeWith","findServerById","FETCH_SERVERS","assocId","localList","getDataAsArrayWithIds","Array","isArray","Error","homepage","remoteList","reduce","listServersAction","Message","Object","ServersImporter","csvjson","file","Promise","reader","FileReader","resolve","addEventListener","content","toObject","readAsText","ServersService","allServers","serversObj","dissoc","saveCsv","csv","blob","Blob","msSaveBlob","link","createElement","URL","createObjectURL","setAttribute","visibility","appendChild","removeChild","ServersExporter","serversService","toCSV","PaginationDropdown","toggleClassName","ranges","setValue","itemsPerPage","Infinity","ceil","formatter","Intl","NumberFormat","prettify","SimplePaginator","setCurrentPage","dropLabelIfHidden","label","startsWith","renderGraph","isBarChart","stats","highlightedStats","hasHighlightedStats","HorizontalBar","Doughnut","labels","acc","highlightedKey","highlightedData","zipObj","legend","position","scales","xAxes","ticks","beginAtZero","stacked","yAxes","tooltips","intersect","yLabel","onHover","chartElement","graphData","datasets","borderColor","borderWidth","generateGraphData","height","determineHeight","getElementAtEvent","chart","_index","_chart","GraphCard","footer","CardHeader","CardFooter","toLowerIfString","toLower","pickKeyFromPair","pickValueFromPair","SortableBarGraph","sortingItems","pairs","sortedPairs","sortBy","reverse","getSortedPairsForStats","sortedKeys","sortedHighlightedPairs","currentPageStats","fromPairs","currentPageHighlightedStats","splitEvery","highlightedPages","determineCurrentPagePairs","renderPagination","firstPageLength","i","extraHeaderContent","withPagination","determineStats","activeCities","visitType","referer","userAgent","visitLocations","countryCode","countryName","regionName","cityName","latitude","longitude","timezone","loadingLarge","cancelLoad","isLastPage","loadVisits","parallelRequestsCount","parallelStartingPage","pagesRange","pagesBlocks","loadPagesBlocks","concat","shortUrlVisits","loadVisitsInParallel","all","flatten","cancelGetShortUrlVisits","getShortUrlDetail","VisitsHeader","shortUrlDetail","shortLink","longLink","fromNow","selectedBar","VisitsTable","selectedVisits","setSelectedVisits","isSticky","matchMedia","headerCellsClass","matchMobile","matches","isMobileDevice","setIsMobileDevice","dir","order","setOrder","resultSet","useMemo","allVisits","filteredVisits","visit","browser","os","country","city","includes","visitMatchesSearch","searchVisits","sortedVisits","sort","b","greaterThan","smallerThan","sortVisits","total","visitsGroups","calculateVisits","setPage","end","start","listener","removeEventListener","flat","checkIcon","isSelected","v","highlightedVisitsToStats","highlightedVisits","highlightedVisit","OpenMapModalBtn","processStatsFromVisits","normalizeVisits","setStartDate","setEndDate","showTable","toggleTable","tableIsSticky","setSticky","unsetSticky","setHighlightedVisits","determineIsMobileDevice","highlightVisitsForProp","newSelectedBar","normalizedVisits","propEq","showTableControls","browsers","referrers","countries","cities","citiesForMap","mapLocations","row","block","chevronDown","rotation","onEntered","onExiting","amount","modalTitle","locations","renderVisitsContent","MapModal","mapIsOpened","openMap","closeMap","dropdownIsOpened","toggleDropdown","openDropdown","locationsToShow","setLocationsToShow","buttonRef","openMapWithLocations","filtered","filterLocations","mapIcon","Dropdown","OpenStreetMapTile","TileLayer","attribution","contentClassName","Map","bounds","zoom","center","latLong","calculateMapProps","count","Marker","Popup","BROWSERS_WHITELIST","visitHasProperty","propertyName","updateLocationsStatsForVisit","updateCountriesStatsForVisit","updateCitiesStatsForVisit","osStats","updateOsStatsForVisit","browsersStats","updateBrowsersStatsForVisit","referrersStats","updateReferrersStatsForVisit","citiesForMapStats","currentCity","parseFloat","updateCitiesForMapForVisit","visitLocation","bowser","parseUserAgent","split","visitsParser","TagBullet","tagsList","inputProps","onlyUnique","renderTag","onRemove","classNameRemove","getTagDisplayValue","other","renderInput","addTag","otherProps","inputLength","suggestions","slice","highlightFirstSuggestion","shouldRenderSuggestions","getSuggestionValue","suggestion","renderSuggestion","onSuggestionSelected","onSuggestionsClearRequested","onSuggestionsFetchRequested","addOnBlur","TagCard","DeleteTagConfirmModal","EditTagModal","currentServerId","deleting","deleteTag","tagDeleted","doDelete","tagWasDeleted","handleOnClosed","tagDelete","onClosed","saveTag","tagWasEdited","tagEdited","showColorPicker","tagEdit","toggleColorPicker","colorIcon","Popover","disableAlpha","hex","editing","forceListTags","noMargin","tagsCount","filteredTags","tagsGroups","group","filterTags","renderContent","action","pick","LIST_TAGS_START","LIST_TAGS_ERROR","LIST_TAGS","renameTag","rejectTag","tagToReject","listTagsActionFactory","force","factory","Bottle","container","mapActionService","actionName","serviceName","lazyService","propsFromState","actionServiceNames","provideCommonServices","provideShortUrlsServices","provideServersServices","provideTagsServices","provideVisitsServices","provideUtilsServices","combineReducers","serversReducer","selectedServerReducer","shortUrlsListReducer","shortUrlsListParamsReducer","shortUrlCreationReducer","shortUrlDeletionReducer","shortUrlTagsReducer","shortUrlMetaReducer","shortUrlEditionReducer","shortUrlVisitsReducer","shortUrlDetailReducer","tagsListReducer","tagDeleteReducer","tagEditReducer","composeEnhancers","compose","store","createStore","reducers","applyMiddleware","ReduxThunk","basename","getElementById","process","origin","fetch","indexOf","ready","unregister","checkValidServiceWorker","registerServiceWorker","versionToMatch","matchesMinVersion","compare","versionIsValidSemVer","defaultValue","getTextClassForType","cardClasses","getClassForType","preloader","spin"],"mappings":"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","file":"static/js/main.c9887935.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\nimport { rangeOf } from '../utils';\n\nconst HEX_COLOR_LENGTH = 6;\nconst { floor, random } = Math;\nconst letters = '0123456789ABCDEF';\nconst buildRandomColor = () =>\n  `#${rangeOf(HEX_COLOR_LENGTH, () => letters[floor(random() * letters.length)]).join('')}`;\nconst normalizeKey = (key) => key.toLowerCase().trim();\n\nexport default class ColorGenerator {\n  constructor(storage) {\n    this.storage = storage;\n    this.colors = this.storage.get('colors') || {};\n  }\n\n  getColorForKey = (key) => {\n    const normalizedKey = normalizeKey(key);\n    const color = this.colors[normalizedKey];\n\n    // If a color has not been set yet, generate a random one and save it\n    if (!color) {\n      return this.setColorForKey(normalizedKey, buildRandomColor());\n    }\n\n    return color;\n  };\n\n  setColorForKey = (key, color) => {\n    const normalizedKey = normalizeKey(key);\n\n    this.colors[normalizedKey] = color;\n    this.storage.set('colors', this.colors);\n\n    return color;\n  }\n}\n\nexport const colorGeneratorType = PropTypes.shape({\n  getColorForKey: PropTypes.func,\n  setColorForKey: PropTypes.func,\n});\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport * as PropTypes from 'prop-types';\n\nconst propTypes = {\n  to: PropTypes.string,\n  children: PropTypes.node,\n};\n\nconst NotFound = ({ to = '/', children = 'Home' }) => (\n  <div className=\"home\">\n    <h2>Oops! We could not find requested route.</h2>\n    <p>\n      Use your browser&apos;s back button to navigate to the page you have previously come from, or just press this\n      button.\n    </p>\n    <br />\n    <Link to={to} className=\"btn btn-outline-primary btn-lg\">{children}</Link>\n  </div>\n);\n\nNotFound.propTypes = propTypes;\n\nexport default NotFound;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ListGroup, ListGroupItem } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronRight as chevronIcon } from '@fortawesome/free-solid-svg-icons';\nimport { serverType } from './prop-types';\nimport './ServersListGroup.scss';\n\nconst propTypes = {\n  servers: PropTypes.arrayOf(serverType).isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nconst ServerListItem = ({ id, name }) => (\n  <ListGroupItem tag={Link} to={`/server/${id}/list-short-urls/1`} className=\"servers-list__server-item\">\n    {name}\n    <FontAwesomeIcon icon={chevronIcon} className=\"servers-list__server-item-icon\" />\n  </ListGroupItem>\n);\n\nServerListItem.propTypes = {\n  id: PropTypes.string,\n  name: PropTypes.string,\n};\n\nconst ServersListGroup = ({ servers, children }) => (\n  <React.Fragment>\n    <div className=\"container\">\n      <h5>{children}</h5>\n    </div>\n    {servers.length > 0 && (\n      <ListGroup className=\"servers-list__list-group mt-md-3\">\n        {servers.map(({ id, name }) => <ServerListItem key={id} id={id} name={name} />)}\n      </ListGroup>\n    )}\n  </React.Fragment>\n);\n\nServersListGroup.propTypes = propTypes;\n\nexport default ServersListGroup;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Message from '../../utils/Message';\nimport { serverType } from '../prop-types';\n\nconst propTypes = {\n  selectServer: PropTypes.func,\n  selectedServer: serverType,\n  match: PropTypes.object,\n};\n\nexport const withSelectedServer = (WrappedComponent, ServerError) => {\n  const Component = (props) => {\n    const { selectServer, selectedServer, match } = props;\n    const { params: { serverId } } = match;\n\n    useEffect(() => {\n      selectServer(serverId);\n    }, [ serverId ]);\n\n    if (!selectedServer) {\n      return <Message loading />;\n    }\n\n    if (selectedServer.serverNotFound) {\n      return <ServerError type=\"not-found\" />;\n    }\n\n    return <WrappedComponent {...props} />;\n  };\n\n  Component.propTypes = propTypes;\n\n  return Component;\n};\n","import qs from 'qs';\nimport { isEmpty, isNil, reject } from 'ramda';\nimport PropTypes from 'prop-types';\n\nexport const apiErrorType = PropTypes.shape({\n  type: PropTypes.string,\n  detail: PropTypes.string,\n  title: PropTypes.string,\n  status: PropTypes.number,\n  error: PropTypes.string, // Deprecated\n  message: PropTypes.string, // Deprecated\n});\n\nconst buildShlinkBaseUrl = (url, apiVersion) => url ? `${url}/rest/v${apiVersion}` : '';\nconst rejectNilProps = reject(isNil);\n\nexport default class ShlinkApiClient {\n  constructor(axios, baseUrl, apiKey) {\n    this.axios = axios;\n    this._apiVersion = 2;\n    this._baseUrl = baseUrl;\n    this._apiKey = apiKey || '';\n  }\n\n  listShortUrls = (options = {}) =>\n    this._performRequest('/short-urls', 'GET', options).then((resp) => resp.data.shortUrls);\n\n  createShortUrl = (options) => {\n    const filteredOptions = reject((value) => isEmpty(value) || isNil(value), options);\n\n    return this._performRequest('/short-urls', 'POST', {}, filteredOptions)\n      .then((resp) => resp.data);\n  };\n\n  getShortUrlVisits = (shortCode, query) =>\n    this._performRequest(`/short-urls/${shortCode}/visits`, 'GET', query)\n      .then((resp) => resp.data.visits);\n\n  getShortUrl = (shortCode, domain) =>\n    this._performRequest(`/short-urls/${shortCode}`, 'GET', { domain })\n      .then((resp) => resp.data);\n\n  deleteShortUrl = (shortCode, domain) =>\n    this._performRequest(`/short-urls/${shortCode}`, 'DELETE', { domain })\n      .then(() => ({}));\n\n  updateShortUrlTags = (shortCode, domain, tags) =>\n    this._performRequest(`/short-urls/${shortCode}/tags`, 'PUT', { domain }, { tags })\n      .then((resp) => resp.data.tags);\n\n  updateShortUrlMeta = (shortCode, domain, meta) =>\n    this._performRequest(`/short-urls/${shortCode}`, 'PATCH', { domain }, meta)\n      .then(() => meta);\n\n  listTags = () =>\n    this._performRequest('/tags', 'GET')\n      .then((resp) => resp.data.tags.data);\n\n  deleteTags = (tags) =>\n    this._performRequest('/tags', 'DELETE', { tags })\n      .then(() => ({ tags }));\n\n  editTag = (oldName, newName) =>\n    this._performRequest('/tags', 'PUT', {}, { oldName, newName })\n      .then(() => ({ oldName, newName }));\n\n  health = () => this._performRequest('/health', 'GET').then((resp) => resp.data);\n\n  _performRequest = async (url, method = 'GET', query = {}, body = {}) => {\n    try {\n      return await this.axios({\n        method,\n        url: `${buildShlinkBaseUrl(this._baseUrl, this._apiVersion)}${url}`,\n        headers: { 'X-Api-Key': this._apiKey },\n        params: rejectNilProps(query),\n        data: body,\n        paramsSerializer: (params) => qs.stringify(params, { arrayFormat: 'brackets' }),\n      });\n    } catch (e) {\n      const { response } = e;\n\n      // Due to a bug on all previous Shlink versions, requests to non-matching URLs will always result on a CORS error\n      // when performed from the browser (due to the preflight request not returning a 2xx status.\n      // See https://github.com/shlinkio/shlink/issues/614), which will make the \"response\" prop not to be set here.\n      // The bug will be fixed on upcoming Shlink patches, but for other versions, we can consider this situation as\n      // if a request has been performed to a not supported API version.\n      const apiVersionIsNotSupported = !response;\n\n      // When the request is not invalid or we have already tried both API versions, throw the error and let the\n      // caller handle it\n      if (!apiVersionIsNotSupported || this._apiVersion === 1) {\n        throw e;\n      }\n\n      this._apiVersion = 1;\n\n      return await this._performRequest(url, method, query, body);\n    }\n  }\n}\n","import ScrollToTop from '../ScrollToTop';\nimport MainHeader from '../MainHeader';\nimport Home from '../Home';\nimport MenuLayout from '../MenuLayout';\nimport AsideMenu from '../AsideMenu';\nimport ErrorHandler from '../ErrorHandler';\nimport ShlinkVersions from '../ShlinkVersions';\n\nconst provideServices = (bottle, connect, withRouter) => {\n  bottle.constant('window', global.window);\n  bottle.constant('console', global.console);\n\n  bottle.serviceFactory('ScrollToTop', ScrollToTop, 'window');\n  bottle.decorator('ScrollToTop', withRouter);\n\n  bottle.serviceFactory('MainHeader', MainHeader, 'ServersDropdown');\n  bottle.decorator('MainHeader', withRouter);\n\n  bottle.serviceFactory('Home', () => Home);\n  bottle.decorator('Home', connect([ 'servers' ], [ 'resetSelectedServer' ]));\n\n  bottle.serviceFactory(\n    'MenuLayout',\n    MenuLayout,\n    'TagsList',\n    'ShortUrls',\n    'AsideMenu',\n    'CreateShortUrl',\n    'ShortUrlVisits',\n    'ShlinkVersions',\n    'ServerError'\n  );\n  bottle.decorator('MenuLayout', connect([ 'selectedServer', 'shortUrlsListParams' ], [ 'selectServer' ]));\n  bottle.decorator('MenuLayout', withRouter);\n\n  bottle.serviceFactory('AsideMenu', AsideMenu, 'DeleteServerButton');\n\n  bottle.serviceFactory('ShlinkVersions', () => ShlinkVersions);\n  bottle.decorator('ShlinkVersions', connect([ 'selectedServer' ]));\n\n  bottle.serviceFactory('ErrorHandler', ErrorHandler, 'window', 'console');\n};\n\nexport default provideServices;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ScrollToTop = ({ scrollTo }) => class ScrollToTop extends React.Component {\n  static propTypes = {\n    location: PropTypes.object,\n    children: PropTypes.node,\n  };\n\n  componentDidUpdate({ location: prevLocation }) {\n    const { location } = this.props;\n\n    if (location !== prevLocation) {\n      scrollTo(0, 0);\n    }\n  }\n\n  render() {\n    return this.props.children;\n  }\n};\n\nexport default ScrollToTop;\n","import { faPlus as plusIcon, faChevronDown as arrowIcon } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Collapse, Nav, Navbar, NavbarBrand, NavbarToggler, NavItem, NavLink } from 'reactstrap';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport shlinkLogo from './shlink-logo-white.png';\nimport './MainHeader.scss';\n\nconst MainHeader = (ServersDropdown) => class MainHeader extends React.Component {\n  static propTypes = {\n    location: PropTypes.object,\n  };\n\n  state = { isOpen: false };\n  handleToggle = () => {\n    this.setState(({ isOpen }) => ({\n      isOpen: !isOpen,\n    }));\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location !== prevProps.location) {\n      this.setState({ isOpen: false });\n    }\n  }\n\n  render() {\n    const { location } = this.props;\n    const createServerPath = '/server/create';\n    const toggleClass = classnames('main-header__toggle-icon', {\n      'main-header__toggle-icon--opened': this.state.isOpen,\n    });\n\n    return (\n      <Navbar color=\"primary\" dark fixed=\"top\" className=\"main-header\" expand=\"md\">\n        <NavbarBrand tag={Link} to=\"/\">\n          <img src={shlinkLogo} alt=\"Shlink\" className=\"main-header__brand-logo\" /> Shlink\n        </NavbarBrand>\n\n        <NavbarToggler onClick={this.handleToggle}>\n          <FontAwesomeIcon icon={arrowIcon} className={toggleClass} />\n        </NavbarToggler>\n\n        <Collapse navbar isOpen={this.state.isOpen}>\n          <Nav navbar className=\"ml-auto\">\n            <NavItem>\n              <NavLink\n                tag={Link}\n                to={createServerPath}\n                active={location.pathname === createServerPath}\n              >\n                <FontAwesomeIcon icon={plusIcon} />&nbsp; Add server\n              </NavLink>\n            </NavItem>\n            <ServersDropdown />\n          </Nav>\n        </Collapse>\n      </Navbar>\n    );\n  }\n};\n\nexport default MainHeader;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAABfpAAAX6QHvggP+AAAAB3RJTUUH4AgCCwINADvDtgAAIABJREFUeNrtnXe4XFW5/z9vOqGEAGIQuVSBUEQlgIQOl0gNV0W4KEVDEcRKF+RS9Frx+pMICSShiIBY0PtTbKD0KqgIAqKgIggC0gIJqd/7x95HJ4eTk5ldZvae+X6e5zwz5zxn9lrr3Wt9533XXutdYIwxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcZUiahLRSWNAtYB1gJWBEYDywGLgDnAXOBZ4C8R8fgAnycifMeNMYUKE5KGS1pT0raSZkiar9Z5RNLxksZLGitpSGMZxhiTV6w2kPQpSX+V9KqK4yVJd0naV9IYi5YxpmVPquH9fpJ+kdGTapUnJU2TtLnvgjGmKaGSNETSLpIeVue4WtLavivGmMFEawVJ96kaLJA01WGiMeafXlWDZ3WGpEWqHn+VtJmFyxiHgKRP6q5R9TnWd82YahJli1VEIGkD4B5gpZrY5Rpg/4h41V3EmOowpEyvKhWrvYF7ayRWAHsDt0hayeGhMV0uWA3CdRTwA5JV6XVjy9QrHGfRMqZLQ8KGMHAP4EfUaPvPUngM2MjhoTFdKFipaG0G/BIY1SV2uj8iNvd+RGO6KCRMly+sDtzSRWIFsJmkmRYrY7pIsNIBfSUwpgttdbikKX3CbIypaUjYMG/1eeDkLrbX88DaETHbXceYmgpWKlqrAk9T8pPHCvA7YHNADhGNqVlI2LDt5tYeECuATYE9LFbG1Dck3A/4fk8ZLiL81NCYmnlYKf/Ta4aTdLLFypiaeViSDgYu60HbPR8Rq/SAMP/Ti5Q0HFiBZMnKcsA84O8RsbD//xpTVcG6m2QbSy9yWkR8tssF6/Uk83YHAdsCY4HlSQ4CmQv8EfgDcAdwRUQ8afEylRQsSZsAvwZG9Kj97gUm9HkYXShWlwHvSr2pZvrKfOB24H0R8YSHlymavHNYB/WwWAGMB97QTeFf+vphSf8ADibZuN7sF9sIYCfgcUkzPbxMZQRL0kjgYz1uvxHAh7rG3U4W/04HpgJ55+cOl3SjpLEeZqYKHtYGJHMZvc5u6WR03b2rYZKuAj5Y4GV3BJ6W9G+NHpwxnRKsITYhE4DV6zgY+9X5B8ABJRQzDLhP0ps8CW86KVgH2Hz/ZHwdB2PDcoX3A3uUWNRKwD2StnBXMZ0SrANtviVCn7qGgkF7Fv6uCNwh6c3uLqatgiVpOWCozfdP3lhjsbqSZG1VOxgF3C5pQ89nmXZ6WJvYdEuwVk3r/QZgcpvLHA3cCazpbmMsWJ1hnZo+Kfw4yaLQdrMy8BdJ67vrmHYI1qo23RKsSc1SQqdbbk7oYBWGAg9JelNaHy97MKUJ1oo23RKMpH6nAx1agToMA+6U9JaI8N5DY8FqE1EXwWrwYj5ZkSqNBa7vW1xqTBmCtdime41g1aOiyfabE2jfk8FmWBn4saRR/UTVmEIE6yWbrn6i1SAEH65g9TYBLuwTVWOKFKyXbboleJokmV0dvKvJwNoVreIhkt7i7mSKFqynbLol+FvVBSt9CjeMZKFolblYUjgsNEUK1v023ZKCFRGVntdLw6yJdGbdVSu8BVjZYaEpTLAi4gGb7rV2rIFXMI16PCA4yV3KDKg9OUKM56jWk6ZOMz0ijqliLvNUSPcGflibjmkXyxQYEgJcavMtwdGSplZxnKV1+kidjOl1WaZowbrG5nsNH5Z0YdXCwzSly641s+UYdydTpGD9ES8gHYgjJc2sgqeVPhkM4AygbpuzV3ZXMoUIVuo9/BX4u004IIdLmiWpoymkU9Fcg2T+qpe+TI0Fa8mBEBGLgDNtwqUyBbigAuHhB0k2Z9eNF9yFzGu0J2fIsSbwIN4MPRjTI+KYDoWEY4Hnamq3dSPiz+4+phC3O318/wTJSb9m6Rwt6fw2C9U/y66x3R5z1zGFCVa6Lw3gHJtxmRwjaUbb3OZ/TfifUVN7zaz6zgFTM8HqGxgRcS1wh025TI6QdFE/D6hML+tz1HPuCuAsdxczoOYUNDgmArfanE1xUUQcXmY4mHq/fwdWr6F9HgbGA4u92N0U6mE1eFq3AT+1OZtiiqQZZWUkSMXqsJqKFcBREWGxMuV5WOk3+2iSvFDL26xNUcrew/Q+PEw9j9G6NiImuWuYUj2s9Jt9DnCYTdo0R0uaXoInsVtNxeop4OC+sNaYUgUr9RS+C0y3WZvmg5JmFrwi/tQa2mEOMCkinu4La40pNSRsEK5hwH3ARtTv6KtOcXFETMkTHqZeyS7AL2rW9kXALhFxcxVT85gu9bAaQsOFwE54n2ErfEDSrIa1bVm8W4BTatj2HS1WpmMeVsMgWg+4B++6b4WZEXFklsGb5o96hORw0rqwVUTc7dtuOuZhNfAosDM1OE2mQhwhaVorYtXgkZ1fI7FaCGwSEXd7gt1UwsNqGFBrAA/Y02qJCyPig816WpLGkaT7qYtg7RwRNzoMNFXysBJFjHgSGAfcbHM3zVEtJgE8viZitRjYMyJuTPuG77SplofVzxP4IvAxYIRN3xSXAEekuceWFg6uCjxbg7bMJ1m6cKNvq6msh9UwsIiIk4AtgNk2fVO8H5jZaMN+3ivU50isrfrCQGPq4mH17XUbCXwU+KJvQVPMjIgjl2LTOVT/cNS3R8SdnrMytfCwGj2CtNPOi4gvAUNJjk5f4FsxKEdImt7f05L05YqL1UJga4uVqaWHtQyPaxqwF0mWAffsgZkREUelthsJ/InkkIkqMh/YNSKcdsjU08MayONKX+dFxBTgTcD2wLeAP/v2vIYj+5IAkmwUrqpYCdg3Im71nJXpGg9raR5X+n4FYANgK5IFqONS7+t1JE/G+j/GfxH4R/ozGti0i+/bZcAEkkR3VWRSmonWmO4VrMEELP19KMkJPcun3mFj/ecAr0TE3PR/byDZ02jax0JgQkTca1OYnhOsnGIXJFlQd/dtbhubRsQDnmA3ZdG1p+tGhEhOPL7Jt7kt7GyxMvawivG2bgG28+0uhVdJttvcYFMYe1j5xQpgR3yqTxksAPaxWBkLVnGhIemhnJPwBuyimRQRP/fSBeOQsBxvK4Dr8dPDItguPd7NGAtWycJ1PcnaLtM6i4DxEfEHm8I4JCxXqPre7g44zUk2doiIPzgMNBasst3Jf20FWgi8A7jdXaBpFgN7RMTtXrpgHBJ2xuMK4BZgorvCoMwjeRp4nU1hLFgdCg/TTBFDgRtINl2bgdk2Iu6wZ2UcEnY+PFxEMqd1g7vDgEy0WBl7WNX0um4kWWRqkhQxW0XEPTaFsYdVzRBxJ7wiHpKsCxYrY8GqeohIsiK+158e7h0R93jpgnFIWA9vaxTwC2DbHmz+XhHxY/cCY8Gqn3DdSu8seVhAkiLG222MBatmQtW45OE6kr2H3W6rzSLid34aaKqM57AGUvEllzxMIllc2s1sb7Ey9rAcHlYdH8Vl7GF1Y4hIsj7rzi5q1gKSCXaLlbFgdVuImIaH/w7c0SXN2sfJ94xDwu73toaRpKapc3i4a0Rc77tpLFi9I1w3ATvUrNqLgM0j4kHfQeOQsDeEqu/tLtTvCLGtI+JBh4HGgtUrLulrszzUZU5r94j4lZcuGIeE9rruAraqaPVeBSZHxLW+U6buDLMJcovV/sDIilZvMcnShevtWRnTe+LU+P5kSQ+r2uzYv96ttrMoexnjkLCNQpXuLVwFOAQ4CxhT8WpvExF35WjzisA6wJuBTYCNgQ2BscDKwPIkud5fTH8eBR4CfgfcBzwMvJAeYruEHY0xBQtUn3eQvh8l6bOqB4skbdaMh9PPYxwiaTVJ+0v6vqTnc9ZjgaSbJR0raS1JwxttaowpXrjGSrpC0suqD7u2IlapIG8l6SeSXiipTq9Iuj8Vw2EWLWOKFaq3SPq6pMU1EqpFkvZqoY1DJU2WdG2b6/kbSUdLWtnCZUyG8C99HSlpO0k/Uv2YJ2m3JtsbqSD/b4fr/BtJe6c5xyxcxrQgVgdKui/1UurIlssa9GnoN1TS/0iaW6G6f1/SCu6NxgwiUun74yU9onqz3WBi1SDKG0q6vqJteETS7va0zLKIXhGpvsfp6eP6dwIXAKNq3KyFJIec/nJpywUalmPsDHwbWK3Ktwn4aER8zcPS9LRgNQjVkcCXu6A5C4HdIuKmwbyqVKz2AH4IDK1J284BTooIu1qmdwSrwbtYDzgNeBfJgsduYK+I+HETntUxwNQaiVUflwOHAou90NR0rWD1C/22Bj4CHACM6KJm7hkRP2lCqA8DLqlxOy8GjrBoma4TrH7Hcm0IzKL7DkFdCLx9sOPjG+ywA8lBsHXf3H4pcHiayseY7vGw0kWT5wNr0Z15vraIiN8uaz+epAkkx5KN7JJ2Xw4cBiyyp2VqP7AlfUDS/cA1wNpdKla7LEus0nVWY9JQamQXtf19wIXAMC95MLUJGfrNT60E7EmyNGFMF9+feSRzVjcAg3pWaSh4LrBZWbcAmJP+vEJypuEwYHTDT1n9aQpJbq9j0tDYOCSsvlhJGgscBXyO7l+SsZDkKK6fNpOWRdJBwGUU/0RwNnAFcC1J6ph/kGQxXZR6syPTL431SQ7lOIQkLU0ZXJFe3xPxptKCNUzSuZKeVe/Q9MpvSStJerTg8u+X9E5JK0uKFu7VKEkTJf24JLtcme6H9MAwlRSrvSU9od5i+xZtdEKBZT8j6eNZBaHf1qe9JT1Ygn1mpfsiPUBMpbyq7/WYUC2SNL5FO71e0tMFlX+fpDWb9eyaEa40MeCVJdjqCkk+9anHGFJBoep7Owv4jx67Hzs2e25gw/8cALyugLKvI0mr/EQRqYzTOUciYnFEHAScWbCtDgKuSgXRI9l0TqwkTe1Bz2rPDPYaXtBBGN+RNLwN9/XUEpIizmpMv2xMu0Xroz0mVq9KekdGAZhcQPk3Shpd9oBvqPOJZc1pefSYtnpXkkZIerHHBGuHLHNGaSiUN2vok32pitvsQX+kBDt+3RPxnsNqG+mcyQXASj02Z3VzxjmjFYGJOcpeBPxnRLzQznuctnUq8LGCL38IMBOviDdt8q7WTXOT98qc1YScNttC0vwcdbg6i2dXsKd1fAlpqWf66aE9rHZ4V1vQXWlglsZiYNuIuDvndXYC8kyUf6rB9m2/36mn9WXgpIIvfzjwDYuWBatsDugRm+8TEXcV4Nm8J8dnr4yIBzoZOvUTrWMLvvxBwBVeEW/BKitEGA5s0+2RbypWP87r2UgakdNel3fKu1qKaJ0PfDK1UVEcSJK5wgdbWLAKZxW6O+vCAmDniLimoOutliMcXADcWxXDNIjW54H/SkPmojiMcjaEmx4XrOWp9wk2y2KbiLipwG/61XN8ti/jQmVoEK3PAB8u+PIHk8xpecmDBatQwVq+S228U0T8uojtLg3kWfrxEEmerUrRIFrTgBMLDg//EycBtGAVyEK6LzHbfGD7vqO4Cp4vyuONPlpw2FWGaJ0DnFqwaE0BplH/PPcWrArwGPBEF9l1ITA5Im4t6Rs9j2C9UOXkd/3mtD5S8OWPAC72hmkLVt5O+grweBfZdb9mM4V2gMqP1AbROg/4aMGXP5jk6aHDQwtWLn7bJTbdPSJ+VEIY2MirOT47tg5G7LeN5+SCL38oMB2wp2XByvCVn3SaWTW35WJg84i4rg1l5Zk0X6cuq8AbROuLwHEFX/5wkiUPXhFvwWq9Y6YHhD5aY1tuGxH3t+kb+6Ucn90QGFEXz6JBtL6SilaRDwzeC3zLc1oWrKx8oKZ2nBQRd5UcBjbyTI7Pbg6sWqdTZ/qJVtEr4t+devcWLdNaWJgu7rujRlkX5kraowO2GilpYY56v6OufSR9Pa2EzKWXeMO0ydohHyuhQ5bBpMZ6t9lWd+ao90Vd0Ec+UcL9vNDhocnSGTetgVjt1imxSss9Pmf916/rwGzoJx8q+J4ulnRqJ++rqa947VpCcreieHsF7LOlpAU52vCNOg/MBtE6qYR+8h6LlsnSGfeoWGi4WNKbq9CZ0xOZn8vRlvmStuqS/nJcwff5OUkbW7RMFtE6oEKCtXtVOnE615L3OPi/pBP4te0jDf3kyILv9S8ljfJINFk65oEVyMG+bwXtUoSYf6/u5/o1iNbJBXvkx9jLMlk75X4552yyMq/vaWAFbTJC0p8KOtevWzzyUwu89wskreHRZ7J2xl06IFjbVvlbNp10LuRcv7p7Ew395Ogilzp4BJo8nXHPNorVjlUfxJLeKOn5gtp7Xt0zczb0k1MKDA/HOyw0eTrjXiWHhwskbV0Xj0PSGQW2/dy6L55s6CefLMgmPszC5O6UB5a0TmuhpF1qZouVJf21QBtM72BbIl3OMrag6328AHv8Q9LyHnWmiDmtFwscqM9Kmlinb9MGW7y/YOGe1s5z/dIlCqMkTU2/NG5KhTjvNUPSZwuwxxEeeaaIjr6mpF8V0CHvrusToQbR+nbBonVeu0RL0grpEotGbpK0agHXHi7p5py2uFeSjwszhXX492acfH5a0rvqPkeRehOrSXqkYNGa3oa6j5Z021LKv0PSmALKWF/SCznsMEfSOI80U4h3kb5fXtJ2kq5uogNeJWmipNFdZo9tSpjXK2XfYUMY+LNllH+bpDF5y0/T0uTZlrW/R5wpa+AOlTQhfaI4Jf3ZM900PKRL29z3un8JojWrjPAwvW4z3CRphTzCKWmd1KPOJdzGmOJF67gSROtcSZHX22qo46daLP+2AkTr4hzt/4OkEe5lxpQjXqeWIFoXFREepqH73Azl3y5pxRzl7qrs2VpfkLSWe5Yx5XlaJ5QgWhfkCQ8ljZP0ZI7yb00n6rPMmY1Nl69kTcmzpReQGlOuaJ1VQl6xs3PU65wCyr+5z9NqRUDSDeP35Ch3sntW53DS/S6m4bSZM4AzC778GhnFaivg+ALK3x64TtLqrZwAFBHzgUdylLuKe5YFy5QvWmcDJxZ46cuzeHvA1ALrMB8YnuFzj+Uoc4WMXq47owXLtCha5wCnF3DJx4HftDII0zrsDmxTULPOBnaNiCcyiMHzOcpdPoPtjwZGWrQsWKZ10foM8Jmcl7s6Il5oNhRLJ7uHAV8oyKs6JA1zF/S1rUWG5yh/YYbPHAPM9HjLzzCboCdF63RJrwCfyygY12Qodz1gs5xNWATsHBG3ZxSqPlbPUYfZGT4j4GBgJUnvBBbX6eRte1imCqL1eeC0DJd4Cfhths9NyenZABwbEbfnXLQawLo56vBKhs/0LTadDFwKDHV4aExrA7fv9dMtPtb/VePnmyxrRJpTKncSvQLavZyk3+eox79nsPEf+relW7eHGdMO0Tq9ldzvGRZsTsopVo/mzY3VUJfVJb2cI2PDZi2WF5KeGeBa3+xLV2NvyyGhaS08/DRwSpMf+2WGonbLozHACa1M8i+DvYGsGTpeBp5p8TPjgIG2Eh0IXCxpuHuiMdk8rWbSr+yV4bq35PCufte34TlvG9MMHj/Pk+QxQ7n7LGPv4oy6H/xhD8t0ytP6b+CsQf51LvBAi9cdA2yUo3pXRcTLecUq9c62BnbIcalrM3xmC2CwTKVHADOW8T/GmEE8oqWdNvNUhmtukx5Gm4WXJK1bYPuuzuFdLZL09gxlfqvJ63/TnpYx2UXrlAEG1Z2N/9Pk9d6bQyR+3Wp5g7TnPTkn/l+StFKzdUlD0BUkPdjqAw2LlkNC03p4+Hleu7D02b7/aUEsNshRnd+2Ut7SQkFJbwSm5TTN9RHxUrN1Sf9vVWDNFso4BLjE4aEFy7QoWunrqSy593Beq5ciX3aD3xcgviuRrMzPe/rOORk+swkDPyEcjMOAK+t+mK0Fy3QkPEz3Hp6U/mlOhsvkecL3eJZB2+8zlwNvzmmK30fEzRk+9/aM5b0H+AZg0eqH9xKaZsLDL6UnMWfZg5fnVKLZrYaDDWHgG4Dv5hCNRi5utQ7AKGCfHGUelH5BHCNpgfceGtOixyJpkxY/F5K+kWOi+z0Z67utpMcLyqz6oqTlMtahCC71Aa4OCU02T+uBDCFKnjVUK2XYBnQocButTXYPxiciYm6GcPTdBZV/KHCJpGEODy1YpgXRanxtdvzmFKx1M4RC3wMuKqjZ9wGXZ0hUOJwkM0NRHAxMB4b3umhZsEzZIvf3HJfYrJ/X0gyzgSOBb+Ws/nzg8IiY16poRsQC4PyCzXk4cIHHrDElImlyjhN7HslR7hBJV+WYO/pq36GxLZbb+P5jJRyx9i2viDemPMHaNOOBqZL0qqQdsopGOu9zXoZyr5c0Mme7+14/UYJofT3PuZDGmKUP3Mj5xG5G1sHZkKHhihbKe0bSxhlC0cFE65QSzoX8rHuXMeWI1v/PMTCfkfT6PKKRhofNbHyeLWm7kmxQhmidYS/LmOIH6/E5B+bpBdRhqKSZg5SxUNJ+RXhWg3haxxYsWPMl/Yd7mDEFDlZJb8s5MBdI2jKPmKT1GL6U8HCOpIPKEKsBROvkgj2tpyWt7Z5mTLED9v6cA/OXkkbnFY3U0/pOw3VfaCWLakGidVLBntZPPQlvTLGD9cgCBuZ3i8gXlYrW5ZIeljS+TM9qENH6YMGi9bF2tsOYbhesPKfVNDI9rzeRit5y6Ybutg/yfkseigoP/yRpFfc0Y4qby/p2QYPzvLrni1pGZtesfMGhoTHFDdJxyzhBpqUsBnUOgfqtiP9QQTaZnWcJiDHmtR7FjAI9ikvq7lH0Cw8XFWCTj7q3GVNcWLhq+mRODg9fI1qfLcAeTxVxjqMx5l8D9OCCn5CdP1CoVVPRmlqAPfatsy2MqdrgHCXpuoJF64K6ZzFIPdAR6ZqzXKGye5kxxQ7ONST9tWDRmtoNqVckbZ7z4cQjaRJBY0yB4c+kHKdCL43/1wVeFulJ0FlZLGlD9zRjih+gB5WQL2pG3edwUg90dg4bHOPeZUw5nlYZmTkvrvux7znT8vwsS8ZUY0xzovWZEkTrvDqu02qwySE52v5nHw9mTLkD9OwyPK0a22V8mvMqC8/mTfNsjFm2aB1XgmhdWrfwMK3vipIezNjmV/Km4zHGNCdany5BtL7at+ShLsKV1vfajO2d5xXvxtRbtKZKGlIze1yWsa0LJa3Ybf3DhzKaSpGenExEnA6cVPDlPwxMaxTGGjAn4+eGduP4tmCZKovWl4BPFXz5oyR9DajLivisE+eLAW8mNKYD4eGZJYSH51Z9yUOaheIHOU7U8RyWMe0WrPT9qSWI1kVVDg8ljZb0m4xtmyNpefciYzrnaZ1SxjqtqubTkrS2pBcztut5SaPce4zpvvBwWhWXO0jaO0ebnpA0zD3HmM6LVhlLHi4cKBTtcHvzpJO+I+9ewnSO7xB7asbkF62TSwoPKzERnyY5fCJHW84owMZf6dtIXSUhN6auovXJEkTra31zWp0YoA1tOy1nOybkrMf5/a53rUXLmGqGh1/p5Ip4Sa9P9wK2/SCKVKi/tpTr3mvRMib/AD+1rDmtDnlZF+es+w9yfAF8fhnXvtmiZUx+T+vEEkTrgnaFhg3tmFJAvT+QsexmT+z5kXueMfkH+1klrYgvdZ1WQ/0nF5DjfqGkNTLUYVqL5VxnT8uY/IO+jHVaF7Wh3tvnWCS6xPxbhjp8NWvOLYuWMfkHfxlJAH9WYn3fLWluAXVcKOlNLZb9hbxhs0XLmGp6WndL2rR/WTnqOrLgp5zfaeVcxhyeVX+Os2gZk1+0yljysEDSf0ka22p9Gn4fLmlijvTHA/GcpPFN1ickzSrYLm9yzzMmv2idpHKYmx6asXazpyxLWlnSPpJ+m/Nk5wEfDrRgk3NLsMd8ScPK9rJ8bpnpatFKkwGeCvx3ScXMAR4C7gEeAB4DXgQWACsA44ANgLcBmwJvLKEOfwK2Bp6NiGXZ5MvAcSXZ4uyIOMM9z5j8ntYZ6k7mSdq5SVuc34b6bOq5LGOKEa3TulCwzmjSBjPbVJ8rB5q3M8ZUa06rE/zvYPNnA2RdaAfPSVrFPc6Y4kTrU10gVj/XIEfRd0is+jjFvc2YYkXr7BqL1e8kjV1W2CXpyx2q35xmn5y2ip8Smp4UrfTp4bHA12pW/XuA3SPi+b52DNLOEcBvgI3bPNYXAOtGxBNFX9jnEpqeo+Hcw/OAg4BFNan6NcD2zYhVynxg+w44JsOBjcq4sAXL9LpofRPYB3iqwtVdAMwEJgOv9tW/mTZGxHPACR2o84kOCY0pL0wcB3wd2L1iVXsROAL4TjMitZS27Qjc2IEvhcL1xR6WsVglntZTqad1IvBcRar2Q2CbiPhOzuv8sUN23cCCZUwJ4WH6Oj8iziHZ5nIpMLtDVboPeHdE7BsRv282BByE+R1qx5ZFLyC1YBnzWh6JiPenwnUJ7ZmUXwzcD+yfelVXFzjY1+2QHTcuOiq0YBmzdI/rIeADwPrAKSSbm4vmpdSb2wmYEBHfjYi5TT4FbJaNOmTKCYXfG3dPY5ZOo3CkR7+/NRWXien7dVq85Ow05LsNuAW4NSKezVifZa3D6nsa+ndg9Q6Y78mIeEOR4mvBMiaDWPT9DqxCkjZmArBh+vuqwEiSyftngb8BvwbuBR6LiAWDXbeJeswCHu9L5TJQvRpE7fvAfh0y2QJglYh42b3HmC4QwFb/V9JFDVtgLpM0cqDrSVpJ0m0V2Ea0h0NCY3pT4GaQrMlq5Ik0vPwV8DjJfNtbge2A1SpQ7TMj4izfPWN6yAuTNKOmG7W/Lakwx2iYu4Qx1SWdNL+CZM9jHdkMGCJpURET717WYEy1PatLaixWkDydHF7UU0ILljEVFKvUs7oIOKzmzRkNrFXUxSxYxlRTrC4nWbRad0YBa1uwjOlesfoG8N4uatpEC5YxXUYqVrOA93VZ0/YtzEbuJsZUxrO6hPrPWS2NoRGx2B6WMd3hWX23i8UK4N8cEhpTc88qfb0MeFeXN3e9ItLlWLCM6axndRlwcA80dyMvHDWmpp6VpEiPdT+4R5o9qRCRd/fhqQt1AAACUklEQVQxpiOidRVwQA81+dWIWM4eljH1E6tLe0ysAEY1psKxYBlTD7HauAfFqo/cubEsWMa0T6z68sRv2qMm2C3vk0ILljFtouFwi0eBDUhOyukl1sv7pNCCZUxnxOsRYHM6d/ZhJ8h9sKoFy5jO8QDJCTyLeqS9a1qwjKlxiBgRvybJytkLjJK0hQXLmHoL10MkpzPP7/KmDiNnqhkLljHVEK0/A+8GXu3ypuY6DdqCZUwFSJc8/BDYGPhzFzf1bZKGW7CMqbeH1ff6F+DNwE+6tKnjSeayLFjGdIl4zY6IPYGz6L55rWHA6lnXY1mwjKlgeJgK15nAG4Dfd1HzhgDrOCQ0psvCw/T9PyJiY2AX4Pvd0DxyLCC1YBlTA48rIm6IiHeSLH+YAdxb4yZlzo3lfFjG1FvMDgVOB8YBI4DhNRjXcyJieQuWMb3jcfX/23BgZWA5YHdgH2BLYFWS05erxpiIeMmCZYzFrPH3NUgmuTcE3gZsAqyX/nSSvSPiRxYsY8yyRGxE6o1tDOyV/owFVmmjN3ZiRJzju2OMaUnM0p+hkkZJGiPpKEm3q1yOylJfe1jGmAE9sfRvbyR5Mrk+sCPJ5uXXpx5aHraJiLssWMaYskPKFUnmwsaTbGZ+K8lTynFNhpQXR8QUW9YY0zYR6/f7UEmrSdpE0gmS7pK0QNJCSYvTH0maKWlY1nLtYRljCg8l078PAV5HMpm/CHg5Iv422GeMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjTJH8H2pZyjdGn2deAAAAAElFTkSuQmCC\"","import React, { useEffect } from 'react';\nimport { isEmpty, values } from 'ramda';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport './Home.scss';\nimport ServersListGroup from '../servers/ServersListGroup';\n\nconst propTypes = {\n  resetSelectedServer: PropTypes.func,\n  servers: PropTypes.object,\n};\n\nconst Home = ({ resetSelectedServer, servers: { list, loading } }) => {\n  const servers = values(list);\n  const hasServers = !isEmpty(servers);\n\n  useEffect(() => {\n    resetSelectedServer();\n  }, []);\n\n  return (\n    <div className=\"home\">\n      <h1 className=\"home__title\">Welcome to Shlink</h1>\n      <ServersListGroup servers={servers}>\n        {!loading && hasServers && <span>Please, select a server.</span>}\n        {!loading && !hasServers && <span>Please, <Link to=\"/server/create\">add a server</Link>.</span>}\n        {loading && <span>Trying to load servers...</span>}\n      </ServersListGroup>\n    </div>\n  );\n};\n\nHome.propTypes = propTypes;\n\nexport default Home;\n","import React, { useEffect } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { Swipeable } from 'react-swipeable';\nimport { faBars as burgerIcon } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport classNames from 'classnames';\nimport * as PropTypes from 'prop-types';\nimport { serverType } from '../servers/prop-types';\nimport { withSelectedServer } from '../servers/helpers/withSelectedServer';\nimport { useToggle } from '../utils/helpers/hooks';\nimport NotFound from './NotFound';\nimport './MenuLayout.scss';\n\nconst propTypes = {\n  match: PropTypes.object,\n  location: PropTypes.object,\n  selectedServer: serverType,\n};\n\nconst MenuLayout = (TagsList, ShortUrls, AsideMenu, CreateShortUrl, ShortUrlVisits, ShlinkVersions, ServerError) => {\n  const MenuLayoutComp = ({ match, location, selectedServer }) => {\n    const [ sidebarVisible, toggleSidebar, showSidebar, hideSidebar ] = useToggle();\n    const { params: { serverId } } = match;\n\n    useEffect(() => hideSidebar(), [ location ]);\n\n    if (selectedServer.serverNotReachable) {\n      return <ServerError type=\"not-reachable\" />;\n    }\n\n    const burgerClasses = classNames('menu-layout__burger-icon', {\n      'menu-layout__burger-icon--active': sidebarVisible,\n    });\n    const swipeMenuIfNoModalExists = (callback) => () => {\n      if (document.querySelector('.modal')) {\n        return;\n      }\n\n      callback();\n    };\n\n    return (\n      <React.Fragment>\n        <FontAwesomeIcon icon={burgerIcon} className={burgerClasses} onClick={toggleSidebar} />\n\n        <Swipeable\n          delta={40}\n          className=\"menu-layout__swipeable\"\n          onSwipedLeft={swipeMenuIfNoModalExists(hideSidebar)}\n          onSwipedRight={swipeMenuIfNoModalExists(showSidebar)}\n        >\n          <div className=\"row menu-layout__swipeable-inner\">\n            <AsideMenu className=\"col-lg-2 col-md-3\" selectedServer={selectedServer} showOnMobile={sidebarVisible} />\n            <div className=\"col-lg-10 offset-lg-2 col-md-9 offset-md-3\" onClick={() => hideSidebar()}>\n              <div className=\"menu-layout__container\">\n                <Switch>\n                  <Route exact path=\"/server/:serverId/list-short-urls/:page\" component={ShortUrls} />\n                  <Route exact path=\"/server/:serverId/create-short-url\" component={CreateShortUrl} />\n                  <Route exact path=\"/server/:serverId/short-code/:shortCode/visits\" component={ShortUrlVisits} />\n                  <Route exact path=\"/server/:serverId/manage-tags\" component={TagsList} />\n                  <Route\n                    render={() => <NotFound to={`/server/${serverId}/list-short-urls/1`}>List short URLs</NotFound>}\n                  />\n                </Switch>\n              </div>\n\n              <div className=\"menu-layout__footer text-center text-md-right\">\n                <ShlinkVersions />\n              </div>\n            </div>\n          </div>\n        </Swipeable>\n      </React.Fragment>\n    );\n  };\n\n  MenuLayoutComp.propTypes = propTypes;\n\n  return withSelectedServer(MenuLayoutComp, ServerError);\n};\n\nexport default MenuLayout;\n","import {\n  faList as listIcon,\n  faLink as createIcon,\n  faTags as tagsIcon,\n  faPen as editIcon,\n} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { serverType } from '../servers/prop-types';\nimport './AsideMenu.scss';\n\nconst AsideMenuItem = ({ children, to, className, ...rest }) => (\n  <NavLink\n    className={classNames('aside-menu__item', className)}\n    activeClassName=\"aside-menu__item--selected\"\n    to={to}\n    {...rest}\n  >\n    {children}\n  </NavLink>\n);\n\nAsideMenuItem.propTypes = {\n  children: PropTypes.node.isRequired,\n  to: PropTypes.string.isRequired,\n  className: PropTypes.string,\n};\n\nconst propTypes = {\n  selectedServer: serverType,\n  className: PropTypes.string,\n  showOnMobile: PropTypes.bool,\n};\n\nconst AsideMenu = (DeleteServerButton) => {\n  const AsideMenu = ({ selectedServer, className, showOnMobile }) => {\n    const serverId = selectedServer ? selectedServer.id : '';\n    const asideClass = classNames('aside-menu', className, {\n      'aside-menu--hidden': !showOnMobile,\n    });\n    const shortUrlsIsActive = (match, location) => location.pathname.match('/list-short-urls');\n    const buildPath = (suffix) => `/server/${serverId}${suffix}`;\n\n    return (\n      <aside className={asideClass}>\n        <nav className=\"nav flex-column aside-menu__nav\">\n          <AsideMenuItem to={buildPath('/list-short-urls/1')} isActive={shortUrlsIsActive}>\n            <FontAwesomeIcon icon={listIcon} />\n            <span className=\"aside-menu__item-text\">List short URLs</span>\n          </AsideMenuItem>\n          <AsideMenuItem to={buildPath('/create-short-url')}>\n            <FontAwesomeIcon icon={createIcon} flip=\"horizontal\" />\n            <span className=\"aside-menu__item-text\">Create short URL</span>\n          </AsideMenuItem>\n          <AsideMenuItem to={buildPath('/manage-tags')}>\n            <FontAwesomeIcon icon={tagsIcon} />\n            <span className=\"aside-menu__item-text\">Manage tags</span>\n          </AsideMenuItem>\n          <AsideMenuItem to={buildPath('/edit')} className=\"aside-menu__item--push\">\n            <FontAwesomeIcon icon={editIcon} />\n            <span className=\"aside-menu__item-text\">Edit this server</span>\n          </AsideMenuItem>\n          <DeleteServerButton\n            className=\"aside-menu__item aside-menu__item--danger\"\n            textClassName=\"aside-menu__item-text\"\n            server={selectedServer}\n          />\n        </nav>\n      </aside>\n    );\n  };\n\n  AsideMenu.propTypes = propTypes;\n\n  return AsideMenu;\n};\n\nexport default AsideMenu;\n","import React from 'react';\nimport * as PropTypes from 'prop-types';\nimport './ErrorHandler.scss';\nimport { Button } from 'reactstrap';\n\n// FIXME Replace with typescript: (window, console)\nconst ErrorHandler = ({ location }, { error }) => class ErrorHandler extends React.Component {\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError() {\n    return { hasError: true };\n  }\n\n  componentDidCatch(e) {\n    if (process.env.NODE_ENV !== 'development') {\n      error(e);\n    }\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div className=\"error-handler\">\n          <h1>Oops! This is awkward :S</h1>\n          <p>It seems that something went wrong. Try refreshing the page or just click this button.</p>\n          <br />\n          <Button outline color=\"primary\" onClick={() => location.reload()}>Take me back</Button>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n};\n\nexport default ErrorHandler;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { pipe } from 'ramda';\nimport { serverType } from '../servers/prop-types';\nimport { versionToPrintable, versionToSemVer } from '../utils/helpers/version';\n\nconst SHLINK_WEB_CLIENT_VERSION = '%_VERSION_%';\n\nconst propTypes = {\n  selectedServer: serverType,\n  className: PropTypes.string,\n  clientVersion: PropTypes.string,\n};\n\nconst ShlinkVersions = ({ selectedServer, className, clientVersion = SHLINK_WEB_CLIENT_VERSION }) => {\n  const { printableVersion: serverVersion } = selectedServer;\n  const normalizedClientVersion = pipe(versionToSemVer(), versionToPrintable)(clientVersion);\n\n  return (\n    <small className={classNames('text-muted', className)}>\n      Client: <b>{normalizedClientVersion}</b> - Server: <b>{serverVersion}</b>\n    </small>\n  );\n};\n\nShlinkVersions.propTypes = propTypes;\n\nexport default ShlinkVersions;\n","import L from 'leaflet';\nimport marker2x from 'leaflet/dist/images/marker-icon-2x.png';\nimport marker from 'leaflet/dist/images/marker-icon.png';\nimport markerShadow from 'leaflet/dist/images/marker-shadow.png';\nimport { isEmpty, isNil, range } from 'ramda';\n\nconst DEFAULT_TIMEOUT_DELAY = 2000;\n\nexport const stateFlagTimeout = (setTimeout) => (\n  setState,\n  flagName,\n  initialValue = true,\n  delay = DEFAULT_TIMEOUT_DELAY\n) => {\n  setState({ [flagName]: initialValue });\n  setTimeout(() => setState({ [flagName]: !initialValue }), delay);\n};\n\nexport const determineOrderDir = (clickedField, currentOrderField, currentOrderDir) => {\n  if (currentOrderField !== clickedField) {\n    return 'ASC';\n  }\n\n  const newOrderMap = {\n    ASC: 'DESC',\n    DESC: undefined,\n  };\n\n  return currentOrderDir ? newOrderMap[currentOrderDir] : 'ASC';\n};\n\nexport const fixLeafletIcons = () => {\n  delete L.Icon.Default.prototype._getIconUrl;\n\n  L.Icon.Default.mergeOptions({\n    iconRetinaUrl: marker2x,\n    iconUrl: marker,\n    shadowUrl: markerShadow,\n  });\n};\n\nexport const rangeOf = (size, mappingFn, startAt = 1) => range(startAt, size + 1).map(mappingFn);\n\nexport const hasValue = (value) => !isNil(value) && !isEmpty(value);\n","import axios from 'axios';\nimport { stateFlagTimeout } from '../utils';\nimport { useStateFlagTimeout } from '../helpers/hooks';\nimport Storage from './Storage';\nimport ColorGenerator from './ColorGenerator';\nimport buildShlinkApiClient from './ShlinkApiClientBuilder';\n\nconst provideServices = (bottle) => {\n  bottle.constant('localStorage', global.localStorage);\n  bottle.service('Storage', Storage, 'localStorage');\n  bottle.service('ColorGenerator', ColorGenerator, 'Storage');\n\n  bottle.constant('axios', axios);\n  bottle.serviceFactory('buildShlinkApiClient', buildShlinkApiClient, 'axios');\n\n  bottle.constant('setTimeout', global.setTimeout);\n  bottle.serviceFactory('stateFlagTimeout', stateFlagTimeout, 'setTimeout');\n  bottle.serviceFactory('useStateFlagTimeout', useStateFlagTimeout, 'setTimeout');\n};\n\nexport default provideServices;\n","const PREFIX = 'shlink';\nconst buildPath = (path) => `${PREFIX}.${path}`;\n\nexport default class Storage {\n  constructor(localStorage) {\n    this.localStorage = localStorage;\n  }\n\n  get = (key) => {\n    const item = this.localStorage.getItem(buildPath(key));\n\n    return item ? JSON.parse(item) : undefined;\n  };\n\n  set = (key, value) => this.localStorage.setItem(buildPath(key), JSON.stringify(value));\n}\n","import ShlinkApiClient from './ShlinkApiClient';\n\nconst apiClients = {};\n\nconst getSelectedServerFromState = (getState) => {\n  const { selectedServer } = getState();\n\n  return selectedServer;\n};\n\nconst buildShlinkApiClient = (axios) => (getStateOrSelectedServer) => {\n  const { url, apiKey } = typeof getStateOrSelectedServer === 'function'\n    ? getSelectedServerFromState(getStateOrSelectedServer)\n    : getStateOrSelectedServer;\n  const clientKey = `${url}_${apiKey}`;\n\n  if (!apiClients[clientKey]) {\n    apiClients[clientKey] = new ShlinkApiClient(axios, url, apiKey);\n  }\n\n  return apiClients[clientKey];\n};\n\nexport default buildShlinkApiClient;\n","import { useState } from 'react';\n\nconst DEFAULT_TIMEOUT_DELAY = 2000;\n\nexport const useStateFlagTimeout = (setTimeout) => (initialValue = true, delay = DEFAULT_TIMEOUT_DELAY) => {\n  const [ flag, setFlag ] = useState(initialValue);\n  const callback = () => {\n    setFlag(!initialValue);\n    setTimeout(() => setFlag(initialValue), delay);\n  };\n\n  return [ flag, callback ];\n};\n\n// Return [ flag, toggle, enable, disable ]\nexport const useToggle = (initialValue = false) => {\n  const [ flag, setFlag ] = useState(initialValue);\n\n  return [ flag, () => setFlag(!flag), () => setFlag(true), () => setFlag(false) ];\n};\n","import PropTypes from 'prop-types';\n\nconst regularServerType = PropTypes.shape({\n  id: PropTypes.string,\n  name: PropTypes.string,\n  url: PropTypes.string,\n  apiKey: PropTypes.string,\n  version: PropTypes.string,\n  printableVersion: PropTypes.string,\n  serverNotReachable: PropTypes.bool,\n});\n\nconst notFoundServerType = PropTypes.shape({\n  serverNotFound: PropTypes.bool.isRequired,\n});\n\nexport const serverType = PropTypes.oneOfType([\n  regularServerType,\n  notFoundServerType,\n]);\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\n/* eslint no-console: \"off\" */\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        return navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      }\n\n      // Is not local host. Just register service worker\n      return registerValidSW(swUrl);\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  return navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      const NOT_FOUND_STATUS = 404;\n\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === NOT_FOUND_STATUS ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        return navigator.serviceWorker.ready.then((registration) =>\n          registration.unregister().then(() => {\n            window.location.reload();\n          }));\n      }\n\n      // Service worker found. Proceed as normal.\n      return registerValidSW(swUrl);\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    }).catch(() => {});\n  }\n}\n","import React, { useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch as searchIcon } from '@fortawesome/free-solid-svg-icons';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport './SearchField.scss';\n\nconst DEFAULT_SEARCH_INTERVAL = 500;\nlet timer;\n\nconst propTypes = {\n  onChange: PropTypes.func.isRequired,\n  className: PropTypes.string,\n  placeholder: PropTypes.string,\n  large: PropTypes.bool,\n  noBorder: PropTypes.bool,\n};\n\nconst SearchField = ({ onChange, className, placeholder = 'Search...', large = true, noBorder = false }) => {\n  const [ searchTerm, setSearchTerm ] = useState('');\n\n  const resetTimer = () => {\n    clearTimeout(timer);\n    timer = null;\n  };\n  const searchTermChanged = (newSearchTerm, timeout = DEFAULT_SEARCH_INTERVAL) => {\n    setSearchTerm(newSearchTerm);\n\n    resetTimer();\n\n    timer = setTimeout(() => {\n      onChange(newSearchTerm);\n      resetTimer();\n    }, timeout);\n  };\n\n  return (\n    <div className={classNames('search-field', className)}>\n      <input\n        type=\"text\"\n        className={classNames('form-control search-field__input', {\n          'form-control-lg': large,\n          'search-field__input--no-border': noBorder,\n        })}\n        placeholder={placeholder}\n        value={searchTerm}\n        onChange={(e) => searchTermChanged(e.target.value)}\n      />\n      <FontAwesomeIcon icon={searchIcon} className=\"search-field__icon\" />\n      <div\n        className=\"close search-field__close\"\n        hidden={searchTerm === ''}\n        id=\"search-field__close\"\n        onClick={() => searchTermChanged('', 0)}\n      >\n        &times;\n      </div>\n    </div>\n  );\n};\n\nSearchField.propTypes = propTypes;\n\nexport default SearchField;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport './App.scss';\nimport NotFound from './common/NotFound';\n\nconst App = (MainHeader, Home, MenuLayout, CreateServer, EditServer) => () => (\n  <div className=\"container-fluid app-container\">\n    <MainHeader />\n\n    <div className=\"app\">\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/server/create\" component={CreateServer} />\n        <Route exact path=\"/server/:serverId/edit\" component={EditServer} />\n        <Route path=\"/server/:serverId\" component={MenuLayout} />\n        <Route component={NotFound} />\n      </Switch>\n    </div>\n  </div>\n);\n\nexport default App;\n","import { max, min, range } from 'ramda';\n\nexport const ELLIPSIS = '...';\n\nexport const progressivePagination = (currentPage, pageCount) => {\n  const delta = 2;\n  const pages = range(\n    max(delta, currentPage - delta),\n    min(pageCount - 1, currentPage + delta) + 1,\n  );\n\n  if (currentPage - delta > delta) {\n    pages.unshift(ELLIPSIS);\n  }\n  if (currentPage + delta < pageCount - 1) {\n    pages.push(ELLIPSIS);\n  }\n\n  pages.unshift(1);\n  pages.push(pageCount);\n\n  return pages;\n};\n\nexport const keyForPage = (pageNumber, index) => pageNumber !== ELLIPSIS ? pageNumber : `${pageNumber}_${index}`;\n\nexport const isPageDisabled = (pageNumber) => pageNumber === ELLIPSIS;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Pagination, PaginationItem, PaginationLink } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { isPageDisabled, keyForPage, progressivePagination } from '../utils/helpers/pagination';\nimport './Paginator.scss';\n\nconst propTypes = {\n  serverId: PropTypes.string.isRequired,\n  paginator: PropTypes.shape({\n    currentPage: PropTypes.number,\n    pagesCount: PropTypes.number,\n  }),\n};\n\nconst Paginator = ({ paginator = {}, serverId }) => {\n  const { currentPage, pagesCount = 0 } = paginator;\n\n  if (pagesCount <= 1) {\n    return null;\n  }\n\n  const renderPages = () =>\n    progressivePagination(currentPage, pagesCount).map((pageNumber, index) => (\n      <PaginationItem\n        key={keyForPage(pageNumber, index)}\n        disabled={isPageDisabled(pageNumber)}\n        active={currentPage === pageNumber}\n      >\n        <PaginationLink\n          tag={Link}\n          to={`/server/${serverId}/list-short-urls/${pageNumber}`}\n        >\n          {pageNumber}\n        </PaginationLink>\n      </PaginationItem>\n    ));\n\n  return (\n    <Pagination className=\"short-urls-paginator\" listClassName=\"flex-wrap justify-content-center mb-0\">\n      <PaginationItem disabled={currentPage === 1}>\n        <PaginationLink\n          previous\n          tag={Link}\n          to={`/server/${serverId}/list-short-urls/${currentPage - 1}`}\n        />\n      </PaginationItem>\n      {renderPages()}\n      <PaginationItem disabled={currentPage >= pagesCount}>\n        <PaginationLink\n          next\n          tag={Link}\n          to={`/server/${serverId}/list-short-urls/${currentPage + 1}`}\n        />\n      </PaginationItem>\n    </Pagination>\n  );\n};\n\nPaginator.propTypes = propTypes;\n\nexport default Paginator;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Paginator from './Paginator';\n\nconst ShortUrls = (SearchBar, ShortUrlsList) => {\n  const propTypes = {\n    match: PropTypes.shape({\n      params: PropTypes.object,\n    }),\n    shortUrlsList: PropTypes.object,\n  };\n\n  const ShortUrlsComponent = (props) => {\n    const { match: { params }, shortUrlsList } = props;\n    const { page, serverId } = params;\n    const { data = [], pagination } = shortUrlsList;\n    const [ urlsListKey, setUrlsListKey ] = useState(`${serverId}_${page}`);\n\n    // Using a key on a component makes react to create a new instance every time the key changes\n    // Without it, pagination on the URL will not make the component to be refreshed\n    useEffect(() => {\n      setUrlsListKey(`${serverId}_${page}`);\n    }, [ serverId, page ]);\n\n    return (\n      <React.Fragment>\n        <div className=\"form-group\"><SearchBar /></div>\n        <div>\n          <ShortUrlsList {...props} shortUrlsList={data} key={urlsListKey} />\n          <Paginator paginator={pagination} serverId={serverId} />\n        </div>\n      </React.Fragment>\n    );\n  };\n\n  ShortUrlsComponent.propTypes = propTypes;\n\n  return ShortUrlsComponent;\n};\n\nexport default ShortUrls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Tag.scss';\nimport { colorGeneratorType } from '../../utils/services/ColorGenerator';\n\nconst propTypes = {\n  text: PropTypes.string,\n  children: PropTypes.node,\n  clearable: PropTypes.bool,\n  colorGenerator: colorGeneratorType,\n  onClick: PropTypes.func,\n  onClose: PropTypes.func,\n};\n\nconst Tag = ({\n  text,\n  children,\n  clearable,\n  colorGenerator,\n  onClick = () => {},\n  onClose = () => {},\n}) => (\n  <span\n    className=\"badge tag\"\n    style={{ backgroundColor: colorGenerator.getColorForKey(text), cursor: clearable ? 'auto' : 'pointer' }}\n    onClick={onClick}\n  >\n    {children || text}\n    {clearable && <span className=\"close tag__close-selected-tag\" onClick={onClose}>&times;</span>}\n  </span>\n);\n\nTag.propTypes = propTypes;\n\nexport default Tag;\n","import React from 'react';\nimport { isNil } from 'ramda';\nimport DatePicker from 'react-datepicker';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCalendarAlt as calendarIcon } from '@fortawesome/free-regular-svg-icons';\nimport * as PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport './DateInput.scss';\n\nconst propTypes = {\n  className: PropTypes.string,\n  isClearable: PropTypes.bool,\n  selected: PropTypes.oneOfType([ PropTypes.string, PropTypes.object ]),\n  ref: PropTypes.object,\n  disabled: PropTypes.bool,\n};\n\nconst DateInput = (props) => {\n  const { className, isClearable, selected, ref = React.createRef() } = props;\n  const showCalendarIcon = !isClearable || isNil(selected);\n\n  return (\n    <div className=\"date-input-container\">\n      <DatePicker\n        {...props}\n        className={classNames('date-input-container__input form-control', className)}\n        dateFormat=\"YYYY-MM-DD\"\n        readOnly\n        ref={ref}\n      />\n      {showCalendarIcon && (\n        <FontAwesomeIcon\n          icon={calendarIcon}\n          className=\"date-input-container__icon\"\n          onClick={() => ref.current.input.focus()}\n        />\n      )}\n    </div>\n  );\n};\n\nDateInput.propTypes = propTypes;\n\nexport default DateInput;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport DateInput from './DateInput';\nimport './DateRangeRow.scss';\n\nconst dateType = PropTypes.oneOfType([ PropTypes.string, PropTypes.object ]);\nconst propTypes = {\n  startDate: dateType,\n  endDate: dateType,\n  onStartDateChange: PropTypes.func.isRequired,\n  onEndDateChange: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n};\n\nconst DateRangeRow = ({ startDate, endDate, onStartDateChange, onEndDateChange, disabled = false }) => (\n  <div className=\"row\">\n    <div className=\"col-md-6\">\n      <DateInput\n        selected={startDate}\n        placeholderText=\"Since\"\n        isClearable\n        maxDate={endDate}\n        disabled={disabled}\n        onChange={onStartDateChange}\n      />\n    </div>\n    <div className=\"col-md-6\">\n      <DateInput\n        className=\"date-range-row__date-input\"\n        selected={endDate}\n        placeholderText=\"Until\"\n        isClearable\n        minDate={startDate}\n        disabled={disabled}\n        onChange={onEndDateChange}\n      />\n    </div>\n  </div>\n);\n\nDateRangeRow.propTypes = propTypes;\n\nexport default DateRangeRow;\n","export const formatDate = (format = 'YYYY-MM-DD') => (date) => date && date.format ? date.format(format) : date;\n\nexport const formatIsoDate = (date) => date && date.format ? date.format() : date;\n","import { createAction, handleActions } from 'redux-actions';\nimport PropTypes from 'prop-types';\n\n/* eslint-disable padding-line-between-statements */\nexport const EDIT_SHORT_URL_TAGS_START = 'shlink/shortUrlTags/EDIT_SHORT_URL_TAGS_START';\nexport const EDIT_SHORT_URL_TAGS_ERROR = 'shlink/shortUrlTags/EDIT_SHORT_URL_TAGS_ERROR';\nexport const SHORT_URL_TAGS_EDITED = 'shlink/shortUrlTags/SHORT_URL_TAGS_EDITED';\nexport const RESET_EDIT_SHORT_URL_TAGS = 'shlink/shortUrlTags/RESET_EDIT_SHORT_URL_TAGS';\n/* eslint-enable padding-line-between-statements */\n\nexport const shortUrlTagsType = PropTypes.shape({\n  shortCode: PropTypes.string,\n  tags: PropTypes.arrayOf(PropTypes.string).isRequired,\n  saving: PropTypes.bool.isRequired,\n  error: PropTypes.bool.isRequired,\n});\n\nconst initialState = {\n  shortCode: null,\n  tags: [],\n  saving: false,\n  error: false,\n};\n\nexport default handleActions({\n  [EDIT_SHORT_URL_TAGS_START]: (state) => ({ ...state, saving: true, error: false }),\n  [EDIT_SHORT_URL_TAGS_ERROR]: (state) => ({ ...state, saving: false, error: true }),\n  [SHORT_URL_TAGS_EDITED]: (state, { shortCode, tags }) => ({ shortCode, tags, saving: false, error: false }),\n  [RESET_EDIT_SHORT_URL_TAGS]: () => initialState,\n}, initialState);\n\nexport const editShortUrlTags = (buildShlinkApiClient) => (shortCode, domain, tags) => async (dispatch, getState) => {\n  dispatch({ type: EDIT_SHORT_URL_TAGS_START });\n  const { updateShortUrlTags } = buildShlinkApiClient(getState);\n\n  try {\n    const normalizedTags = await updateShortUrlTags(shortCode, domain, tags);\n\n    dispatch({ tags: normalizedTags, shortCode, domain, type: SHORT_URL_TAGS_EDITED });\n  } catch (e) {\n    dispatch({ type: EDIT_SHORT_URL_TAGS_ERROR });\n\n    throw e;\n  }\n};\n\nexport const resetShortUrlsTags = createAction(RESET_EDIT_SHORT_URL_TAGS);\n","import { createAction, handleActions } from 'redux-actions';\nimport PropTypes from 'prop-types';\nimport { apiErrorType } from '../../utils/services/ShlinkApiClient';\n\n/* eslint-disable padding-line-between-statements */\nexport const DELETE_SHORT_URL_START = 'shlink/deleteShortUrl/DELETE_SHORT_URL_START';\nexport const DELETE_SHORT_URL_ERROR = 'shlink/deleteShortUrl/DELETE_SHORT_URL_ERROR';\nexport const SHORT_URL_DELETED = 'shlink/deleteShortUrl/SHORT_URL_DELETED';\nexport const RESET_DELETE_SHORT_URL = 'shlink/deleteShortUrl/RESET_DELETE_SHORT_URL';\n/* eslint-enable padding-line-between-statements */\n\nexport const shortUrlDeletionType = PropTypes.shape({\n  shortCode: PropTypes.string.isRequired,\n  loading: PropTypes.bool.isRequired,\n  error: PropTypes.bool.isRequired,\n  errorData: apiErrorType.isRequired,\n});\n\nconst initialState = {\n  shortCode: '',\n  loading: false,\n  error: false,\n  errorData: {},\n};\n\nexport default handleActions({\n  [DELETE_SHORT_URL_START]: (state) => ({ ...state, loading: true, error: false }),\n  [DELETE_SHORT_URL_ERROR]: (state, { errorData }) => ({ ...state, errorData, loading: false, error: true }),\n  [SHORT_URL_DELETED]: (state, { shortCode }) => ({ ...state, shortCode, loading: false, error: false }),\n  [RESET_DELETE_SHORT_URL]: () => initialState,\n}, initialState);\n\nexport const deleteShortUrl = (buildShlinkApiClient) => (shortCode, domain) => async (dispatch, getState) => {\n  dispatch({ type: DELETE_SHORT_URL_START });\n  const { deleteShortUrl } = buildShlinkApiClient(getState);\n\n  try {\n    await deleteShortUrl(shortCode, domain);\n    dispatch({ type: SHORT_URL_DELETED, shortCode, domain });\n  } catch (e) {\n    dispatch({ type: DELETE_SHORT_URL_ERROR, errorData: e.response.data });\n\n    throw e;\n  }\n};\n\nexport const resetDeleteShortUrl = createAction(RESET_DELETE_SHORT_URL);\n","import { createAction, handleActions } from 'redux-actions';\nimport PropTypes from 'prop-types';\n\n/* eslint-disable padding-line-between-statements */\nexport const EDIT_SHORT_URL_META_START = 'shlink/shortUrlMeta/EDIT_SHORT_URL_META_START';\nexport const EDIT_SHORT_URL_META_ERROR = 'shlink/shortUrlMeta/EDIT_SHORT_URL_META_ERROR';\nexport const SHORT_URL_META_EDITED = 'shlink/shortUrlMeta/SHORT_URL_META_EDITED';\nexport const RESET_EDIT_SHORT_URL_META = 'shlink/shortUrlMeta/RESET_EDIT_SHORT_URL_META';\n/* eslint-enable padding-line-between-statements */\n\nexport const shortUrlMetaType = PropTypes.shape({\n  validSince: PropTypes.string,\n  validUntil: PropTypes.string,\n  maxVisits: PropTypes.number,\n});\n\nexport const shortUrlEditMetaType = PropTypes.shape({\n  shortCode: PropTypes.string,\n  meta: shortUrlMetaType.isRequired,\n  saving: PropTypes.bool.isRequired,\n  error: PropTypes.bool.isRequired,\n});\n\nconst initialState = {\n  shortCode: null,\n  meta: {},\n  saving: false,\n  error: false,\n};\n\nexport default handleActions({\n  [EDIT_SHORT_URL_META_START]: (state) => ({ ...state, saving: true, error: false }),\n  [EDIT_SHORT_URL_META_ERROR]: (state) => ({ ...state, saving: false, error: true }),\n  [SHORT_URL_META_EDITED]: (state, { shortCode, meta }) => ({ shortCode, meta, saving: false, error: false }),\n  [RESET_EDIT_SHORT_URL_META]: () => initialState,\n}, initialState);\n\nexport const editShortUrlMeta = (buildShlinkApiClient) => (shortCode, domain, meta) => async (dispatch, getState) => {\n  dispatch({ type: EDIT_SHORT_URL_META_START });\n  const { updateShortUrlMeta } = buildShlinkApiClient(getState);\n\n  try {\n    await updateShortUrlMeta(shortCode, domain, meta);\n    dispatch({ shortCode, meta, domain, type: SHORT_URL_META_EDITED });\n  } catch (e) {\n    dispatch({ type: EDIT_SHORT_URL_META_ERROR });\n\n    throw e;\n  }\n};\n\nexport const resetShortUrlMeta = createAction(RESET_EDIT_SHORT_URL_META);\n","import { handleActions } from 'redux-actions';\nimport PropTypes from 'prop-types';\n\n/* eslint-disable padding-line-between-statements */\nexport const EDIT_SHORT_URL_START = 'shlink/shortUrlEdition/EDIT_SHORT_URL_START';\nexport const EDIT_SHORT_URL_ERROR = 'shlink/shortUrlEdition/EDIT_SHORT_URL_ERROR';\nexport const SHORT_URL_EDITED = 'shlink/shortUrlEdition/SHORT_URL_EDITED';\n/* eslint-enable padding-line-between-statements */\n\nexport const ShortUrlEditionType = PropTypes.shape({\n  shortCode: PropTypes.string,\n  longUrl: PropTypes.string,\n  saving: PropTypes.bool.isRequired,\n  error: PropTypes.bool.isRequired,\n});\n\nconst initialState = {\n  shortCode: null,\n  longUrl: null,\n  saving: false,\n  error: false,\n};\n\nexport default handleActions({\n  [EDIT_SHORT_URL_START]: (state) => ({ ...state, saving: true, error: false }),\n  [EDIT_SHORT_URL_ERROR]: (state) => ({ ...state, saving: false, error: true }),\n  [SHORT_URL_EDITED]: (state, { shortCode, longUrl }) => ({ shortCode, longUrl, saving: false, error: false }),\n}, initialState);\n\nexport const editShortUrl = (buildShlinkApiClient) => (shortCode, domain, longUrl) => async (dispatch, getState) => {\n  dispatch({ type: EDIT_SHORT_URL_START });\n  const { updateShortUrlMeta } = buildShlinkApiClient(getState);\n\n  try {\n    await updateShortUrlMeta(shortCode, domain, { longUrl });\n    dispatch({ shortCode, longUrl, domain, type: SHORT_URL_EDITED });\n  } catch (e) {\n    dispatch({ type: EDIT_SHORT_URL_ERROR });\n\n    throw e;\n  }\n};\n","import { handleActions } from 'redux-actions';\nimport { assoc, assocPath, isNil, reject } from 'ramda';\nimport PropTypes from 'prop-types';\nimport { SHORT_URL_TAGS_EDITED } from './shortUrlTags';\nimport { SHORT_URL_DELETED } from './shortUrlDeletion';\nimport { SHORT_URL_META_EDITED, shortUrlMetaType } from './shortUrlMeta';\nimport { SHORT_URL_EDITED } from './shortUrlEdition';\n\n/* eslint-disable padding-line-between-statements */\nexport const LIST_SHORT_URLS_START = 'shlink/shortUrlsList/LIST_SHORT_URLS_START';\nexport const LIST_SHORT_URLS_ERROR = 'shlink/shortUrlsList/LIST_SHORT_URLS_ERROR';\nexport const LIST_SHORT_URLS = 'shlink/shortUrlsList/LIST_SHORT_URLS';\n/* eslint-enable padding-line-between-statements */\n\nexport const shortUrlType = PropTypes.shape({\n  shortCode: PropTypes.string,\n  shortUrl: PropTypes.string,\n  longUrl: PropTypes.string,\n  visitsCount: PropTypes.number,\n  meta: shortUrlMetaType,\n  tags: PropTypes.arrayOf(PropTypes.string),\n  domain: PropTypes.string,\n});\n\nconst initialState = {\n  shortUrls: {},\n  loading: true,\n  error: false,\n};\n\nconst shortUrlMatches = (shortUrl, shortCode, domain) => {\n  if (isNil(domain)) {\n    return shortUrl.shortCode === shortCode && !shortUrl.domain;\n  }\n\n  return shortUrl.shortCode === shortCode && shortUrl.domain === domain;\n};\n\nconst setPropFromActionOnMatchingShortUrl = (prop) => (state, { shortCode, domain, [prop]: propValue }) => assocPath(\n  [ 'shortUrls', 'data' ],\n  state.shortUrls.data.map(\n    (shortUrl) => shortUrlMatches(shortUrl, shortCode, domain) ? assoc(prop, propValue, shortUrl) : shortUrl\n  ),\n  state\n);\n\nexport default handleActions({\n  [LIST_SHORT_URLS_START]: (state) => ({ ...state, loading: true, error: false }),\n  [LIST_SHORT_URLS]: (state, { shortUrls }) => ({ loading: false, error: false, shortUrls }),\n  [LIST_SHORT_URLS_ERROR]: () => ({ loading: false, error: true, shortUrls: {} }),\n  [SHORT_URL_DELETED]: (state, { shortCode, domain }) => assocPath(\n    [ 'shortUrls', 'data' ],\n    reject((shortUrl) => shortUrlMatches(shortUrl, shortCode, domain), state.shortUrls.data),\n    state,\n  ),\n  [SHORT_URL_TAGS_EDITED]: setPropFromActionOnMatchingShortUrl('tags'),\n  [SHORT_URL_META_EDITED]: setPropFromActionOnMatchingShortUrl('meta'),\n  [SHORT_URL_EDITED]: setPropFromActionOnMatchingShortUrl('longUrl'),\n}, initialState);\n\nexport const listShortUrls = (buildShlinkApiClient) => (params = {}) => async (dispatch, getState) => {\n  dispatch({ type: LIST_SHORT_URLS_START });\n  const { listShortUrls } = buildShlinkApiClient(getState);\n\n  try {\n    const shortUrls = await listShortUrls(params);\n\n    dispatch({ type: LIST_SHORT_URLS, shortUrls, params });\n  } catch (e) {\n    dispatch({ type: LIST_SHORT_URLS_ERROR, params });\n  }\n};\n","import { createAction, handleActions } from 'redux-actions';\nimport PropTypes from 'prop-types';\nimport { LIST_SHORT_URLS } from './shortUrlsList';\n\nexport const RESET_SHORT_URL_PARAMS = 'shlink/shortUrlsListParams/RESET_SHORT_URL_PARAMS';\n\nexport const shortUrlsListParamsType = PropTypes.shape({\n  page: PropTypes.string,\n  tags: PropTypes.arrayOf(PropTypes.string),\n  searchTerm: PropTypes.string,\n  startDate: PropTypes.string,\n  endDate: PropTypes.string,\n  orderBy: PropTypes.object,\n});\n\nconst initialState = { page: '1' };\n\nexport default handleActions({\n  [LIST_SHORT_URLS]: (state, { params }) => ({ ...state, ...params }),\n  [RESET_SHORT_URL_PARAMS]: () => initialState,\n}, initialState);\n\nexport const resetShortUrlParams = createAction(RESET_SHORT_URL_PARAMS);\n","import { faTags as tagsIcon } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport { isEmpty, pipe } from 'ramda';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport SearchField from '../utils/SearchField';\nimport Tag from '../tags/helpers/Tag';\nimport DateRangeRow from '../utils/DateRangeRow';\nimport { formatDate } from '../utils/helpers/date';\nimport { shortUrlsListParamsType } from './reducers/shortUrlsListParams';\nimport './SearchBar.scss';\n\nconst propTypes = {\n  listShortUrls: PropTypes.func,\n  shortUrlsListParams: shortUrlsListParamsType,\n};\n\nconst dateOrUndefined = (date) => date ? moment(date) : undefined;\n\nconst SearchBar = (colorGenerator, ForServerVersion) => {\n  const SearchBar = ({ listShortUrls, shortUrlsListParams }) => {\n    const selectedTags = shortUrlsListParams.tags || [];\n    const setDate = (dateName) => pipe(\n      formatDate(),\n      (date) => listShortUrls({ ...shortUrlsListParams, [dateName]: date })\n    );\n\n    return (\n      <div className=\"search-bar-container\">\n        <SearchField\n          onChange={\n            (searchTerm) => listShortUrls({ ...shortUrlsListParams, searchTerm })\n          }\n        />\n\n        <ForServerVersion minVersion=\"1.21.0\">\n          <div className=\"mt-3\">\n            <div className=\"row\">\n              <div className=\"col-lg-8 offset-lg-4 col-xl-6 offset-xl-6\">\n                <DateRangeRow\n                  startDate={dateOrUndefined(shortUrlsListParams.startDate)}\n                  endDate={dateOrUndefined(shortUrlsListParams.endDate)}\n                  onStartDateChange={setDate('startDate')}\n                  onEndDateChange={setDate('endDate')}\n                />\n              </div>\n            </div>\n          </div>\n        </ForServerVersion>\n\n        {!isEmpty(selectedTags) && (\n          <h4 className=\"search-bar__selected-tag mt-3\">\n            <FontAwesomeIcon icon={tagsIcon} className=\"search-bar__tags-icon\" />\n            &nbsp;\n            {selectedTags.map((tag) => (\n              <Tag\n                colorGenerator={colorGenerator}\n                key={tag}\n                text={tag}\n                clearable\n                onClose={() => listShortUrls(\n                  {\n                    ...shortUrlsListParams,\n                    tags: selectedTags.filter((selectedTag) => selectedTag !== tag),\n                  }\n                )}\n              />\n            ))}\n          </h4>\n        )}\n      </div>\n    );\n  };\n\n  SearchBar.propTypes = propTypes;\n\n  return SearchBar;\n};\n\nexport default SearchBar;\n","import React from 'react';\nimport { UncontrolledDropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport { toPairs } from 'ramda';\nimport PropTypes from 'prop-types';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSortAmountUp as sortAscIcon, faSortAmountDown as sortDescIcon } from '@fortawesome/free-solid-svg-icons';\nimport classNames from 'classnames';\nimport { determineOrderDir } from './utils';\nimport './SortingDropdown.scss';\n\nconst propTypes = {\n  items: PropTypes.object.isRequired,\n  orderField: PropTypes.string,\n  orderDir: PropTypes.oneOf([ 'ASC', 'DESC' ]),\n  onChange: PropTypes.func.isRequired,\n  isButton: PropTypes.bool,\n  right: PropTypes.bool,\n};\nconst defaultProps = {\n  isButton: true,\n  right: false,\n};\n\nconst SortingDropdown = ({ items, orderField, orderDir, onChange, isButton, right }) => {\n  const handleItemClick = (fieldKey) => () => {\n    const newOrderDir = determineOrderDir(fieldKey, orderField, orderDir);\n\n    onChange(newOrderDir ? fieldKey : undefined, newOrderDir);\n  };\n\n  return (\n    <UncontrolledDropdown>\n      <DropdownToggle\n        caret\n        color={isButton ? 'secondary' : 'link'}\n        className={classNames({ 'btn-block': isButton, 'btn-sm paddingless': !isButton })}\n      >\n        Order by\n      </DropdownToggle>\n      <DropdownMenu\n        right={right}\n        className={classNames('sorting-dropdown__menu', { 'sorting-dropdown__menu--link': !isButton })}\n      >\n        {toPairs(items).map(([ fieldKey, fieldValue ]) => (\n          <DropdownItem key={fieldKey} active={orderField === fieldKey} onClick={handleItemClick(fieldKey)}>\n            {fieldValue}\n            {orderField === fieldKey && (\n              <FontAwesomeIcon\n                icon={orderDir === 'ASC' ? sortAscIcon : sortDescIcon}\n                className=\"sorting-dropdown__sort-icon\"\n              />\n            )}\n          </DropdownItem>\n        ))}\n        <DropdownItem divider />\n        <DropdownItem disabled={!orderField} onClick={() => onChange()}>\n          <i>Clear selection</i>\n        </DropdownItem>\n      </DropdownMenu>\n    </UncontrolledDropdown>\n  );\n};\n\nSortingDropdown.propTypes = propTypes;\nSortingDropdown.defaultProps = defaultProps;\n\nexport default SortingDropdown;\n","import { faCaretDown as caretDownIcon, faCaretUp as caretUpIcon } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { head, isEmpty, keys, values } from 'ramda';\nimport React from 'react';\nimport qs from 'qs';\nimport PropTypes from 'prop-types';\nimport { serverType } from '../servers/prop-types';\nimport SortingDropdown from '../utils/SortingDropdown';\nimport { determineOrderDir } from '../utils/utils';\nimport { shortUrlType } from './reducers/shortUrlsList';\nimport { shortUrlsListParamsType } from './reducers/shortUrlsListParams';\nimport './ShortUrlsList.scss';\n\nexport const SORTABLE_FIELDS = {\n  dateCreated: 'Created at',\n  shortCode: 'Short URL',\n  longUrl: 'Long URL',\n  visits: 'Visits',\n};\n\n// FIXME Replace with typescript: (ShortUrlsRow component)\nconst ShortUrlsList = (ShortUrlsRow) => class ShortUrlsList extends React.Component {\n  static propTypes = {\n    listShortUrls: PropTypes.func,\n    resetShortUrlParams: PropTypes.func,\n    shortUrlsListParams: shortUrlsListParamsType,\n    match: PropTypes.object,\n    location: PropTypes.object,\n    loading: PropTypes.bool,\n    error: PropTypes.bool,\n    shortUrlsList: PropTypes.arrayOf(shortUrlType),\n    selectedServer: serverType,\n  };\n\n  refreshList = (extraParams) => {\n    const { listShortUrls, shortUrlsListParams } = this.props;\n\n    listShortUrls({\n      ...shortUrlsListParams,\n      ...extraParams,\n    });\n  };\n\n  handleOrderBy = (orderField, orderDir) => {\n    this.setState({ orderField, orderDir });\n    this.refreshList({ orderBy: { [orderField]: orderDir } });\n  };\n\n  orderByColumn = (columnName) => () =>\n    this.handleOrderBy(columnName, determineOrderDir(columnName, this.state.orderField, this.state.orderDir));\n\n  renderOrderIcon = (field) => {\n    if (this.state.orderField !== field) {\n      return null;\n    }\n\n    if (!this.state.orderDir) {\n      return null;\n    }\n\n    return (\n      <FontAwesomeIcon\n        icon={this.state.orderDir === 'ASC' ? caretUpIcon : caretDownIcon}\n        className=\"short-urls-list__header-icon\"\n      />\n    );\n  };\n\n  constructor(props) {\n    super(props);\n\n    const { orderBy } = props.shortUrlsListParams;\n\n    this.state = {\n      orderField: orderBy ? head(keys(orderBy)) : undefined,\n      orderDir: orderBy ? head(values(orderBy)) : undefined,\n    };\n  }\n\n  componentDidMount() {\n    const { match: { params }, location, shortUrlsListParams } = this.props;\n    const query = qs.parse(location.search, { ignoreQueryPrefix: true });\n    const tags = query.tag ? [ query.tag ] : shortUrlsListParams.tags;\n\n    this.refreshList({ page: params.page, tags });\n  }\n\n  componentWillUnmount() {\n    const { resetShortUrlParams } = this.props;\n\n    resetShortUrlParams();\n  }\n\n  renderShortUrls() {\n    const { shortUrlsList, selectedServer, loading, error, shortUrlsListParams } = this.props;\n\n    if (error) {\n      return (\n        <tr>\n          <td colSpan=\"6\" className=\"text-center table-danger\">Something went wrong while loading short URLs :(</td>\n        </tr>\n      );\n    }\n\n    if (loading) {\n      return <tr><td colSpan=\"6\" className=\"text-center\">Loading...</td></tr>;\n    }\n\n    if (!loading && isEmpty(shortUrlsList)) {\n      return <tr><td colSpan=\"6\" className=\"text-center\">No results found</td></tr>;\n    }\n\n    return shortUrlsList.map((shortUrl) => (\n      <ShortUrlsRow\n        key={shortUrl.shortUrl}\n        shortUrl={shortUrl}\n        selectedServer={selectedServer}\n        refreshList={this.refreshList}\n        shortUrlsListParams={shortUrlsListParams}\n      />\n    ));\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <div className=\"d-block d-md-none mb-3\">\n          <SortingDropdown\n            items={SORTABLE_FIELDS}\n            orderField={this.state.orderField}\n            orderDir={this.state.orderDir}\n            onChange={this.handleOrderBy}\n          />\n        </div>\n        <table className=\"table table-striped table-hover\">\n          <thead className=\"short-urls-list__header\">\n            <tr>\n              <th\n                className=\"short-urls-list__header-cell short-urls-list__header-cell--with-action\"\n                onClick={this.orderByColumn('dateCreated')}\n              >\n                {this.renderOrderIcon('dateCreated')}\n                Created at\n              </th>\n              <th\n                className=\"short-urls-list__header-cell short-urls-list__header-cell--with-action\"\n                onClick={this.orderByColumn('shortCode')}\n              >\n                {this.renderOrderIcon('shortCode')}\n                Short URL\n              </th>\n              <th\n                className=\"short-urls-list__header-cell short-urls-list__header-cell--with-action\"\n                onClick={this.orderByColumn('longUrl')}\n              >\n                {this.renderOrderIcon('longUrl')}\n                Long URL\n              </th>\n              <th className=\"short-urls-list__header-cell\">Tags</th>\n              <th\n                className=\"short-urls-list__header-cell short-urls-list__header-cell--with-action\"\n                onClick={this.orderByColumn('visits')}\n              >\n                <span className=\"indivisible\">{this.renderOrderIcon('visits')} Visits</span>\n              </th>\n              <th className=\"short-urls-list__header-cell\">&nbsp;</th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.renderShortUrls()}\n          </tbody>\n        </table>\n      </React.Fragment>\n    );\n  }\n};\n\nexport default ShortUrlsList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { serverType } from '../../servers/prop-types';\nimport { shortUrlType } from '../reducers/shortUrlsList';\n\nconst propTypes = {\n  shortUrl: shortUrlType,\n  selectedServer: serverType,\n  children: PropTypes.node.isRequired,\n};\n\nconst buildVisitsUrl = ({ id }, { shortCode, domain }) => {\n  const query = domain ? `?domain=${domain}` : '';\n\n  return `/server/${id}/short-code/${shortCode}/visits${query}`;\n};\n\nconst VisitStatsLink = ({ selectedServer, shortUrl, children, ...rest }) => {\n  if (!selectedServer || !shortUrl) {\n    return <span {...rest}>{children}</span>;\n  }\n\n  return <Link to={buildVisitsUrl(selectedServer, shortUrl)} {...rest}>{children}</Link>;\n};\n\nVisitStatsLink.propTypes = propTypes;\n\nexport default VisitStatsLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faInfoCircle as infoIcon } from '@fortawesome/free-solid-svg-icons';\nimport { UncontrolledTooltip } from 'reactstrap';\nimport { serverType } from '../../servers/prop-types';\nimport { shortUrlType } from '../reducers/shortUrlsList';\nimport './ShortUrlVisitsCount.scss';\nimport VisitStatsLink from './VisitStatsLink';\n\nconst propTypes = {\n  visitsCount: PropTypes.number.isRequired,\n  shortUrl: shortUrlType,\n  selectedServer: serverType,\n};\n\nconst ShortUrlVisitsCount = ({ visitsCount, shortUrl, selectedServer }) => {\n  const maxVisits = shortUrl && shortUrl.meta && shortUrl.meta.maxVisits;\n  const visitsLink = (\n    <VisitStatsLink selectedServer={selectedServer} shortUrl={shortUrl}>\n      <strong>{visitsCount}</strong>\n    </VisitStatsLink>\n  );\n\n  if (!maxVisits) {\n    return visitsLink;\n  }\n\n  return (\n    <React.Fragment>\n      <span className=\"indivisible\">\n        {visitsLink}\n        <small id=\"maxVisitsControl\" className=\"short-urls-visits-count__max-visits-control\">\n          {' '}/ {maxVisits}{' '}\n          <sup>\n            <FontAwesomeIcon icon={infoIcon} />\n          </sup>\n        </small>\n      </span>\n      <UncontrolledTooltip target=\"maxVisitsControl\" placement=\"bottom\">\n        This short URL will not accept more than <b>{maxVisits}</b> visits.\n      </UncontrolledTooltip>\n    </React.Fragment>\n  );\n};\n\nShortUrlVisitsCount.propTypes = propTypes;\n\nexport default ShortUrlVisitsCount;\n","import { isEmpty } from 'ramda';\nimport React from 'react';\nimport Moment from 'react-moment';\nimport PropTypes from 'prop-types';\nimport { ExternalLink } from 'react-external-link';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCopy as copyIcon } from '@fortawesome/free-regular-svg-icons';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { shortUrlsListParamsType } from '../reducers/shortUrlsListParams';\nimport { serverType } from '../../servers/prop-types';\nimport { shortUrlType } from '../reducers/shortUrlsList';\nimport Tag from '../../tags/helpers/Tag';\nimport ShortUrlVisitsCount from './ShortUrlVisitsCount';\nimport './ShortUrlsRow.scss';\n\nconst propTypes = {\n  refreshList: PropTypes.func,\n  shortUrlsListParams: shortUrlsListParamsType,\n  selectedServer: serverType,\n  shortUrl: shortUrlType,\n};\n\nconst ShortUrlsRow = (\n  ShortUrlsRowMenu,\n  colorGenerator,\n  useStateFlagTimeout\n) => {\n  const ShortUrlsRowComp = ({ shortUrl, selectedServer, refreshList, shortUrlsListParams }) => {\n    const [ copiedToClipboard, setCopiedToClipboard ] = useStateFlagTimeout(false);\n    const renderTags = (tags) => {\n      if (isEmpty(tags)) {\n        return <i className=\"indivisible\"><small>No tags</small></i>;\n      }\n\n      const selectedTags = shortUrlsListParams.tags || [];\n\n      return tags.map((tag) => (\n        <Tag\n          colorGenerator={colorGenerator}\n          key={tag}\n          text={tag}\n          onClick={() => refreshList({ tags: [ ...selectedTags, tag ] })}\n        />\n      ));\n    };\n\n    return (\n      <tr className=\"short-urls-row\">\n        <td className=\"indivisible short-urls-row__cell\" data-th=\"Created at: \">\n          <Moment format=\"YYYY-MM-DD HH:mm\">{shortUrl.dateCreated}</Moment>\n        </td>\n        <td className=\"short-urls-row__cell\" data-th=\"Short URL: \">\n          <span className=\"indivisible short-urls-row__cell--relative\">\n            <ExternalLink href={shortUrl.shortUrl} />\n            <CopyToClipboard text={shortUrl.shortUrl} onCopy={setCopiedToClipboard}>\n              <FontAwesomeIcon icon={copyIcon} className=\"ml-2 short-urls-row__copy-btn\" />\n            </CopyToClipboard>\n            <span className=\"badge badge-warning short-urls-row__copy-hint\" hidden={!copiedToClipboard}>\n              Copied short URL!\n            </span>\n          </span>\n        </td>\n        <td className=\"short-urls-row__cell short-urls-row__cell--break\" data-th=\"Long URL: \">\n          <ExternalLink href={shortUrl.longUrl} />\n        </td>\n        <td className=\"short-urls-row__cell\" data-th=\"Tags: \">{renderTags(shortUrl.tags)}</td>\n        <td className=\"short-urls-row__cell text-md-right\" data-th=\"Visits: \">\n          <ShortUrlVisitsCount\n            visitsCount={shortUrl.visitsCount}\n            shortUrl={shortUrl}\n            selectedServer={selectedServer}\n          />\n        </td>\n        <td className=\"short-urls-row__cell\">\n          <ShortUrlsRowMenu selectedServer={selectedServer} shortUrl={shortUrl} />\n        </td>\n      </tr>\n    );\n  };\n\n  ShortUrlsRowComp.propTypes = propTypes;\n\n  return ShortUrlsRowComp;\n};\n\nexport default ShortUrlsRow;\n","import React from 'react';\nimport { Modal, ModalBody, ModalHeader } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { ExternalLink } from 'react-external-link';\nimport './PreviewModal.scss';\n\nconst propTypes = {\n  url: PropTypes.string,\n  toggle: PropTypes.func,\n  isOpen: PropTypes.bool,\n};\n\nconst PreviewModal = ({ url, toggle, isOpen }) => (\n  <Modal isOpen={isOpen} toggle={toggle} size=\"lg\">\n    <ModalHeader toggle={toggle}>\n      Preview for <ExternalLink href={url}>{url}</ExternalLink>\n    </ModalHeader>\n    <ModalBody>\n      <div className=\"text-center\">\n        <p className=\"preview-modal__loader\">Loading...</p>\n        <img src={`${url}/preview`} className=\"preview-modal__img\" alt=\"Preview\" />\n      </div>\n    </ModalBody>\n  </Modal>\n);\n\nPreviewModal.propTypes = propTypes;\n\nexport default PreviewModal;\n","import React from 'react';\nimport { Modal, ModalBody, ModalHeader } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { ExternalLink } from 'react-external-link';\nimport './QrCodeModal.scss';\n\nconst propTypes = {\n  url: PropTypes.string,\n  toggle: PropTypes.func,\n  isOpen: PropTypes.bool,\n};\n\nconst QrCodeModal = ({ url, toggle, isOpen }) => (\n  <Modal isOpen={isOpen} toggle={toggle} centered>\n    <ModalHeader toggle={toggle}>\n      QR code for <ExternalLink href={url}>{url}</ExternalLink>\n    </ModalHeader>\n    <ModalBody>\n      <div className=\"text-center\">\n        <img src={`${url}/qr-code`} className=\"qr-code-modal__img\" alt=\"QR code\" />\n      </div>\n    </ModalBody>\n  </Modal>\n);\n\nQrCodeModal.propTypes = propTypes;\n\nexport default QrCodeModal;\n","import { faImage as pictureIcon } from '@fortawesome/free-regular-svg-icons';\nimport {\n  faTags as tagsIcon,\n  faChartPie as pieChartIcon,\n  faEllipsisV as menuIcon,\n  faQrcode as qrIcon,\n  faMinusCircle as deleteIcon,\n  faEdit as editIcon,\n  faLink as linkIcon,\n} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React from 'react';\nimport { ButtonDropdown, DropdownItem, DropdownMenu, DropdownToggle } from 'reactstrap';\nimport { serverType } from '../../servers/prop-types';\nimport { shortUrlType } from '../reducers/shortUrlsList';\nimport { useToggle } from '../../utils/helpers/hooks';\nimport PreviewModal from './PreviewModal';\nimport QrCodeModal from './QrCodeModal';\nimport VisitStatsLink from './VisitStatsLink';\nimport './ShortUrlsRowMenu.scss';\n\nconst propTypes = {\n  selectedServer: serverType,\n  shortUrl: shortUrlType,\n};\n\nconst ShortUrlsRowMenu = (DeleteShortUrlModal, EditTagsModal, EditMetaModal, EditShortUrlModal, ForServerVersion) => {\n  const ShortUrlsRowMenuComp = ({ shortUrl, selectedServer }) => {\n    const [ isOpen, toggle ] = useToggle();\n    const [ isQrModalOpen, toggleQrCode ] = useToggle();\n    const [ isPreviewModalOpen, togglePreview ] = useToggle();\n    const [ isTagsModalOpen, toggleTags ] = useToggle();\n    const [ isMetaModalOpen, toggleMeta ] = useToggle();\n    const [ isDeleteModalOpen, toggleDelete ] = useToggle();\n    const [ isEditModalOpen, toggleEdit ] = useToggle();\n    const completeShortUrl = shortUrl && shortUrl.shortUrl ? shortUrl.shortUrl : '';\n\n    return (\n      <ButtonDropdown toggle={toggle} isOpen={isOpen}>\n        <DropdownToggle size=\"sm\" caret outline className=\"short-urls-row-menu__dropdown-toggle\">\n          &nbsp;<FontAwesomeIcon icon={menuIcon} />&nbsp;\n        </DropdownToggle>\n        <DropdownMenu right>\n          <DropdownItem tag={VisitStatsLink} selectedServer={selectedServer} shortUrl={shortUrl}>\n            <FontAwesomeIcon icon={pieChartIcon} fixedWidth /> Visit stats\n          </DropdownItem>\n\n          <DropdownItem onClick={toggleTags}>\n            <FontAwesomeIcon icon={tagsIcon} fixedWidth /> Edit tags\n          </DropdownItem>\n          <EditTagsModal shortUrl={shortUrl} isOpen={isTagsModalOpen} toggle={toggleTags} />\n\n          <ForServerVersion minVersion=\"1.18.0\">\n            <DropdownItem onClick={toggleMeta}>\n              <FontAwesomeIcon icon={editIcon} fixedWidth /> Edit metadata\n            </DropdownItem>\n            <EditMetaModal shortUrl={shortUrl} isOpen={isMetaModalOpen} toggle={toggleMeta} />\n          </ForServerVersion>\n\n          <ForServerVersion minVersion=\"2.1.0\">\n            <DropdownItem onClick={toggleEdit}>\n              <FontAwesomeIcon icon={linkIcon} fixedWidth /> Edit long URL\n            </DropdownItem>\n            <EditShortUrlModal shortUrl={shortUrl} isOpen={isEditModalOpen} toggle={toggleEdit} />\n          </ForServerVersion>\n\n          <DropdownItem onClick={toggleQrCode}>\n            <FontAwesomeIcon icon={qrIcon} fixedWidth /> QR code\n          </DropdownItem>\n          <QrCodeModal url={completeShortUrl} isOpen={isQrModalOpen} toggle={toggleQrCode} />\n\n          <ForServerVersion maxVersion=\"1.x\">\n            <DropdownItem onClick={togglePreview}>\n              <FontAwesomeIcon icon={pictureIcon} fixedWidth /> Preview\n            </DropdownItem>\n            <PreviewModal url={completeShortUrl} isOpen={isPreviewModalOpen} toggle={togglePreview} />\n          </ForServerVersion>\n\n          <DropdownItem divider />\n\n          <DropdownItem className=\"short-urls-row-menu__dropdown-item--danger\" onClick={toggleDelete}>\n            <FontAwesomeIcon icon={deleteIcon} fixedWidth /> Delete short URL\n          </DropdownItem>\n          <DeleteShortUrlModal shortUrl={shortUrl} isOpen={isDeleteModalOpen} toggle={toggleDelete} />\n        </DropdownMenu>\n      </ButtonDropdown>\n    );\n  };\n\n  ShortUrlsRowMenuComp.propTypes = propTypes;\n\n  return ShortUrlsRowMenuComp;\n};\n\nexport default ShortUrlsRowMenu;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { v4 as uuid } from 'uuid';\n\nconst propTypes = {\n  checked: PropTypes.bool.isRequired,\n  onChange: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([ PropTypes.string, PropTypes.node ]),\n  className: PropTypes.string,\n};\n\nconst Checkbox = ({ checked, onChange, className, children }) => {\n  const id = uuid();\n  const onChecked = (e) => onChange(e.target.checked, e);\n\n  return (\n    <span className={classNames('custom-control custom-checkbox', className)} style={{ display: 'inline' }}>\n      <input type=\"checkbox\" className=\"custom-control-input\" id={id} checked={checked} onChange={onChecked} />\n      <label className=\"custom-control-label\" htmlFor={id}>{children}</label>\n    </span>\n  );\n};\n\nCheckbox.propTypes = propTypes;\n\nexport default Checkbox;\n","import PropTypes from 'prop-types';\nimport { createAction, handleActions } from 'redux-actions';\n\n/* eslint-disable padding-line-between-statements */\nexport const CREATE_SHORT_URL_START = 'shlink/createShortUrl/CREATE_SHORT_URL_START';\nexport const CREATE_SHORT_URL_ERROR = 'shlink/createShortUrl/CREATE_SHORT_URL_ERROR';\nexport const CREATE_SHORT_URL = 'shlink/createShortUrl/CREATE_SHORT_URL';\nexport const RESET_CREATE_SHORT_URL = 'shlink/createShortUrl/RESET_CREATE_SHORT_URL';\n/* eslint-enable padding-line-between-statements */\n\nexport const createShortUrlResultType = PropTypes.shape({\n  result: PropTypes.shape({\n    shortUrl: PropTypes.string,\n  }),\n  saving: PropTypes.bool,\n  error: PropTypes.bool,\n});\n\nconst initialState = {\n  result: null,\n  saving: false,\n  error: false,\n};\n\nexport default handleActions({\n  [CREATE_SHORT_URL_START]: (state) => ({ ...state, saving: true, error: false }),\n  [CREATE_SHORT_URL_ERROR]: (state) => ({ ...state, saving: false, error: true }),\n  [CREATE_SHORT_URL]: (state, { result }) => ({ result, saving: false, error: false }),\n  [RESET_CREATE_SHORT_URL]: () => initialState,\n}, initialState);\n\nexport const createShortUrl = (buildShlinkApiClient) => (data) => async (dispatch, getState) => {\n  dispatch({ type: CREATE_SHORT_URL_START });\n  const { createShortUrl } = buildShlinkApiClient(getState);\n\n  try {\n    const result = await createShortUrl(data);\n\n    dispatch({ type: CREATE_SHORT_URL, result });\n  } catch (e) {\n    dispatch({ type: CREATE_SHORT_URL_ERROR });\n\n    throw e;\n  }\n};\n\nexport const resetCreateShortUrl = createAction(RESET_CREATE_SHORT_URL);\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faInfoCircle as infoIcon } from '@fortawesome/free-solid-svg-icons';\nimport { Modal, ModalBody, ModalHeader } from 'reactstrap';\nimport './UseExistingIfFoundInfoIcon.scss';\nimport { useToggle } from '../utils/helpers/hooks';\n\nconst renderInfoModal = (isOpen, toggle) => (\n  <Modal isOpen={isOpen} toggle={toggle} centered size=\"lg\">\n    <ModalHeader toggle={toggle}>Info</ModalHeader>\n    <ModalBody>\n      <p>\n        When the&nbsp;\n        <b><i>&quot;Use existing URL if found&quot;</i></b>\n        &nbsp;checkbox is checked, the server will return an existing short URL if it matches provided params.\n      </p>\n      <p>\n        These are the checks performed by Shlink in order to determine if an existing short URL should be returned:\n      </p>\n      <ul>\n        <li>\n          When only the long URL is provided: The most recent match will be returned, or a new short URL will be created\n          if none is found.\n        </li>\n        <li>\n          When long URL and custom slug and/or domain are provided: Same as in previous case, but it will try to match\n          the short URL using both the long URL and the slug, the long URL and the domain, or the three of them.\n          <br />\n          If the slug is being used by another long URL, an error will be returned.\n        </li>\n        <li>\n          When other params are provided: Same as in previous cases, but it will try to match existing short URLs with\n          all provided data. If any of them does not match, a new short URL will be created\n        </li>\n      </ul>\n    </ModalBody>\n  </Modal>\n);\n\nconst UseExistingIfFoundInfoIcon = () => {\n  const [ isModalOpen, toggleModal ] = useToggle();\n\n  return (\n    <React.Fragment>\n      <span title=\"What does this mean?\">\n        <FontAwesomeIcon icon={infoIcon} style={{ cursor: 'pointer' }} onClick={toggleModal} />\n      </span>\n      {renderInfoModal(isModalOpen, toggleModal)}\n    </React.Fragment>\n  );\n};\n\nexport default UseExistingIfFoundInfoIcon;\n","import { faAngleDoubleDown as downIcon, faAngleDoubleUp as upIcon } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { isEmpty, isNil, pipe, replace, trim } from 'ramda';\nimport React, { useState } from 'react';\nimport { Collapse, FormGroup, Input } from 'reactstrap';\nimport * as PropTypes from 'prop-types';\nimport DateInput from '../utils/DateInput';\nimport Checkbox from '../utils/Checkbox';\nimport { serverType } from '../servers/prop-types';\nimport { versionMatch } from '../utils/helpers/version';\nimport { hasValue } from '../utils/utils';\nimport { useToggle } from '../utils/helpers/hooks';\nimport { createShortUrlResultType } from './reducers/shortUrlCreation';\nimport UseExistingIfFoundInfoIcon from './UseExistingIfFoundInfoIcon';\n\nconst normalizeTag = pipe(trim, replace(/ /g, '-'));\nconst formatDate = (date) => isNil(date) ? date : date.format();\n\nconst propTypes = {\n  createShortUrl: PropTypes.func,\n  shortUrlCreationResult: createShortUrlResultType,\n  resetCreateShortUrl: PropTypes.func,\n  selectedServer: serverType,\n};\n\nconst initialState = {\n  longUrl: '',\n  tags: [],\n  customSlug: '',\n  shortCodeLength: '',\n  domain: '',\n  validSince: undefined,\n  validUntil: undefined,\n  maxVisits: '',\n  findIfExists: false,\n};\n\nconst CreateShortUrl = (TagsSelector, CreateShortUrlResult, ForServerVersion) => {\n  const CreateShortUrlComp = ({ createShortUrl, shortUrlCreationResult, resetCreateShortUrl, selectedServer }) => {\n    const [ shortUrlCreation, setShortUrlCreation ] = useState(initialState);\n    const [ moreOptionsVisible, toggleMoreOptionsVisible ] = useToggle();\n\n    const changeTags = (tags) => setShortUrlCreation({ ...shortUrlCreation, tags: tags.map(normalizeTag) });\n    const reset = () => setShortUrlCreation(initialState);\n    const save = (e) => {\n      e.preventDefault();\n\n      const shortUrlData = {\n        ...shortUrlCreation,\n        validSince: formatDate(shortUrlCreation.validSince),\n        validUntil: formatDate(shortUrlCreation.validUntil),\n      };\n\n      createShortUrl(shortUrlData).then(reset).catch(() => {});\n    };\n    const renderOptionalInput = (id, placeholder, type = 'text', props = {}) => (\n      <FormGroup>\n        <Input\n          id={id}\n          type={type}\n          placeholder={placeholder}\n          value={shortUrlCreation[id]}\n          onChange={(e) => setShortUrlCreation({ ...shortUrlCreation, [id]: e.target.value })}\n          {...props}\n        />\n      </FormGroup>\n    );\n    const renderDateInput = (id, placeholder, props = {}) => (\n      <div className=\"form-group\">\n        <DateInput\n          selected={shortUrlCreation[id]}\n          placeholderText={placeholder}\n          isClearable\n          onChange={(date) => setShortUrlCreation({ ...shortUrlCreation, [id]: date })}\n          {...props}\n        />\n      </div>\n    );\n\n    const currentServerVersion = selectedServer && selectedServer.version;\n    const disableDomain = !versionMatch(currentServerVersion, { minVersion: '1.19.0-beta.1' });\n    const disableShortCodeLength = !versionMatch(currentServerVersion, { minVersion: '2.1.0' });\n\n    return (\n      <form onSubmit={save}>\n        <div className=\"form-group\">\n          <input\n            className=\"form-control form-control-lg\"\n            type=\"url\"\n            placeholder=\"Insert the URL to be shortened\"\n            required\n            value={shortUrlCreation.longUrl}\n            onChange={(e) => setShortUrlCreation({ ...shortUrlCreation, longUrl: e.target.value })}\n          />\n        </div>\n\n        <Collapse isOpen={moreOptionsVisible}>\n          <div className=\"form-group\">\n            <TagsSelector tags={shortUrlCreation.tags} onChange={changeTags} />\n          </div>\n\n          <div className=\"row\">\n            <div className=\"col-sm-4\">\n              {renderOptionalInput('customSlug', 'Custom slug')}\n            </div>\n            <div className=\"col-sm-4\">\n              {renderOptionalInput('shortCodeLength', 'Short code length', 'number', {\n                min: 4,\n                disabled: disableShortCodeLength || hasValue(shortUrlCreation.customSlug),\n                ...disableShortCodeLength && {\n                  title: 'Shlink 2.1.0 or higher is required to be able to provide the short code length',\n                },\n              })}\n            </div>\n            <div className=\"col-sm-4\">\n              {renderOptionalInput('domain', 'Domain', 'text', {\n                disabled: disableDomain,\n                ...disableDomain && { title: 'Shlink 1.19.0 or higher is required to be able to provide the domain' },\n              })}\n            </div>\n          </div>\n\n          <div className=\"row\">\n            <div className=\"col-sm-4\">\n              {renderOptionalInput('maxVisits', 'Maximum number of visits allowed', 'number', { min: 1 })}\n            </div>\n            <div className=\"col-sm-4\">\n              {renderDateInput('validSince', 'Enabled since...', { maxDate: shortUrlCreation.validUntil })}\n            </div>\n            <div className=\"col-sm-4\">\n              {renderDateInput('validUntil', 'Enabled until...', { minDate: shortUrlCreation.validSince })}\n            </div>\n          </div>\n\n          <ForServerVersion minVersion=\"1.16.0\">\n            <div className=\"mb-4 text-right\">\n              <Checkbox\n                className=\"mr-2\"\n                checked={shortUrlCreation.findIfExists}\n                onChange={(findIfExists) => setShortUrlCreation({ ...shortUrlCreation, findIfExists })}\n              >\n                Use existing URL if found\n              </Checkbox>\n              <UseExistingIfFoundInfoIcon />\n            </div>\n          </ForServerVersion>\n        </Collapse>\n\n        <div>\n          <button type=\"button\" className=\"btn btn-outline-secondary\" onClick={toggleMoreOptionsVisible}>\n            <FontAwesomeIcon icon={moreOptionsVisible ? upIcon : downIcon} />\n            &nbsp;\n            {moreOptionsVisible ? 'Less' : 'More'} options\n          </button>\n          <button\n            className=\"btn btn-outline-primary float-right\"\n            disabled={shortUrlCreationResult.saving || isEmpty(shortUrlCreation.longUrl)}\n          >\n            {shortUrlCreationResult.saving ? 'Creating...' : 'Create'}\n          </button>\n        </div>\n\n        <CreateShortUrlResult {...shortUrlCreationResult} resetCreateShortUrl={resetCreateShortUrl} />\n      </form>\n    );\n  };\n\n  CreateShortUrlComp.propTypes = propTypes;\n\n  return CreateShortUrlComp;\n};\n\nexport default CreateShortUrl;\n","import React from 'react';\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { identity, pipe } from 'ramda';\nimport { shortUrlType } from '../reducers/shortUrlsList';\nimport { shortUrlDeletionType } from '../reducers/shortUrlDeletion';\n\nconst THRESHOLD_REACHED = 'INVALID_SHORTCODE_DELETION';\n\nexport default class DeleteShortUrlModal extends React.Component {\n  static propTypes = {\n    shortUrl: shortUrlType,\n    toggle: PropTypes.func,\n    isOpen: PropTypes.bool,\n    shortUrlDeletion: shortUrlDeletionType,\n    deleteShortUrl: PropTypes.func,\n    resetDeleteShortUrl: PropTypes.func,\n  };\n\n  state = { inputValue: '' };\n  handleDeleteUrl = (e) => {\n    e.preventDefault();\n\n    const { deleteShortUrl, shortUrl, toggle } = this.props;\n    const { shortCode, domain } = shortUrl;\n\n    deleteShortUrl(shortCode, domain)\n      .then(toggle)\n      .catch(identity);\n  };\n\n  componentWillUnmount() {\n    const { resetDeleteShortUrl } = this.props;\n\n    resetDeleteShortUrl();\n  }\n\n  render() {\n    const { shortUrl, toggle, isOpen, shortUrlDeletion, resetDeleteShortUrl } = this.props;\n    const { error, errorData } = shortUrlDeletion;\n    const errorCode = error && (errorData.type || errorData.error);\n    const hasThresholdError = errorCode === THRESHOLD_REACHED;\n    const hasErrorOtherThanThreshold = error && errorCode !== THRESHOLD_REACHED;\n    const close = pipe(resetDeleteShortUrl, toggle);\n\n    return (\n      <Modal isOpen={isOpen} toggle={close} centered>\n        <form onSubmit={this.handleDeleteUrl}>\n          <ModalHeader toggle={close}>\n            <span className=\"text-danger\">Delete short URL</span>\n          </ModalHeader>\n          <ModalBody>\n            <p><b className=\"text-danger\">Caution!</b> You are about to delete a short URL.</p>\n            <p>This action cannot be undone. Once you have deleted it, all the visits stats will be lost.</p>\n\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Insert the short code of the URL\"\n              value={this.state.inputValue}\n              onChange={(e) => this.setState({ inputValue: e.target.value })}\n            />\n\n            {hasThresholdError && (\n              <div className=\"p-2 mt-2 bg-warning text-center\">\n                {errorData.threshold && `This short URL has received more than ${errorData.threshold} visits, and therefore, it cannot be deleted.`}\n                {!errorData.threshold && 'This short URL has received too many visits, and therefore, it cannot be deleted.'}\n              </div>\n            )}\n            {hasErrorOtherThanThreshold && (\n              <div className=\"p-2 mt-2 bg-danger text-white text-center\">\n                Something went wrong while deleting the URL :(\n              </div>\n            )}\n          </ModalBody>\n          <ModalFooter>\n            <button type=\"button\" className=\"btn btn-link\" onClick={close}>Cancel</button>\n            <button\n              type=\"submit\"\n              className=\"btn btn-danger\"\n              disabled={this.state.inputValue !== shortUrl.shortCode || shortUrlDeletion.loading}\n            >\n              {shortUrlDeletion.loading ? 'Deleting...' : 'Delete'}\n            </button>\n          </ModalFooter>\n        </form>\n      </Modal>\n    );\n  }\n}\n","import React from 'react';\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { ExternalLink } from 'react-external-link';\nimport { pipe } from 'ramda';\nimport { shortUrlTagsType } from '../reducers/shortUrlTags';\nimport { shortUrlType } from '../reducers/shortUrlsList';\n\nconst EditTagsModal = (TagsSelector) => class EditTagsModal extends React.Component {\n  static propTypes = {\n    isOpen: PropTypes.bool.isRequired,\n    toggle: PropTypes.func.isRequired,\n    shortUrl: shortUrlType.isRequired,\n    shortUrlTags: shortUrlTagsType,\n    editShortUrlTags: PropTypes.func,\n    resetShortUrlsTags: PropTypes.func,\n  };\n\n  saveTags = () => {\n    const { editShortUrlTags, shortUrl, toggle } = this.props;\n\n    editShortUrlTags(shortUrl.shortCode, shortUrl.domain, this.state.tags)\n      .then(toggle)\n      .catch(() => {});\n  };\n\n  componentDidMount() {\n    const { resetShortUrlsTags } = this.props;\n\n    resetShortUrlsTags();\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = { tags: props.shortUrl.tags };\n  }\n\n  render() {\n    const { isOpen, toggle, shortUrl, shortUrlTags, resetShortUrlsTags } = this.props;\n    const url = shortUrl && (shortUrl.shortUrl || '');\n    const close = pipe(resetShortUrlsTags, toggle);\n\n    return (\n      <Modal isOpen={isOpen} toggle={close} centered>\n        <ModalHeader toggle={close}>\n          Edit tags for <ExternalLink href={url} />\n        </ModalHeader>\n        <ModalBody>\n          <TagsSelector tags={this.state.tags} onChange={(tags) => this.setState({ tags })} />\n          {shortUrlTags.error && (\n            <div className=\"p-2 mt-2 bg-danger text-white text-center\">\n              Something went wrong while saving the tags :(\n            </div>\n          )}\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"btn btn-link\" onClick={close}>Cancel</button>\n          <button\n            className=\"btn btn-primary\"\n            type=\"button\"\n            disabled={shortUrlTags.saving}\n            onClick={() => this.saveTags()}\n          >\n            {shortUrlTags.saving ? 'Saving tags...' : 'Save tags'}\n          </button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n};\n\nexport default EditTagsModal;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalBody, ModalFooter, ModalHeader, FormGroup, Input, UncontrolledTooltip } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faInfoCircle as infoIcon } from '@fortawesome/free-solid-svg-icons';\nimport { ExternalLink } from 'react-external-link';\nimport moment from 'moment';\nimport { isEmpty, pipe } from 'ramda';\nimport { shortUrlType } from '../reducers/shortUrlsList';\nimport { shortUrlEditMetaType } from '../reducers/shortUrlMeta';\nimport DateInput from '../../utils/DateInput';\nimport { formatIsoDate } from '../../utils/helpers/date';\n\nconst propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  toggle: PropTypes.func.isRequired,\n  shortUrl: shortUrlType.isRequired,\n  shortUrlMeta: shortUrlEditMetaType,\n  editShortUrlMeta: PropTypes.func,\n  resetShortUrlMeta: PropTypes.func,\n};\n\nconst dateOrUndefined = (shortUrl, dateName) => {\n  const date = shortUrl && shortUrl.meta && shortUrl.meta[dateName];\n\n  return date && moment(date);\n};\n\nconst EditMetaModal = ({ isOpen, toggle, shortUrl, shortUrlMeta, editShortUrlMeta, resetShortUrlMeta }) => {\n  const { saving, error } = shortUrlMeta;\n  const url = shortUrl && (shortUrl.shortUrl || '');\n  const [ validSince, setValidSince ] = useState(dateOrUndefined(shortUrl, 'validSince'));\n  const [ validUntil, setValidUntil ] = useState(dateOrUndefined(shortUrl, 'validUntil'));\n  const [ maxVisits, setMaxVisits ] = useState(shortUrl && shortUrl.meta && shortUrl.meta.maxVisits);\n\n  const close = pipe(resetShortUrlMeta, toggle);\n  const doEdit = () => editShortUrlMeta(shortUrl.shortCode, shortUrl.domain, {\n    maxVisits: maxVisits && !isEmpty(maxVisits) ? parseInt(maxVisits) : null,\n    validSince: validSince && formatIsoDate(validSince),\n    validUntil: validUntil && formatIsoDate(validUntil),\n  }).then(close);\n\n  return (\n    <Modal isOpen={isOpen} toggle={close} centered>\n      <ModalHeader toggle={close}>\n        <FontAwesomeIcon icon={infoIcon} id=\"metaTitleInfo\" /> Edit metadata for <ExternalLink href={url} />\n        <UncontrolledTooltip target=\"metaTitleInfo\" placement=\"bottom\">\n          <p>Using these metadata properties, you can limit when and how many times your short URL can be visited.</p>\n          <p>If any of the params is not met, the URL will behave as if it was an invalid short URL.</p>\n        </UncontrolledTooltip>\n      </ModalHeader>\n      <form onSubmit={(e) => e.preventDefault() || doEdit()}>\n        <ModalBody>\n          <FormGroup>\n            <DateInput\n              placeholderText=\"Enabled since...\"\n              selected={validSince}\n              maxDate={validUntil}\n              isClearable\n              onChange={setValidSince}\n            />\n          </FormGroup>\n          <FormGroup>\n            <DateInput\n              placeholderText=\"Enabled until...\"\n              selected={validUntil}\n              minDate={validSince}\n              isClearable\n              onChange={setValidUntil}\n            />\n          </FormGroup>\n          <FormGroup className=\"mb-0\">\n            <Input\n              type=\"number\"\n              placeholder=\"Maximum number of visits allowed\"\n              min={1}\n              value={maxVisits || ''}\n              onChange={(e) => setMaxVisits(e.target.value)}\n            />\n          </FormGroup>\n          {error && (\n            <div className=\"p-2 mt-2 bg-danger text-white text-center\">\n              Something went wrong while saving the metadata :(\n            </div>\n          )}\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"btn btn-link\" type=\"button\" onClick={close}>Cancel</button>\n          <button className=\"btn btn-primary\" type=\"submit\" disabled={saving}>{saving ? 'Saving...' : 'Save'}</button>\n        </ModalFooter>\n      </form>\n    </Modal>\n  );\n};\n\nEditMetaModal.propTypes = propTypes;\n\nexport default EditMetaModal;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalBody, ModalFooter, ModalHeader, FormGroup, Input, Button } from 'reactstrap';\nimport { ExternalLink } from 'react-external-link';\nimport { shortUrlType } from '../reducers/shortUrlsList';\nimport { ShortUrlEditionType } from '../reducers/shortUrlEdition';\nimport { hasValue } from '../../utils/utils';\n\nconst propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  toggle: PropTypes.func.isRequired,\n  shortUrl: shortUrlType.isRequired,\n  shortUrlEdition: ShortUrlEditionType,\n  editShortUrl: PropTypes.func,\n};\n\nconst EditShortUrlModal = ({ isOpen, toggle, shortUrl, shortUrlEdition, editShortUrl }) => {\n  const { saving, error } = shortUrlEdition;\n  const url = shortUrl && (shortUrl.shortUrl || '');\n  const [ longUrl, setLongUrl ] = useState(shortUrl.longUrl);\n\n  const doEdit = () => editShortUrl(shortUrl.shortCode, shortUrl.domain, longUrl).then(toggle);\n\n  return (\n    <Modal isOpen={isOpen} toggle={toggle} centered>\n      <ModalHeader toggle={toggle}>\n        Edit long URL for <ExternalLink href={url} />\n      </ModalHeader>\n      <form onSubmit={(e) => e.preventDefault() || doEdit()}>\n        <ModalBody>\n          <FormGroup className=\"mb-0\">\n            <Input\n              type=\"url\"\n              required\n              placeholder=\"Long URL\"\n              value={longUrl}\n              onChange={(e) => setLongUrl(e.target.value)}\n            />\n          </FormGroup>\n          {error && (\n            <div className=\"p-2 mt-2 bg-danger text-white text-center\">\n              Something went wrong while saving the long URL :(\n            </div>\n          )}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"link\" onClick={toggle}>Cancel</Button>\n          <Button color=\"primary\" disabled={saving || !hasValue(longUrl)}>{saving ? 'Saving...' : 'Save'}</Button>\n        </ModalFooter>\n      </form>\n    </Modal>\n  );\n};\n\nEditShortUrlModal.propTypes = propTypes;\n\nexport default EditShortUrlModal;\n","import { faCopy as copyIcon } from '@fortawesome/free-regular-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { isNil } from 'ramda';\nimport React from 'react';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { Card, CardBody, Tooltip } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { createShortUrlResultType } from '../reducers/shortUrlCreation';\nimport './CreateShortUrlResult.scss';\n\nconst CreateShortUrlResult = (stateFlagTimeout) => class CreateShortUrlResult extends React.Component {\n  static propTypes = {\n    resetCreateShortUrl: PropTypes.func,\n    error: PropTypes.bool,\n    result: createShortUrlResultType,\n  };\n\n  state = { showCopyTooltip: false };\n\n  componentDidMount() {\n    this.props.resetCreateShortUrl();\n  }\n\n  render() {\n    const { error, result } = this.props;\n\n    if (error) {\n      return (\n        <Card body color=\"danger\" inverse className=\"bg-danger mt-3\">\n          An error occurred while creating the URL :(\n        </Card>\n      );\n    }\n    if (isNil(result)) {\n      return null;\n    }\n\n    const { shortUrl } = result;\n    const onCopy = () => stateFlagTimeout(this.setState.bind(this), 'showCopyTooltip');\n\n    return (\n      <Card inverse className=\"bg-main mt-3\">\n        <CardBody>\n          <b>Great!</b> The short URL is <b>{shortUrl}</b>\n\n          <CopyToClipboard text={shortUrl} onCopy={onCopy}>\n            <button\n              className=\"btn btn-light btn-sm create-short-url-result__copy-btn\"\n              id=\"copyBtn\"\n              type=\"button\"\n            >\n              <FontAwesomeIcon icon={copyIcon} /> Copy\n            </button>\n          </CopyToClipboard>\n\n          <Tooltip placement=\"left\" isOpen={this.state.showCopyTooltip} target=\"copyBtn\">\n            Copied!\n          </Tooltip>\n        </CardBody>\n      </Card>\n    );\n  }\n};\n\nexport default CreateShortUrlResult;\n","import { connect as reduxConnect } from 'react-redux';\nimport { assoc } from 'ramda';\nimport ShortUrls from '../ShortUrls';\nimport SearchBar from '../SearchBar';\nimport ShortUrlsList from '../ShortUrlsList';\nimport ShortUrlsRow from '../helpers/ShortUrlsRow';\nimport ShortUrlsRowMenu from '../helpers/ShortUrlsRowMenu';\nimport CreateShortUrl from '../CreateShortUrl';\nimport DeleteShortUrlModal from '../helpers/DeleteShortUrlModal';\nimport EditTagsModal from '../helpers/EditTagsModal';\nimport EditMetaModal from '../helpers/EditMetaModal';\nimport EditShortUrlModal from '../helpers/EditShortUrlModal';\nimport CreateShortUrlResult from '../helpers/CreateShortUrlResult';\nimport { listShortUrls } from '../reducers/shortUrlsList';\nimport { createShortUrl, resetCreateShortUrl } from '../reducers/shortUrlCreation';\nimport { deleteShortUrl, resetDeleteShortUrl } from '../reducers/shortUrlDeletion';\nimport { editShortUrlTags, resetShortUrlsTags } from '../reducers/shortUrlTags';\nimport { editShortUrlMeta, resetShortUrlMeta } from '../reducers/shortUrlMeta';\nimport { resetShortUrlParams } from '../reducers/shortUrlsListParams';\nimport { editShortUrl } from '../reducers/shortUrlEdition';\n\nconst provideServices = (bottle, connect) => {\n  // Components\n  bottle.serviceFactory('ShortUrls', ShortUrls, 'SearchBar', 'ShortUrlsList');\n  bottle.decorator('ShortUrls', reduxConnect(\n    (state) => assoc('shortUrlsList', state.shortUrlsList.shortUrls, state.shortUrlsList)\n  ));\n\n  bottle.serviceFactory('SearchBar', SearchBar, 'ColorGenerator', 'ForServerVersion');\n  bottle.decorator('SearchBar', connect([ 'shortUrlsListParams' ], [ 'listShortUrls' ]));\n\n  bottle.serviceFactory('ShortUrlsList', ShortUrlsList, 'ShortUrlsRow');\n  bottle.decorator('ShortUrlsList', connect(\n    [ 'selectedServer', 'shortUrlsListParams' ],\n    [ 'listShortUrls', 'resetShortUrlParams' ]\n  ));\n\n  bottle.serviceFactory('ShortUrlsRow', ShortUrlsRow, 'ShortUrlsRowMenu', 'ColorGenerator', 'useStateFlagTimeout');\n\n  bottle.serviceFactory(\n    'ShortUrlsRowMenu',\n    ShortUrlsRowMenu,\n    'DeleteShortUrlModal',\n    'EditTagsModal',\n    'EditMetaModal',\n    'EditShortUrlModal',\n    'ForServerVersion'\n  );\n  bottle.serviceFactory('CreateShortUrlResult', CreateShortUrlResult, 'stateFlagTimeout');\n\n  bottle.serviceFactory('CreateShortUrl', CreateShortUrl, 'TagsSelector', 'CreateShortUrlResult', 'ForServerVersion');\n  bottle.decorator(\n    'CreateShortUrl',\n    connect([ 'shortUrlCreationResult', 'selectedServer' ], [ 'createShortUrl', 'resetCreateShortUrl' ])\n  );\n\n  bottle.serviceFactory('DeleteShortUrlModal', () => DeleteShortUrlModal);\n  bottle.decorator('DeleteShortUrlModal', connect([ 'shortUrlDeletion' ], [ 'deleteShortUrl', 'resetDeleteShortUrl' ]));\n\n  bottle.serviceFactory('EditTagsModal', EditTagsModal, 'TagsSelector');\n  bottle.decorator('EditTagsModal', connect([ 'shortUrlTags' ], [ 'editShortUrlTags', 'resetShortUrlsTags' ]));\n\n  bottle.serviceFactory('EditMetaModal', () => EditMetaModal);\n  bottle.decorator('EditMetaModal', connect([ 'shortUrlMeta' ], [ 'editShortUrlMeta', 'resetShortUrlMeta' ]));\n\n  bottle.serviceFactory('EditShortUrlModal', () => EditShortUrlModal);\n  bottle.decorator('EditShortUrlModal', connect([ 'shortUrlEdition' ], [ 'editShortUrl' ]));\n\n  // Actions\n  bottle.serviceFactory('editShortUrlTags', editShortUrlTags, 'buildShlinkApiClient');\n  bottle.serviceFactory('resetShortUrlsTags', () => resetShortUrlsTags);\n\n  bottle.serviceFactory('listShortUrls', listShortUrls, 'buildShlinkApiClient');\n  bottle.serviceFactory('resetShortUrlParams', () => resetShortUrlParams);\n\n  bottle.serviceFactory('createShortUrl', createShortUrl, 'buildShlinkApiClient');\n  bottle.serviceFactory('resetCreateShortUrl', () => resetCreateShortUrl);\n\n  bottle.serviceFactory('deleteShortUrl', deleteShortUrl, 'buildShlinkApiClient');\n  bottle.serviceFactory('resetDeleteShortUrl', () => resetDeleteShortUrl);\n\n  bottle.serviceFactory('editShortUrlMeta', editShortUrlMeta, 'buildShlinkApiClient');\n  bottle.serviceFactory('resetShortUrlMeta', () => resetShortUrlMeta);\n\n  bottle.serviceFactory('editShortUrl', editShortUrl, 'buildShlinkApiClient');\n};\n\nexport default provideServices;\n","import React from 'react';\nimport { v4 as uuid } from 'uuid';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  children: PropTypes.node.isRequired,\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  id: PropTypes.string,\n  type: PropTypes.string,\n  required: PropTypes.bool,\n};\n\nexport const HorizontalFormGroup = ({ children, value, onChange, id = uuid(), type = 'text', required = true }) => (\n  <div className=\"form-group row\">\n    <label htmlFor={id} className=\"col-lg-1 col-md-2 col-form-label create-server__label\">\n      {children}:\n    </label>\n    <div className=\"col-lg-11 col-md-10\">\n      <input\n        className=\"form-control\"\n        type={type}\n        id={id}\n        value={value}\n        required={required}\n        onChange={(e) => onChange(e.target.value)}\n      />\n    </div>\n  </div>\n);\n\nHorizontalFormGroup.propTypes = propTypes;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { HorizontalFormGroup } from '../../utils/HorizontalFormGroup';\n\nconst propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  initialValues: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    url: PropTypes.string.isRequired,\n    apiKey: PropTypes.string.isRequired,\n  }),\n  children: PropTypes.node.isRequired,\n};\n\nexport const ServerForm = ({ onSubmit, initialValues, children }) => {\n  const [ name, setName ] = useState('');\n  const [ url, setUrl ] = useState('');\n  const [ apiKey, setApiKey ] = useState('');\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit({ name, url, apiKey });\n  };\n\n  useEffect(() => {\n    initialValues && setName(initialValues.name);\n    initialValues && setUrl(initialValues.url);\n    initialValues && setApiKey(initialValues.apiKey);\n  }, [ initialValues ]);\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <HorizontalFormGroup value={name} onChange={setName}>Name</HorizontalFormGroup>\n      <HorizontalFormGroup type=\"url\" value={url} onChange={setUrl}>URL</HorizontalFormGroup>\n      <HorizontalFormGroup value={apiKey} onChange={setApiKey}>API key</HorizontalFormGroup>\n\n      <div className=\"text-right\">{children}</div>\n    </form>\n  );\n};\n\nServerForm.propTypes = propTypes;\n","import React, { useEffect } from 'react';\nimport { v4 as uuid } from 'uuid';\nimport PropTypes from 'prop-types';\nimport './CreateServer.scss';\nimport { ServerForm } from './helpers/ServerForm';\n\nconst SHOW_IMPORT_MSG_TIME = 4000;\nconst propTypes = {\n  createServer: PropTypes.func,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }),\n  resetSelectedServer: PropTypes.func,\n};\n\nconst CreateServer = (ImportServersBtn, useStateFlagTimeout) => {\n  const CreateServerComp = ({ createServer, history: { push }, resetSelectedServer }) => {\n    const [ serversImported, setServersImported ] = useStateFlagTimeout(false, SHOW_IMPORT_MSG_TIME);\n    const handleSubmit = (serverData) => {\n      const id = uuid();\n      const server = { id, ...serverData };\n\n      createServer(server);\n      push(`/server/${id}/list-short-urls/1`);\n    };\n\n    useEffect(() => {\n      resetSelectedServer();\n    }, []);\n\n    return (\n      <div className=\"create-server\">\n        <ServerForm onSubmit={handleSubmit}>\n          <ImportServersBtn onImport={setServersImported} />\n          <button className=\"btn btn-outline-primary\">Create server</button>\n        </ServerForm>\n\n        {serversImported && (\n          <div className=\"row create-server__import-success-msg\">\n            <div className=\"col-md-10 offset-md-1\">\n              <div className=\"p-2 mt-3 bg-main text-white text-center\">\n                Servers properly imported. You can now select one from the list :)\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  CreateServerComp.propTypes = propTypes;\n\n  return CreateServerComp;\n};\n\nexport default CreateServer;\n","import { isEmpty, values } from 'ramda';\nimport React from 'react';\nimport { DropdownItem, DropdownMenu, DropdownToggle, UncontrolledDropdown } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { serverType } from './prop-types';\n\nconst ServersDropdown = (serversExporter) => class ServersDropdown extends React.Component {\n  static propTypes = {\n    servers: PropTypes.object,\n    selectedServer: serverType,\n    listServers: PropTypes.func,\n    history: PropTypes.shape({\n      push: PropTypes.func,\n    }),\n  };\n\n  renderServers = () => {\n    const { servers: { list, loading }, selectedServer } = this.props;\n    const servers = values(list);\n    const { push } = this.props.history;\n    const loadServer = (id) => push(`/server/${id}/list-short-urls/1`);\n\n    if (loading) {\n      return <DropdownItem disabled><i>Trying to load servers...</i></DropdownItem>;\n    }\n\n    if (isEmpty(servers)) {\n      return <DropdownItem disabled><i>Add a server first...</i></DropdownItem>;\n    }\n\n    return (\n      <React.Fragment>\n        {servers.map(({ name, id }) => (\n          <DropdownItem key={id} active={selectedServer && selectedServer.id === id} onClick={() => loadServer(id)}>\n            {name}\n          </DropdownItem>\n        ))}\n        <DropdownItem divider />\n        <DropdownItem className=\"servers-dropdown__export-item\" onClick={() => serversExporter.exportServers()}>\n          Export servers\n        </DropdownItem>\n      </React.Fragment>\n    );\n  };\n\n  componentDidMount = this.props.listServers;\n\n  render = () => (\n    <UncontrolledDropdown nav inNavbar>\n      <DropdownToggle nav caret>Servers</DropdownToggle>\n      <DropdownMenu right>{this.renderServers()}</DropdownMenu>\n    </UncontrolledDropdown>\n  );\n};\n\nexport default ServersDropdown;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\nimport { serverType } from './prop-types';\n\nconst propTypes = {\n  toggle: PropTypes.func.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  server: serverType,\n  deleteServer: PropTypes.func,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }),\n};\n\nconst DeleteServerModal = ({ server, toggle, isOpen, deleteServer, history }) => {\n  const closeModal = () => {\n    deleteServer(server);\n    toggle();\n    history.push('/');\n  };\n\n  return (\n    <Modal isOpen={isOpen} toggle={toggle} centered>\n      <ModalHeader toggle={toggle}><span className=\"text-danger\">Remove server</span></ModalHeader>\n      <ModalBody>\n        <p>Are you sure you want to remove <b>{server ? server.name : ''}</b>?</p>\n        <p>\n          <i>\n            No data will be deleted, only the access to this server will be removed from this host.\n            You can create it again at any moment.\n          </i>\n        </p>\n      </ModalBody>\n      <ModalFooter>\n        <button className=\"btn btn-link\" onClick={toggle}>Cancel</button>\n        <button className=\"btn btn-danger\" onClick={() => closeModal()}>Delete</button>\n      </ModalFooter>\n    </Modal>\n  );\n};\n\nDeleteServerModal.propTypes = propTypes;\n\nexport default DeleteServerModal;\n","import React from 'react';\nimport { faMinusCircle as deleteIcon } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport PropTypes from 'prop-types';\nimport { useToggle } from '../utils/helpers/hooks';\nimport { serverType } from './prop-types';\n\nconst propTypes = {\n  server: serverType,\n  className: PropTypes.string,\n  textClassName: PropTypes.string,\n  children: PropTypes.node,\n};\n\nconst DeleteServerButton = (DeleteServerModal) => {\n  const DeleteServerButtonComp = ({ server, className, children, textClassName }) => {\n    const [ isModalOpen, , showModal, hideModal ] = useToggle();\n\n    return (\n      <React.Fragment>\n        <span className={className} onClick={showModal}>\n          {!children && <FontAwesomeIcon icon={deleteIcon} />}\n          <span className={textClassName}>{children || 'Remove this server'}</span>\n        </span>\n\n        <DeleteServerModal server={server} isOpen={isModalOpen} toggle={hideModal} />\n      </React.Fragment>\n    );\n  };\n\n  DeleteServerButtonComp.propTypes = propTypes;\n\n  return DeleteServerButtonComp;\n};\n\nexport default DeleteServerButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ServerForm } from './helpers/ServerForm';\nimport { withSelectedServer } from './helpers/withSelectedServer';\nimport { serverType } from './prop-types';\n\nconst propTypes = {\n  editServer: PropTypes.func,\n  selectedServer: serverType,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }),\n};\n\nexport const EditServer = (ServerError) => {\n  const EditServerComp = ({ editServer, selectedServer, history: { push } }) => {\n    const handleSubmit = (serverData) => {\n      editServer(selectedServer.id, serverData);\n      push(`/server/${selectedServer.id}/list-short-urls/1`);\n    };\n\n    return (\n      <div className=\"create-server\">\n        <ServerForm initialValues={selectedServer} onSubmit={handleSubmit}>\n          <button className=\"btn btn-outline-primary\">Save</button>\n        </ServerForm>\n      </div>\n    );\n  };\n\n  EditServerComp.propTypes = propTypes;\n\n  return withSelectedServer(EditServerComp, ServerError);\n};\n","import React from 'react';\nimport { UncontrolledTooltip } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nconst ImportServersBtn = (serversImporter) => class ImportServersBtn extends React.Component {\n  static defaultProps = {\n    onImport: () => ({}),\n  };\n  static propTypes = {\n    onImport: PropTypes.func,\n    createServers: PropTypes.func,\n    fileRef: PropTypes.oneOfType([ PropTypes.object, PropTypes.node ]),\n  };\n\n  constructor(props) {\n    super(props);\n    this.fileRef = props.fileRef || React.createRef();\n  }\n\n  render() {\n    const { importServersFromFile } = serversImporter;\n    const { onImport, createServers } = this.props;\n    const onChange = ({ target }) =>\n      importServersFromFile(target.files[0])\n        .then(createServers)\n        .then(onImport)\n        .then(() => {\n          // Reset input after processing file\n          target.value = null;\n        });\n\n    return (\n      <React.Fragment>\n        <button\n          type=\"button\"\n          className=\"btn btn-outline-secondary mr-2\"\n          id=\"importBtn\"\n          onClick={() => this.fileRef.current.click()}\n        >\n          Import from file\n        </button>\n        <UncontrolledTooltip placement=\"top\" target=\"importBtn\">\n          You can create servers by importing a CSV file with columns <b>name</b>, <b>apiKey</b> and <b>url</b>\n        </UncontrolledTooltip>\n\n        <input\n          type=\"file\"\n          accept=\"text/csv\"\n          className=\"create-server__csv-select\"\n          ref={this.fileRef}\n          onChange={onChange}\n        />\n      </React.Fragment>\n    );\n  }\n};\n\nexport default ImportServersBtn;\n","import { createAction, handleActions } from 'redux-actions';\nimport { identity, memoizeWith, pipe } from 'ramda';\nimport { resetShortUrlParams } from '../../short-urls/reducers/shortUrlsListParams';\nimport { versionToPrintable, versionToSemVer as toSemVer } from '../../utils/helpers/version';\n\n/* eslint-disable padding-line-between-statements */\nexport const SELECT_SERVER = 'shlink/selectedServer/SELECT_SERVER';\nexport const RESET_SELECTED_SERVER = 'shlink/selectedServer/RESET_SELECTED_SERVER';\n\nexport const MIN_FALLBACK_VERSION = '1.0.0';\nexport const MAX_FALLBACK_VERSION = '999.999.999';\nexport const LATEST_VERSION_CONSTRAINT = 'latest';\n/* eslint-enable padding-line-between-statements */\n\nconst initialState = null;\nconst versionToSemVer = pipe(\n  (version) => version === LATEST_VERSION_CONSTRAINT ? MAX_FALLBACK_VERSION : version,\n  toSemVer(MIN_FALLBACK_VERSION)\n);\n\nconst getServerVersion = memoizeWith(identity, (serverId, health) => health().then(({ version }) => ({\n  version: versionToSemVer(version),\n  printableVersion: versionToPrintable(version),\n})));\n\nexport const resetSelectedServer = createAction(RESET_SELECTED_SERVER);\n\nexport const selectServer = ({ findServerById }, buildShlinkApiClient) => (serverId) => async (dispatch) => {\n  dispatch(resetSelectedServer());\n  dispatch(resetShortUrlParams());\n  const selectedServer = findServerById(serverId);\n\n  if (!selectedServer) {\n    dispatch({\n      type: SELECT_SERVER,\n      selectedServer: { serverNotFound: true },\n    });\n\n    return;\n  }\n\n  try {\n    const { health } = buildShlinkApiClient(selectedServer);\n    const { version, printableVersion } = await getServerVersion(serverId, health);\n\n    dispatch({\n      type: SELECT_SERVER,\n      selectedServer: {\n        ...selectedServer,\n        version,\n        printableVersion,\n      },\n    });\n  } catch (e) {\n    dispatch({\n      type: SELECT_SERVER,\n      selectedServer: { ...selectedServer, serverNotReachable: true },\n    });\n  }\n};\n\nexport default handleActions({\n  [RESET_SELECTED_SERVER]: () => initialState,\n  [SELECT_SERVER]: (state, { selectedServer }) => selectedServer,\n}, initialState);\n","import { handleActions } from 'redux-actions';\nimport { pipe, isEmpty, assoc, map, prop } from 'ramda';\nimport { v4 as uuid } from 'uuid';\nimport { homepage } from '../../../package.json';\n\n/* eslint-disable padding-line-between-statements */\nexport const FETCH_SERVERS_START = 'shlink/servers/FETCH_SERVERS_START';\nexport const FETCH_SERVERS = 'shlink/servers/FETCH_SERVERS';\n/* eslint-enable padding-line-between-statements */\n\nconst initialState = {\n  list: {},\n  loading: false,\n};\n\nconst assocId = (server) => assoc('id', server.id || uuid(), server);\n\nexport default handleActions({\n  [FETCH_SERVERS_START]: (state) => ({ ...state, loading: true }),\n  [FETCH_SERVERS]: (state, { list }) => ({ list, loading: false }),\n}, initialState);\n\nexport const listServers = ({ listServers, createServers }, { get }) => () => async (dispatch) => {\n  dispatch({ type: FETCH_SERVERS_START });\n  const localList = listServers();\n\n  if (!isEmpty(localList)) {\n    dispatch({ type: FETCH_SERVERS, list: localList });\n\n    return;\n  }\n\n  // If local list is empty, try to fetch it remotely (making sure it's an array) and calculate IDs for every server\n  const getDataAsArrayWithIds = pipe(\n    prop('data'),\n    (value) => {\n      if (!Array.isArray(value)) {\n        throw new Error('Value is not an array');\n      }\n\n      return value;\n    },\n    map(assocId),\n  );\n  const remoteList = await get(`${homepage}/servers.json`)\n    .then(getDataAsArrayWithIds)\n    .catch(() => []);\n\n  createServers(remoteList);\n  dispatch({ type: FETCH_SERVERS, list: remoteList.reduce((map, server) => ({ ...map, [server.id]: server }), {}) });\n};\n\nexport const createServer = ({ createServer }, listServersAction) => pipe(createServer, listServersAction);\n\nexport const editServer = ({ editServer }, listServersAction) => pipe(editServer, listServersAction);\n\nexport const deleteServer = ({ deleteServer }, listServersAction) => pipe(deleteServer, listServersAction);\n\nexport const createServers = ({ createServers }, listServersAction) => pipe(\n  map(assocId),\n  createServers,\n  listServersAction\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { serverType } from '../prop-types';\nimport { versionMatch } from '../../utils/helpers/version';\n\nconst propTypes = {\n  minVersion: PropTypes.string,\n  maxVersion: PropTypes.string,\n  selectedServer: serverType,\n  children: PropTypes.node.isRequired,\n};\n\nconst ForServerVersion = ({ minVersion, maxVersion, selectedServer, children }) => {\n  if (!selectedServer) {\n    return null;\n  }\n\n  const { version } = selectedServer;\n  const matchesVersion = versionMatch(version, { maxVersion, minVersion });\n\n  if (!matchesVersion) {\n    return null;\n  }\n\n  return <React.Fragment>{children}</React.Fragment>;\n};\n\nForServerVersion.propTypes = propTypes;\n\nexport default ForServerVersion;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport Message from '../../utils/Message';\nimport ServersListGroup from '../ServersListGroup';\nimport { serverType } from '../prop-types';\nimport './ServerError.scss';\n\nconst propTypes = {\n  servers: PropTypes.object,\n  selectedServer: serverType,\n  type: PropTypes.oneOf([ 'not-found', 'not-reachable' ]).isRequired,\n};\n\nexport const ServerError = (DeleteServerButton) => {\n  const ServerErrorComp = ({ type, servers: { list }, selectedServer }) => (\n    <div className=\"server-error__container flex-column\">\n      <div className=\"row w-100 mb-3 mb-md-5\">\n        <Message type=\"error\">\n          {type === 'not-found' && 'Could not find this Shlink server.'}\n          {type === 'not-reachable' && (\n            <React.Fragment>\n              <p>Oops! Could not connect to this Shlink server.</p>\n              Make sure you have internet connection, and the server is properly configured and on-line.\n            </React.Fragment>\n          )}\n        </Message>\n      </div>\n\n      <ServersListGroup servers={Object.values(list)}>\n        These are the Shlink servers currently configured. Choose one of\n        them or <Link to=\"/server/create\">add a new one</Link>.\n      </ServersListGroup>\n\n      {type === 'not-reachable' && (\n        <div className=\"container mt-3 mt-md-5\">\n          <h5>\n            Alternatively, if you think you may have miss-configured this server, you\n            can <DeleteServerButton server={selectedServer} className=\"server-error__delete-btn\">remove it</DeleteServerButton> or&nbsp;\n            <Link to={`/server/${selectedServer.id}/edit`}>edit it</Link>.\n          </h5>\n        </div>\n      )}\n    </div>\n  );\n\n  ServerErrorComp.propTypes = propTypes;\n\n  return ServerErrorComp;\n};\n","export default class ServersImporter {\n  constructor(csvjson) {\n    this.csvjson = csvjson;\n  }\n\n  importServersFromFile = (file) => {\n    if (!file || file.type !== 'text/csv') {\n      return Promise.reject('No file provided or file is not a CSV');\n    }\n\n    const reader = new FileReader();\n\n    return new Promise((resolve) => {\n      reader.addEventListener('loadend', (e) => {\n        const content = e.target.result;\n        const servers = this.csvjson.toObject(content);\n\n        resolve(servers);\n      });\n      reader.readAsText(file);\n    });\n  };\n}\n","import { assoc, dissoc, reduce } from 'ramda';\n\nconst SERVERS_STORAGE_KEY = 'servers';\n\nexport default class ServersService {\n  constructor(storage) {\n    this.storage = storage;\n  }\n\n  listServers = () => this.storage.get(SERVERS_STORAGE_KEY) || {};\n\n  findServerById = (serverId) => this.listServers()[serverId];\n\n  createServer = (server) => this.createServers([ server ]);\n\n  createServers = (servers) => {\n    const allServers = reduce(\n      (serversObj, server) => assoc(server.id, server, serversObj),\n      this.listServers(),\n      servers\n    );\n\n    this.storage.set(SERVERS_STORAGE_KEY, allServers);\n  };\n\n  deleteServer = ({ id }) =>\n    this.storage.set(SERVERS_STORAGE_KEY, dissoc(id, this.listServers()));\n\n  editServer = (id, serverData) => {\n    const allServers = this.listServers();\n\n    if (!allServers[id]) {\n      return;\n    }\n\n    this.storage.set(SERVERS_STORAGE_KEY, assoc(id, { ...allServers[id], ...serverData }, allServers));\n  }\n}\n","import { dissoc, head, keys, values } from 'ramda';\n\nconst saveCsv = (window, csv) => {\n  const { navigator, document } = window;\n  const filename = 'shlink-servers.csv';\n  const blob = new Blob([ csv ], { type: 'text/csv;charset=utf-8;' });\n\n  // IE10 and IE11\n  if (navigator.msSaveBlob) {\n    navigator.msSaveBlob(blob, filename);\n\n    return;\n  }\n\n  // Modern browsers\n  const link = document.createElement('a');\n  const url = URL.createObjectURL(blob);\n\n  link.setAttribute('href', url);\n  link.setAttribute('download', filename);\n  link.style.visibility = 'hidden';\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n};\n\nexport default class ServersExporter {\n  constructor(serversService, window, csvjson) {\n    this.serversService = serversService;\n    this.window = window;\n    this.csvjson = csvjson;\n  }\n\n  exportServers = async () => {\n    const servers = values(this.serversService.listServers()).map(dissoc('id'));\n\n    try {\n      const csv = this.csvjson.toCSV(servers, {\n        headers: keys(head(servers)).join(','),\n      });\n\n      saveCsv(this.window, csv);\n    } catch (e) {\n      // FIXME Handle error\n      /* eslint no-console: \"off\" */\n      console.error(e);\n    }\n  };\n}\n","import csvjson from 'csvjson';\nimport CreateServer from '../CreateServer';\nimport ServersDropdown from '../ServersDropdown';\nimport DeleteServerModal from '../DeleteServerModal';\nimport DeleteServerButton from '../DeleteServerButton';\nimport { EditServer } from '../EditServer';\nimport ImportServersBtn from '../helpers/ImportServersBtn';\nimport { resetSelectedServer, selectServer } from '../reducers/selectedServer';\nimport { createServer, createServers, deleteServer, editServer, listServers } from '../reducers/server';\nimport ForServerVersion from '../helpers/ForServerVersion';\nimport { ServerError } from '../helpers/ServerError';\nimport ServersImporter from './ServersImporter';\nimport ServersService from './ServersService';\nimport ServersExporter from './ServersExporter';\n\nconst provideServices = (bottle, connect, withRouter) => {\n  // Components\n  bottle.serviceFactory('CreateServer', CreateServer, 'ImportServersBtn', 'useStateFlagTimeout');\n  bottle.decorator('CreateServer', connect([ 'selectedServer' ], [ 'createServer', 'resetSelectedServer' ]));\n\n  bottle.serviceFactory('EditServer', EditServer, 'ServerError');\n  bottle.decorator('EditServer', connect([ 'selectedServer' ], [ 'editServer', 'selectServer' ]));\n\n  bottle.serviceFactory('ServersDropdown', ServersDropdown, 'ServersExporter');\n  bottle.decorator('ServersDropdown', withRouter);\n  bottle.decorator('ServersDropdown', connect([ 'servers', 'selectedServer' ], [ 'listServers' ]));\n\n  bottle.serviceFactory('DeleteServerModal', () => DeleteServerModal);\n  bottle.decorator('DeleteServerModal', withRouter);\n  bottle.decorator('DeleteServerModal', connect(null, [ 'deleteServer' ]));\n\n  bottle.serviceFactory('DeleteServerButton', DeleteServerButton, 'DeleteServerModal');\n\n  bottle.serviceFactory('ImportServersBtn', ImportServersBtn, 'ServersImporter');\n  bottle.decorator('ImportServersBtn', connect(null, [ 'createServers' ]));\n\n  bottle.serviceFactory('ForServerVersion', () => ForServerVersion);\n  bottle.decorator('ForServerVersion', connect([ 'selectedServer' ]));\n\n  bottle.serviceFactory('ServerError', ServerError, 'DeleteServerButton');\n  bottle.decorator('ServerError', connect([ 'servers', 'selectedServer' ]));\n\n  // Services\n  bottle.constant('csvjson', csvjson);\n  bottle.service('ServersImporter', ServersImporter, 'csvjson');\n  bottle.service('ServersService', ServersService, 'Storage');\n  bottle.service('ServersExporter', ServersExporter, 'ServersService', 'window', 'csvjson');\n\n  // Actions\n  bottle.serviceFactory('selectServer', selectServer, 'ServersService', 'buildShlinkApiClient');\n  bottle.serviceFactory('createServer', createServer, 'ServersService', 'listServers');\n  bottle.serviceFactory('createServers', createServers, 'ServersService', 'listServers');\n  bottle.serviceFactory('deleteServer', deleteServer, 'ServersService', 'listServers');\n  bottle.serviceFactory('editServer', editServer, 'ServersService', 'listServers');\n  bottle.serviceFactory('listServers', listServers, 'ServersService', 'axios');\n\n  bottle.serviceFactory('resetSelectedServer', () => resetSelectedServer);\n};\n\nexport default provideServices;\n","import React from 'react';\nimport { DropdownItem, DropdownMenu, DropdownToggle, UncontrolledDropdown } from 'reactstrap';\nimport * as PropTypes from 'prop-types';\n\nconst propTypes = {\n  toggleClassName: PropTypes.string,\n  ranges: PropTypes.arrayOf(PropTypes.number).isRequired,\n  value: PropTypes.number.isRequired,\n  setValue: PropTypes.func.isRequired,\n};\n\nconst PaginationDropdown = ({ toggleClassName, ranges, value, setValue }) => (\n  <UncontrolledDropdown>\n    <DropdownToggle caret color=\"link\" className={toggleClassName}>\n      Paginate\n    </DropdownToggle>\n    <DropdownMenu right>\n      {ranges.map((itemsPerPage) => (\n        <DropdownItem key={itemsPerPage} active={itemsPerPage === value} onClick={() => setValue(itemsPerPage)}>\n          <b>{itemsPerPage}</b> items per page\n        </DropdownItem>\n      ))}\n      <DropdownItem divider />\n      <DropdownItem disabled={value === Infinity} onClick={() => setValue(Infinity)}>\n        <i>Clear pagination</i>\n      </DropdownItem>\n    </DropdownMenu>\n  </UncontrolledDropdown>\n);\n\nPaginationDropdown.propTypes = propTypes;\n\nexport default PaginationDropdown;\n","const TEN_ROUNDING_NUMBER = 10;\nconst { ceil } = Math;\n\nconst formatter = new Intl.NumberFormat('en-US');\n\nexport const prettify = (number) => formatter.format(number);\n\nexport const roundTen = (number) => ceil(number / TEN_ROUNDING_NUMBER) * TEN_ROUNDING_NUMBER;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Pagination, PaginationItem, PaginationLink } from 'reactstrap';\nimport { isPageDisabled, keyForPage, progressivePagination } from '../utils/helpers/pagination';\nimport './SimplePaginator.scss';\n\nconst propTypes = {\n  pagesCount: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  setCurrentPage: PropTypes.func.isRequired,\n  centered: PropTypes.bool,\n};\n\nconst SimplePaginator = ({ pagesCount, currentPage, setCurrentPage, centered = true }) => {\n  if (pagesCount < 2) {\n    return null;\n  }\n\n  const onClick = (page) => () => setCurrentPage(page);\n\n  return (\n    <Pagination listClassName={classNames('flex-wrap mb-0 simple-paginator', { 'justify-content-center': centered })}>\n      <PaginationItem disabled={currentPage <= 1}>\n        <PaginationLink previous tag=\"span\" onClick={onClick(currentPage - 1)} />\n      </PaginationItem>\n      {progressivePagination(currentPage, pagesCount).map((pageNumber, index) => (\n        <PaginationItem\n          key={keyForPage(pageNumber, index)}\n          disabled={isPageDisabled(pageNumber)}\n          active={currentPage === pageNumber}\n        >\n          <PaginationLink tag=\"span\" onClick={onClick(pageNumber)}>{pageNumber}</PaginationLink>\n        </PaginationItem>\n      ))}\n      <PaginationItem disabled={currentPage >= pagesCount}>\n        <PaginationLink next tag=\"span\" onClick={onClick(currentPage + 1)} />\n      </PaginationItem>\n    </Pagination>\n  );\n};\n\nSimplePaginator.propTypes = propTypes;\n\nexport default SimplePaginator;\n","import { Card, CardHeader, CardBody, CardFooter } from 'reactstrap';\nimport { Doughnut, HorizontalBar } from 'react-chartjs-2';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { keys, values, zipObj } from 'ramda';\nimport './GraphCard.scss';\n\nconst propTypes = {\n  title: PropTypes.oneOfType([ PropTypes.string, PropTypes.func ]),\n  footer: PropTypes.oneOfType([ PropTypes.string, PropTypes.node ]),\n  isBarChart: PropTypes.bool,\n  stats: PropTypes.object,\n  max: PropTypes.number,\n  highlightedStats: PropTypes.object,\n  onClick: PropTypes.func,\n};\n\nconst generateGraphData = (title, isBarChart, labels, data, highlightedData) => ({\n  labels,\n  datasets: [\n    {\n      title,\n      label: highlightedData && 'Non-selected',\n      data,\n      backgroundColor: isBarChart ? 'rgba(70, 150, 229, 0.4)' : [\n        '#97BBCD',\n        '#F7464A',\n        '#46BFBD',\n        '#FDB45C',\n        '#949FB1',\n        '#57A773',\n        '#414066',\n        '#08B2E3',\n        '#B6C454',\n        '#DCDCDC',\n        '#463730',\n      ],\n      borderColor: isBarChart ? 'rgba(70, 150, 229, 1)' : 'white',\n      borderWidth: 2,\n    },\n    highlightedData && {\n      title,\n      label: 'Selected',\n      data: highlightedData,\n      backgroundColor: 'rgba(247, 127, 40, 0.4)',\n      borderColor: '#F77F28',\n      borderWidth: 2,\n    },\n  ].filter(Boolean),\n});\n\nconst dropLabelIfHidden = (label) => label.startsWith('hidden') ? '' : label;\n\nconst determineHeight = (isBarChart, labels) => {\n  if (!isBarChart && labels.length > 8) {\n    return 200;\n  }\n\n  return isBarChart && labels.length > 20 ? labels.length * 8 : null;\n};\n\nconst renderGraph = (title, isBarChart, stats, max, highlightedStats, onClick) => {\n  const hasHighlightedStats = highlightedStats && Object.keys(highlightedStats).length > 0;\n  const Component = isBarChart ? HorizontalBar : Doughnut;\n  const labels = keys(stats).map(dropLabelIfHidden);\n  const data = values(!hasHighlightedStats ? stats : keys(highlightedStats).reduce((acc, highlightedKey) => {\n    if (acc[highlightedKey]) {\n      acc[highlightedKey] -= highlightedStats[highlightedKey];\n    }\n\n    return acc;\n  }, { ...stats }));\n  const highlightedData = hasHighlightedStats && values(\n    { ...zipObj(labels, labels.map(() => 0)), ...highlightedStats }\n  );\n\n  const options = {\n    legend: isBarChart ? { display: false } : { position: 'right' },\n    scales: isBarChart && {\n      xAxes: [\n        {\n          ticks: { beginAtZero: true, max },\n          stacked: true,\n        },\n      ],\n      yAxes: [{ stacked: true }],\n    },\n    tooltips: {\n      intersect: !isBarChart,\n\n      // Do not show tooltip on items with empty label when in a bar chart\n      filter: ({ yLabel }) => !isBarChart || yLabel !== '',\n    },\n    onHover: isBarChart && (({ target }, chartElement) => {\n      target.style.cursor = chartElement[0] ? 'pointer' : 'default';\n    }),\n  };\n  const graphData = generateGraphData(title, isBarChart, labels, data, highlightedData);\n  const height = determineHeight(isBarChart, labels);\n\n  // Provide a key based on the height, so that every time the dataset changes, a new graph is rendered\n  return (\n    <Component\n      key={height}\n      data={graphData}\n      options={options}\n      height={height}\n      getElementAtEvent={([ chart ]) => {\n        if (!onClick || !chart) {\n          return;\n        }\n\n        const { _index, _chart: { data } } = chart;\n        const { labels } = data;\n\n        onClick(labels[_index]);\n      }}\n    />\n  );\n};\n\nconst GraphCard = ({ title, footer, isBarChart, stats, max, highlightedStats, onClick }) => (\n  <Card className=\"mt-4\">\n    <CardHeader className=\"graph-card__header\">{typeof title === 'function' ? title() : title}</CardHeader>\n    <CardBody>{renderGraph(title, isBarChart, stats, max, highlightedStats, onClick)}</CardBody>\n    {footer && <CardFooter className=\"graph-card__footer--sticky\">{footer}</CardFooter>}\n  </Card>\n);\n\nGraphCard.propTypes = propTypes;\n\nexport default GraphCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { fromPairs, head, keys, pipe, prop, reverse, sortBy, splitEvery, toLower, toPairs, type, zipObj } from 'ramda';\nimport SortingDropdown from '../utils/SortingDropdown';\nimport PaginationDropdown from '../utils/PaginationDropdown';\nimport { rangeOf } from '../utils/utils';\nimport { roundTen } from '../utils/helpers/numbers';\nimport SimplePaginator from '../common/SimplePaginator';\nimport GraphCard from './GraphCard';\n\nconst { max } = Math;\nconst toLowerIfString = (value) => type(value) === 'String' ? toLower(value) : value;\nconst pickKeyFromPair = ([ key ]) => key;\nconst pickValueFromPair = ([ , value ]) => value;\n\nexport default class SortableBarGraph extends React.Component {\n  static propTypes = {\n    stats: PropTypes.object.isRequired,\n    highlightedStats: PropTypes.object,\n    title: PropTypes.string.isRequired,\n    sortingItems: PropTypes.object.isRequired,\n    extraHeaderContent: PropTypes.func,\n    withPagination: PropTypes.bool,\n    onClick: PropTypes.func,\n  };\n\n  state = {\n    orderField: undefined,\n    orderDir: undefined,\n    currentPage: 1,\n    itemsPerPage: Infinity,\n  };\n\n  getSortedPairsForStats(stats, sortingItems) {\n    const pairs = toPairs(stats);\n    const sortedPairs = !this.state.orderField ? pairs : sortBy(\n      pipe(\n        prop(this.state.orderField === head(keys(sortingItems)) ? 0 : 1),\n        toLowerIfString\n      ),\n      pairs\n    );\n\n    return !this.state.orderDir || this.state.orderDir === 'ASC' ? sortedPairs : reverse(sortedPairs);\n  }\n\n  determineStats(stats, highlightedStats, sortingItems) {\n    const sortedPairs = this.getSortedPairsForStats(stats, sortingItems);\n    const sortedKeys = sortedPairs.map(pickKeyFromPair);\n    // The highlighted stats have to be ordered based on the regular stats, not on its own values\n    const sortedHighlightedPairs = highlightedStats && toPairs(\n      { ...zipObj(sortedKeys, sortedKeys.map(() => 0)), ...highlightedStats }\n    );\n\n    if (sortedPairs.length <= this.state.itemsPerPage) {\n      return {\n        currentPageStats: fromPairs(sortedPairs),\n        currentPageHighlightedStats: sortedHighlightedPairs && fromPairs(sortedHighlightedPairs),\n      };\n    }\n\n    const pages = splitEvery(this.state.itemsPerPage, sortedPairs);\n    const highlightedPages = sortedHighlightedPairs && splitEvery(this.state.itemsPerPage, sortedHighlightedPairs);\n\n    return {\n      currentPageStats: fromPairs(this.determineCurrentPagePairs(pages)),\n      currentPageHighlightedStats: highlightedPages && fromPairs(this.determineCurrentPagePairs(highlightedPages)),\n      pagination: this.renderPagination(pages.length),\n      max: roundTen(max(...sortedPairs.map(pickValueFromPair))),\n    };\n  }\n\n  determineCurrentPagePairs(pages) {\n    const page = pages[this.state.currentPage - 1];\n\n    if (this.state.currentPage < pages.length) {\n      return page;\n    }\n\n    const firstPageLength = pages[0].length;\n\n    // Using the \"hidden\" key, the chart will just replace the label by an empty string\n    return [ ...page, ...rangeOf(firstPageLength - page.length, (i) => [ `hidden_${i}`, 0 ]) ];\n  }\n\n  renderPagination(pagesCount) {\n    const { currentPage } = this.state;\n    const setCurrentPage = (currentPage) => this.setState({ currentPage });\n\n    return <SimplePaginator currentPage={currentPage} pagesCount={pagesCount} setCurrentPage={setCurrentPage} />;\n  }\n\n  render() {\n    const {\n      stats,\n      highlightedStats,\n      sortingItems,\n      title,\n      extraHeaderContent,\n      withPagination = true,\n      ...rest\n    } = this.props;\n    const { currentPageStats, currentPageHighlightedStats, pagination, max } = this.determineStats(\n      stats,\n      highlightedStats && keys(highlightedStats).length > 0 ? highlightedStats : undefined,\n      sortingItems\n    );\n    const activeCities = keys(currentPageStats);\n    const computeTitle = () => (\n      <React.Fragment>\n        {title}\n        <div className=\"float-right\">\n          <SortingDropdown\n            isButton={false}\n            right\n            items={sortingItems}\n            orderField={this.state.orderField}\n            orderDir={this.state.orderDir}\n            onChange={(orderField, orderDir) => this.setState({ orderField, orderDir, currentPage: 1 })}\n          />\n        </div>\n        {withPagination && keys(stats).length > 50 && (\n          <div className=\"float-right\">\n            <PaginationDropdown\n              toggleClassName=\"btn-sm paddingless mr-3\"\n              ranges={[ 50, 100, 200, 500 ]}\n              value={this.state.itemsPerPage}\n              setValue={(itemsPerPage) => this.setState({ itemsPerPage, currentPage: 1 })}\n            />\n          </div>\n        )}\n        {extraHeaderContent && (\n          <div className=\"float-right\">\n            {extraHeaderContent(pagination ? activeCities : undefined)}\n          </div>\n        )}\n      </React.Fragment>\n    );\n\n    return (\n      <GraphCard\n        isBarChart\n        title={computeTitle}\n        stats={currentPageStats}\n        highlightedStats={currentPageHighlightedStats}\n        footer={pagination}\n        max={max}\n        {...rest}\n      />\n    );\n  }\n}\n","import { createAction, handleActions } from 'redux-actions';\nimport PropTypes from 'prop-types';\nimport { flatten, prop, range, splitEvery } from 'ramda';\n\n/* eslint-disable padding-line-between-statements */\nexport const GET_SHORT_URL_VISITS_START = 'shlink/shortUrlVisits/GET_SHORT_URL_VISITS_START';\nexport const GET_SHORT_URL_VISITS_ERROR = 'shlink/shortUrlVisits/GET_SHORT_URL_VISITS_ERROR';\nexport const GET_SHORT_URL_VISITS = 'shlink/shortUrlVisits/GET_SHORT_URL_VISITS';\nexport const GET_SHORT_URL_VISITS_LARGE = 'shlink/shortUrlVisits/GET_SHORT_URL_VISITS_LARGE';\nexport const GET_SHORT_URL_VISITS_CANCEL = 'shlink/shortUrlVisits/GET_SHORT_URL_VISITS_CANCEL';\n/* eslint-enable padding-line-between-statements */\n\nexport const visitType = PropTypes.shape({\n  referer: PropTypes.string,\n  date: PropTypes.string,\n  userAgent: PropTypes.string,\n  visitLocations: PropTypes.shape({\n    countryCode: PropTypes.string,\n    countryName: PropTypes.string,\n    regionName: PropTypes.string,\n    cityName: PropTypes.string,\n    latitude: PropTypes.number,\n    longitude: PropTypes.number,\n    timezone: PropTypes.string,\n    isEmpty: PropTypes.bool,\n  }),\n});\n\nexport const shortUrlVisitsType = PropTypes.shape({\n  visits: PropTypes.arrayOf(visitType),\n  loading: PropTypes.bool,\n  error: PropTypes.bool,\n});\n\nconst initialState = {\n  visits: [],\n  loading: false,\n  loadingLarge: false,\n  error: false,\n  cancelLoad: false,\n};\n\nexport default handleActions({\n  [GET_SHORT_URL_VISITS_START]: (state) => ({\n    ...state,\n    loading: true,\n    loadingLarge: false,\n    cancelLoad: false,\n  }),\n  [GET_SHORT_URL_VISITS_ERROR]: (state) => ({\n    ...state,\n    loading: false,\n    loadingLarge: false,\n    error: true,\n    cancelLoad: false,\n  }),\n  [GET_SHORT_URL_VISITS]: (state, { visits }) => ({\n    visits,\n    loading: false,\n    loadingLarge: false,\n    error: false,\n    cancelLoad: false,\n  }),\n  [GET_SHORT_URL_VISITS_LARGE]: (state) => ({ ...state, loadingLarge: true }),\n  [GET_SHORT_URL_VISITS_CANCEL]: (state) => ({ ...state, cancelLoad: true }),\n}, initialState);\n\nexport const getShortUrlVisits = (buildShlinkApiClient) => (shortCode, query) => async (dispatch, getState) => {\n  dispatch({ type: GET_SHORT_URL_VISITS_START });\n  const { getShortUrlVisits } = buildShlinkApiClient(getState);\n  const itemsPerPage = 5000;\n  const isLastPage = ({ currentPage, pagesCount }) => currentPage >= pagesCount;\n\n  const loadVisits = async (page = 1) => {\n    const { pagination, data } = await getShortUrlVisits(shortCode, { ...query, page, itemsPerPage });\n\n    // If pagination was not returned, then this is an older shlink version. Just return data\n    if (!pagination || isLastPage(pagination)) {\n      return data;\n    }\n\n    // If there are more pages, make requests in blocks of 4\n    const parallelRequestsCount = 4;\n    const parallelStartingPage = 2;\n    const pagesRange = range(parallelStartingPage, pagination.pagesCount + 1);\n    const pagesBlocks = splitEvery(parallelRequestsCount, pagesRange);\n\n    if (pagination.pagesCount - 1 > parallelRequestsCount) {\n      dispatch({ type: GET_SHORT_URL_VISITS_LARGE });\n    }\n\n    return data.concat(await loadPagesBlocks(pagesBlocks));\n  };\n\n  const loadPagesBlocks = async (pagesBlocks, index = 0) => {\n    const { shortUrlVisits: { cancelLoad } } = getState();\n\n    if (cancelLoad) {\n      return [];\n    }\n\n    const data = await loadVisitsInParallel(pagesBlocks[index]);\n\n    if (index < pagesBlocks.length - 1) {\n      return data.concat(await loadPagesBlocks(pagesBlocks, index + 1));\n    }\n\n    return data;\n  };\n\n  const loadVisitsInParallel = (pages) =>\n    Promise.all(pages.map(\n      (page) =>\n        getShortUrlVisits(shortCode, { ...query, page, itemsPerPage })\n          .then(prop('data'))\n    )).then(flatten);\n\n  try {\n    const visits = await loadVisits();\n\n    dispatch({ visits, type: GET_SHORT_URL_VISITS });\n  } catch (e) {\n    dispatch({ type: GET_SHORT_URL_VISITS_ERROR });\n  }\n};\n\nexport const cancelGetShortUrlVisits = createAction(GET_SHORT_URL_VISITS_CANCEL);\n","import { handleActions } from 'redux-actions';\nimport PropTypes from 'prop-types';\nimport { shortUrlType } from '../../short-urls/reducers/shortUrlsList';\n\n/* eslint-disable padding-line-between-statements */\nexport const GET_SHORT_URL_DETAIL_START = 'shlink/shortUrlDetail/GET_SHORT_URL_DETAIL_START';\nexport const GET_SHORT_URL_DETAIL_ERROR = 'shlink/shortUrlDetail/GET_SHORT_URL_DETAIL_ERROR';\nexport const GET_SHORT_URL_DETAIL = 'shlink/shortUrlDetail/GET_SHORT_URL_DETAIL';\n/* eslint-enable padding-line-between-statements */\n\nexport const shortUrlDetailType = PropTypes.shape({\n  shortUrl: shortUrlType,\n  loading: PropTypes.bool,\n  error: PropTypes.bool,\n});\n\nconst initialState = {\n  shortUrl: {},\n  loading: false,\n  error: false,\n};\n\nexport default handleActions({\n  [GET_SHORT_URL_DETAIL_START]: (state) => ({ ...state, loading: true }),\n  [GET_SHORT_URL_DETAIL_ERROR]: (state) => ({ ...state, loading: false, error: true }),\n  [GET_SHORT_URL_DETAIL]: (state, { shortUrl }) => ({ shortUrl, loading: false, error: false }),\n}, initialState);\n\nexport const getShortUrlDetail = (buildShlinkApiClient) => (shortCode, domain) => async (dispatch, getState) => {\n  dispatch({ type: GET_SHORT_URL_DETAIL_START });\n  const { getShortUrl } = buildShlinkApiClient(getState);\n\n  try {\n    const shortUrl = await getShortUrl(shortCode, domain);\n\n    dispatch({ shortUrl, type: GET_SHORT_URL_DETAIL });\n  } catch (e) {\n    dispatch({ type: GET_SHORT_URL_DETAIL_ERROR });\n  }\n};\n","import { Card, UncontrolledTooltip } from 'reactstrap';\nimport Moment from 'react-moment';\nimport React from 'react';\nimport { ExternalLink } from 'react-external-link';\nimport ShortUrlVisitsCount from '../short-urls/helpers/ShortUrlVisitsCount';\nimport { shortUrlDetailType } from './reducers/shortUrlDetail';\nimport { shortUrlVisitsType } from './reducers/shortUrlVisits';\nimport './VisitsHeader.scss';\n\nconst propTypes = {\n  shortUrlDetail: shortUrlDetailType.isRequired,\n  shortUrlVisits: shortUrlVisitsType.isRequired,\n};\n\nexport default function VisitsHeader({ shortUrlDetail, shortUrlVisits }) {\n  const { shortUrl, loading } = shortUrlDetail;\n  const { visits } = shortUrlVisits;\n  const shortLink = shortUrl && shortUrl.shortUrl ? shortUrl.shortUrl : '';\n  const longLink = shortUrl && shortUrl.longUrl ? shortUrl.longUrl : '';\n\n  const renderDate = () => (\n    <span>\n      <b id=\"created\" className=\"visits-header__created-at\"><Moment fromNow>{shortUrl.dateCreated}</Moment></b>\n      <UncontrolledTooltip placement=\"bottom\" target=\"created\">\n        <Moment format=\"YYYY-MM-DD HH:mm\">{shortUrl.dateCreated}</Moment>\n      </UncontrolledTooltip>\n    </span>\n  );\n\n  return (\n    <header>\n      <Card className=\"bg-light\" body>\n        <h2>\n          <span className=\"badge badge-main float-right\">\n            Visits:{' '}\n            <ShortUrlVisitsCount visitsCount={visits.length} shortUrl={shortUrl} />\n          </span>\n          Visit stats for <ExternalLink href={shortLink} />\n        </h2>\n        <hr />\n        <div>Created: {renderDate()}</div>\n        <div>\n          Long URL:{' '}\n          {loading && <small>Loading...</small>}\n          {!loading && <ExternalLink href={longLink} />}\n        </div>\n      </Card>\n    </header>\n  );\n}\n\nVisitsHeader.propTypes = propTypes;\n","import { isEmpty, propEq, values } from 'ramda';\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { Button, Card, Collapse } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport qs from 'qs';\nimport classNames from 'classnames';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronDown as chevronDown } from '@fortawesome/free-solid-svg-icons';\nimport DateRangeRow from '../utils/DateRangeRow';\nimport Message from '../utils/Message';\nimport { formatDate } from '../utils/helpers/date';\nimport { useToggle } from '../utils/helpers/hooks';\nimport SortableBarGraph from './SortableBarGraph';\nimport { shortUrlVisitsType } from './reducers/shortUrlVisits';\nimport VisitsHeader from './VisitsHeader';\nimport GraphCard from './GraphCard';\nimport { shortUrlDetailType } from './reducers/shortUrlDetail';\nimport VisitsTable from './VisitsTable';\n\nconst propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.object,\n  }),\n  location: PropTypes.shape({\n    search: PropTypes.string,\n  }),\n  getShortUrlVisits: PropTypes.func,\n  shortUrlVisits: shortUrlVisitsType,\n  getShortUrlDetail: PropTypes.func,\n  shortUrlDetail: shortUrlDetailType,\n  cancelGetShortUrlVisits: PropTypes.func,\n  matchMedia: PropTypes.func,\n};\n\nconst highlightedVisitsToStats = (highlightedVisits, prop) => highlightedVisits.reduce((acc, highlightedVisit) => {\n  if (!acc[highlightedVisit[prop]]) {\n    acc[highlightedVisit[prop]] = 0;\n  }\n\n  acc[highlightedVisit[prop]] += 1;\n\n  return acc;\n}, {});\nconst format = formatDate();\nlet selectedBar;\n\nconst ShortUrlVisits = ({ processStatsFromVisits, normalizeVisits }, OpenMapModalBtn) => {\n  const ShortUrlVisitsComp = ({\n    match,\n    location,\n    shortUrlVisits,\n    shortUrlDetail,\n    getShortUrlVisits,\n    getShortUrlDetail,\n    cancelGetShortUrlVisits,\n    matchMedia = window.matchMedia,\n  }) => {\n    const [ startDate, setStartDate ] = useState(undefined);\n    const [ endDate, setEndDate ] = useState(undefined);\n    const [ showTable, toggleTable ] = useToggle();\n    const [ tableIsSticky, , setSticky, unsetSticky ] = useToggle();\n    const [ highlightedVisits, setHighlightedVisits ] = useState([]);\n    const [ isMobileDevice, setIsMobileDevice ] = useState(false);\n    const determineIsMobileDevice = () => setIsMobileDevice(matchMedia('(max-width: 991px)').matches);\n    const setSelectedVisits = (selectedVisits) => {\n      selectedBar = undefined;\n      setHighlightedVisits(selectedVisits);\n    };\n    const highlightVisitsForProp = (prop) => (value) => {\n      const newSelectedBar = `${prop}_${value}`;\n\n      if (selectedBar === newSelectedBar) {\n        setHighlightedVisits([]);\n        selectedBar = undefined;\n      } else {\n        setHighlightedVisits(normalizedVisits.filter(propEq(prop, value)));\n        selectedBar = newSelectedBar;\n      }\n    };\n\n    const { params } = match;\n    const { shortCode } = params;\n    const { search } = location;\n    const { domain } = qs.parse(search, { ignoreQueryPrefix: true });\n\n    const { visits, loading, loadingLarge, error } = shortUrlVisits;\n    const showTableControls = !loading && visits.length > 0;\n    const normalizedVisits = useMemo(() => normalizeVisits(visits), [ visits ]);\n    const { os, browsers, referrers, countries, cities, citiesForMap } = useMemo(\n      () => processStatsFromVisits(normalizedVisits),\n      [ normalizedVisits ]\n    );\n    const mapLocations = values(citiesForMap);\n\n    const loadVisits = () =>\n      getShortUrlVisits(shortCode, { startDate: format(startDate), endDate: format(endDate), domain });\n\n    useEffect(() => {\n      getShortUrlDetail(shortCode, domain);\n      determineIsMobileDevice();\n      window.addEventListener('resize', determineIsMobileDevice);\n\n      return () => {\n        cancelGetShortUrlVisits();\n        window.removeEventListener('resize', determineIsMobileDevice);\n      };\n    }, []);\n    useEffect(() => {\n      loadVisits();\n    }, [ startDate, endDate ]);\n\n    const renderVisitsContent = () => {\n      if (loading) {\n        const message = loadingLarge ? 'This is going to take a while... :S' : 'Loading...';\n\n        return <Message loading>{message}</Message>;\n      }\n\n      if (error) {\n        return (\n          <Card className=\"mt-4\" body inverse color=\"danger\">\n            An error occurred while loading visits :(\n          </Card>\n        );\n      }\n\n      if (isEmpty(visits)) {\n        return <Message>There are no visits matching current filter  :(</Message>;\n      }\n\n      return (\n        <div className=\"row\">\n          <div className=\"col-xl-4 col-lg-6\">\n            <GraphCard title=\"Operating systems\" stats={os} />\n          </div>\n          <div className=\"col-xl-4 col-lg-6\">\n            <GraphCard title=\"Browsers\" stats={browsers} />\n          </div>\n          <div className=\"col-xl-4\">\n            <SortableBarGraph\n              title=\"Referrers\"\n              stats={referrers}\n              withPagination={false}\n              highlightedStats={highlightedVisitsToStats(highlightedVisits, 'referer')}\n              sortingItems={{\n                name: 'Referrer name',\n                amount: 'Visits amount',\n              }}\n              onClick={highlightVisitsForProp('referer')}\n            />\n          </div>\n          <div className=\"col-lg-6\">\n            <SortableBarGraph\n              title=\"Countries\"\n              stats={countries}\n              highlightedStats={highlightedVisitsToStats(highlightedVisits, 'country')}\n              sortingItems={{\n                name: 'Country name',\n                amount: 'Visits amount',\n              }}\n              onClick={highlightVisitsForProp('country')}\n            />\n          </div>\n          <div className=\"col-lg-6\">\n            <SortableBarGraph\n              title=\"Cities\"\n              stats={cities}\n              highlightedStats={highlightedVisitsToStats(highlightedVisits, 'city')}\n              extraHeaderContent={(activeCities) =>\n                mapLocations.length > 0 &&\n                <OpenMapModalBtn modalTitle=\"Cities\" locations={mapLocations} activeCities={activeCities} />\n              }\n              sortingItems={{\n                name: 'City name',\n                amount: 'Visits amount',\n              }}\n              onClick={highlightVisitsForProp('city')}\n            />\n          </div>\n        </div>\n      );\n    };\n\n    return (\n      <React.Fragment>\n        <VisitsHeader shortUrlDetail={shortUrlDetail} shortUrlVisits={shortUrlVisits} />\n\n        <section className=\"mt-4\">\n          <div className=\"row flex-md-row-reverse\">\n            <div className=\"col-lg-7 col-xl-6\">\n              <DateRangeRow\n                disabled={loading}\n                startDate={startDate}\n                endDate={endDate}\n                onStartDateChange={setStartDate}\n                onEndDateChange={setEndDate}\n              />\n            </div>\n            <div className=\"col-lg-5 col-xl-6 mt-4 mt-lg-0\">\n              {showTableControls && (\n                <span className={classNames({ row: isMobileDevice })}>\n                  <span className={classNames({ 'col-6': isMobileDevice })}>\n                    <Button outline color=\"primary\" block={isMobileDevice} onClick={toggleTable}>\n                      {showTable ? 'Hide' : 'Show'} table\n                      <FontAwesomeIcon icon={chevronDown} rotation={showTable ? 180 : undefined} className=\"ml-2\" />\n                    </Button>\n                  </span>\n                  <span className={classNames({ 'col-6': isMobileDevice, 'ml-2': !isMobileDevice })}>\n                    <Button\n                      outline\n                      disabled={highlightedVisits.length === 0}\n                      block={isMobileDevice}\n                      onClick={() => setSelectedVisits([])}\n                    >\n                      Reset selection\n                    </Button>\n                  </span>\n                </span>\n              )}\n            </div>\n          </div>\n        </section>\n\n        {showTableControls && (\n          <Collapse\n            isOpen={showTable}\n            // Enable stickiness only when there's no CSS animation, to avoid weird rendering effects\n            onEntered={setSticky}\n            onExiting={unsetSticky}\n          >\n            <VisitsTable\n              visits={normalizedVisits}\n              selectedVisits={highlightedVisits}\n              setSelectedVisits={setSelectedVisits}\n              isSticky={tableIsSticky}\n            />\n          </Collapse>\n        )}\n\n        <section>\n          {renderVisitsContent()}\n        </section>\n      </React.Fragment>\n    );\n  };\n\n  ShortUrlVisitsComp.propTypes = propTypes;\n\n  return ShortUrlVisitsComp;\n};\n\nexport default ShortUrlVisits;\n","import React, { useEffect, useMemo, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Moment from 'react-moment';\nimport classNames from 'classnames';\nimport { min, splitEvery } from 'ramda';\nimport {\n  faCaretDown as caretDownIcon,\n  faCaretUp as caretUpIcon,\n  faCheck as checkIcon,\n} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport SimplePaginator from '../common/SimplePaginator';\nimport SearchField from '../utils/SearchField';\nimport { determineOrderDir } from '../utils/utils';\nimport { prettify } from '../utils/helpers/numbers';\nimport './VisitsTable.scss';\n\nconst NormalizedVisitType = PropTypes.shape({\n\n});\n\nconst propTypes = {\n  visits: PropTypes.arrayOf(NormalizedVisitType).isRequired,\n  selectedVisits: PropTypes.arrayOf(NormalizedVisitType),\n  setSelectedVisits: PropTypes.func.isRequired,\n  isSticky: PropTypes.bool,\n  matchMedia: PropTypes.func,\n};\n\nconst PAGE_SIZE = 20;\nconst visitMatchesSearch = ({ browser, os, referer, country, city }, searchTerm) =>\n  `${browser} ${os} ${referer} ${country} ${city}`.toLowerCase().includes(searchTerm.toLowerCase());\nconst searchVisits = (searchTerm, visits) => visits.filter((visit) => visitMatchesSearch(visit, searchTerm));\nconst sortVisits = ({ field, dir }, visits) => visits.sort((a, b) => {\n  const greaterThan = dir === 'ASC' ? 1 : -1;\n  const smallerThan = dir === 'ASC' ? -1 : 1;\n\n  return a[field] > b[field] ? greaterThan : smallerThan;\n});\nconst calculateVisits = (allVisits, searchTerm, order) => {\n  const filteredVisits = searchTerm ? searchVisits(searchTerm, allVisits) : [ ...allVisits ];\n  const sortedVisits = order.dir ? sortVisits(order, filteredVisits) : filteredVisits;\n  const total = sortedVisits.length;\n  const visitsGroups = splitEvery(PAGE_SIZE, sortedVisits);\n\n  return { visitsGroups, total };\n};\n\nconst VisitsTable = ({\n  visits,\n  selectedVisits = [],\n  setSelectedVisits,\n  isSticky = false,\n  matchMedia = window.matchMedia,\n}) => {\n  const headerCellsClass = classNames('visits-table__header-cell', {\n    'visits-table__sticky': isSticky,\n  });\n  const matchMobile = () => matchMedia('(max-width: 767px)').matches;\n\n  const [ isMobileDevice, setIsMobileDevice ] = useState(matchMobile());\n  const [ searchTerm, setSearchTerm ] = useState(undefined);\n  const [ order, setOrder ] = useState({ field: undefined, dir: undefined });\n  const resultSet = useMemo(() => calculateVisits(visits, searchTerm, order), [ searchTerm, order ]);\n\n  const [ page, setPage ] = useState(1);\n  const end = page * PAGE_SIZE;\n  const start = end - PAGE_SIZE;\n\n  const orderByColumn = (field) => () => setOrder({ field, dir: determineOrderDir(field, order.field, order.dir) });\n  const renderOrderIcon = (field) => order.dir && order.field === field && (\n    <FontAwesomeIcon\n      icon={order.dir === 'ASC' ? caretUpIcon : caretDownIcon}\n      className=\"visits-table__header-icon\"\n    />\n  );\n\n  useEffect(() => {\n    const listener = () => setIsMobileDevice(matchMobile());\n\n    window.addEventListener('resize', listener);\n\n    return () => window.removeEventListener('resize', listener);\n  }, []);\n  useEffect(() => {\n    setPage(1);\n    setSelectedVisits([]);\n  }, [ searchTerm ]);\n\n  return (\n    <table className=\"table table-striped table-bordered table-hover table-sm visits-table\">\n      <thead className=\"visits-table__header\">\n        <tr>\n          <th\n            className={classNames('visits-table__header-cell text-center', {\n              'visits-table__sticky': isSticky,\n            })}\n            onClick={() => setSelectedVisits(\n              selectedVisits.length < resultSet.total ? resultSet.visitsGroups.flat() : []\n            )}\n          >\n            <FontAwesomeIcon icon={checkIcon} className={classNames({ 'text-primary': selectedVisits.length > 0 })} />\n          </th>\n          <th className={headerCellsClass} onClick={orderByColumn('date')}>\n            Date\n            {renderOrderIcon('date')}\n          </th>\n          <th className={headerCellsClass} onClick={orderByColumn('country')}>\n            Country\n            {renderOrderIcon('country')}\n          </th>\n          <th className={headerCellsClass} onClick={orderByColumn('city')}>\n            City\n            {renderOrderIcon('city')}\n          </th>\n          <th className={headerCellsClass} onClick={orderByColumn('browser')}>\n            Browser\n            {renderOrderIcon('browser')}\n          </th>\n          <th className={headerCellsClass} onClick={orderByColumn('os')}>\n            OS\n            {renderOrderIcon('os')}\n          </th>\n          <th className={headerCellsClass} onClick={orderByColumn('referer')}>\n            Referrer\n            {renderOrderIcon('referer')}\n          </th>\n        </tr>\n        <tr>\n          <td colSpan={7} className=\"p-0\">\n            <SearchField noBorder large={false} onChange={setSearchTerm} />\n          </td>\n        </tr>\n      </thead>\n      <tbody>\n        {(!resultSet.visitsGroups[page - 1] || resultSet.visitsGroups[page - 1].length === 0) && (\n          <tr>\n            <td colSpan={7} className=\"text-center\">\n              No visits found with current filtering\n            </td>\n          </tr>\n        )}\n        {resultSet.visitsGroups[page - 1] && resultSet.visitsGroups[page - 1].map((visit, index) => {\n          const isSelected = selectedVisits.includes(visit);\n\n          return (\n            <tr\n              key={index}\n              style={{ cursor: 'pointer' }}\n              className={classNames({ 'table-primary': isSelected })}\n              onClick={() => setSelectedVisits(\n                isSelected ? selectedVisits.filter((v) => v !== visit) : [ ...selectedVisits, visit ]\n              )}\n            >\n              <td className=\"text-center\">\n                {isSelected && <FontAwesomeIcon icon={checkIcon} className=\"text-primary\" />}\n              </td>\n              <td>\n                <Moment format=\"YYYY-MM-DD HH:mm\">{visit.date}</Moment>\n              </td>\n              <td>{visit.country}</td>\n              <td>{visit.city}</td>\n              <td>{visit.browser}</td>\n              <td>{visit.os}</td>\n              <td>{visit.referer}</td>\n            </tr>\n          );\n        })}\n      </tbody>\n      {resultSet.total > PAGE_SIZE && (\n        <tfoot>\n          <tr>\n            <td colSpan={7} className={classNames('visits-table__footer-cell', { 'visits-table__sticky': isSticky })}>\n              <div className=\"row\">\n                <div className=\"col-md-6\">\n                  <SimplePaginator\n                    pagesCount={Math.ceil(resultSet.total / PAGE_SIZE)}\n                    currentPage={page}\n                    setCurrentPage={setPage}\n                    centered={isMobileDevice}\n                  />\n                </div>\n                <div\n                  className={classNames('col-md-6', {\n                    'd-flex align-items-center flex-row-reverse': !isMobileDevice,\n                    'text-center mt-3': isMobileDevice,\n                  })}\n                >\n                  <div>\n                    Visits <b>{prettify(start + 1)}</b> to{' '}\n                    <b>{prettify(min(end, resultSet.total))}</b> of{' '}\n                    <b>{prettify(resultSet.total)}</b>\n                  </div>\n                </div>\n              </div>\n            </td>\n          </tr>\n        </tfoot>\n      )}\n    </table>\n  );\n};\n\nVisitsTable.propTypes = propTypes;\n\nexport default VisitsTable;\n","import React, { useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faMapMarkedAlt as mapIcon } from '@fortawesome/free-solid-svg-icons';\nimport { Dropdown, DropdownItem, DropdownMenu, UncontrolledTooltip } from 'reactstrap';\nimport * as PropTypes from 'prop-types';\nimport { useToggle } from '../../utils/helpers/hooks';\nimport './OpenMapModalBtn.scss';\n\nconst propTypes = {\n  modalTitle: PropTypes.string.isRequired,\n  locations: PropTypes.arrayOf(PropTypes.object),\n  activeCities: PropTypes.arrayOf(PropTypes.string),\n};\n\nconst OpenMapModalBtn = (MapModal) => {\n  const OpenMapModalBtn = ({ modalTitle, locations = [], activeCities }) => {\n    const [ mapIsOpened, , openMap, closeMap ] = useToggle();\n    const [ dropdownIsOpened, toggleDropdown, openDropdown ] = useToggle();\n    const [ locationsToShow, setLocationsToShow ] = useState([]);\n\n    const buttonRef = React.createRef();\n    const filterLocations = (locations) => locations.filter(({ cityName }) => activeCities.includes(cityName));\n    const onClick = () => {\n      if (!activeCities) {\n        setLocationsToShow(locations);\n        openMap();\n\n        return;\n      }\n\n      openDropdown();\n    };\n    const openMapWithLocations = (filtered) => () => {\n      setLocationsToShow(filtered ? filterLocations(locations) : locations);\n      openMap();\n    };\n\n    return (\n      <React.Fragment>\n        <button className=\"btn btn-link open-map-modal-btn__btn\" ref={buttonRef} onClick={onClick}>\n          <FontAwesomeIcon icon={mapIcon} />\n        </button>\n        <UncontrolledTooltip placement=\"left\" target={() => buttonRef.current}>Show in map</UncontrolledTooltip>\n        <Dropdown isOpen={dropdownIsOpened} toggle={toggleDropdown} inNavbar>\n          <DropdownMenu right>\n            <DropdownItem onClick={openMapWithLocations(false)}>Show all locations</DropdownItem>\n            <DropdownItem onClick={openMapWithLocations(true)}>Show locations in current page</DropdownItem>\n          </DropdownMenu>\n        </Dropdown>\n        <MapModal toggle={closeMap} isOpen={mapIsOpened} title={modalTitle} locations={locationsToShow} />\n      </React.Fragment>\n    );\n  };\n\n  OpenMapModalBtn.propTypes = propTypes;\n\n  return OpenMapModalBtn;\n};\n\nexport default OpenMapModalBtn;\n","import React from 'react';\nimport { Modal, ModalBody } from 'reactstrap';\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet';\nimport { prop } from 'ramda';\nimport * as PropTypes from 'prop-types';\nimport './MapModal.scss';\n\nconst propTypes = {\n  toggle: PropTypes.func,\n  isOpen: PropTypes.bool,\n  title: PropTypes.string,\n  locations: PropTypes.arrayOf(PropTypes.shape({\n    cityName: PropTypes.string.isRequired,\n    latLong: PropTypes.arrayOf(PropTypes.number).isRequired,\n    count: PropTypes.number.isRequired,\n  })),\n};\nconst defaultProps = {\n  locations: [],\n};\n\nconst OpenStreetMapTile = () => (\n  <TileLayer\n    attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n  />\n);\n\nconst calculateMapProps = (locations) => {\n  if (locations.length === 0) {\n    return {};\n  }\n\n  if (locations.length > 1) {\n    return { bounds: locations.map(prop('latLong')) };\n  }\n\n  // When there's only one location, an error is thrown if trying to calculate the bounds.\n  // When that happens, we use zoom and center as a workaround\n  const [{ latLong: center }] = locations;\n\n  return { zoom: '10', center };\n};\n\nconst MapModal = ({ toggle, isOpen, title, locations }) => (\n  <Modal toggle={toggle} isOpen={isOpen} className=\"map-modal__modal\" contentClassName=\"map-modal__modal-content\">\n    <ModalBody className=\"map-modal__modal-body\">\n      <h3 className=\"map-modal__modal-title\">\n        {title}\n        <button type=\"button\" className=\"close\" onClick={toggle}>&times;</button>\n      </h3>\n      <Map {...calculateMapProps(locations)}>\n        <OpenStreetMapTile />\n        {locations.map(({ cityName, latLong, count }, index) => (\n          <Marker key={index} position={latLong}>\n            <Popup><b>{count}</b> visit{count > 1 ? 's' : ''} from <b>{cityName}</b></Popup>\n          </Marker>\n        ))}\n      </Map>\n    </ModalBody>\n  </Modal>\n);\n\nMapModal.propTypes = propTypes;\nMapModal.defaultProps = defaultProps;\n\nexport default MapModal;\n","import bowser from 'bowser';\nimport { hasValue } from '../utils';\n\nconst DEFAULT = 'Others';\nconst BROWSERS_WHITELIST = [\n  'Android Browser',\n  'Chrome',\n  'Chromium',\n  'Firefox',\n  'Internet Explorer',\n  'Microsoft Edge',\n  'Opera',\n  'Safari',\n  'Samsung Internet for Android',\n  'Vivaldi',\n  'WeChat',\n];\n\nexport const parseUserAgent = (userAgent) => {\n  if (!hasValue(userAgent)) {\n    return { browser: DEFAULT, os: DEFAULT };\n  }\n\n  const { browser: { name: browser }, os: { name: os } } = bowser.parse(userAgent);\n\n  return { os: os || DEFAULT, browser: browser && BROWSERS_WHITELIST.includes(browser) ? browser : DEFAULT };\n};\n\nexport const extractDomain = (url) => {\n  if (!hasValue(url)) {\n    return 'Direct';\n  }\n\n  const domain = url.includes('://') ? url.split('/')[2] : url.split('/')[0];\n\n  return domain.split(':')[0];\n};\n","import { isNil, map } from 'ramda';\nimport { extractDomain, parseUserAgent } from '../../utils/helpers/visits';\nimport { hasValue } from '../../utils/utils';\n\nconst visitHasProperty = (visit, propertyName) => !isNil(visit) && hasValue(visit[propertyName]);\n\nconst updateOsStatsForVisit = (osStats, { os }) => {\n  osStats[os] = (osStats[os] || 0) + 1;\n};\n\nconst updateBrowsersStatsForVisit = (browsersStats, { browser }) => {\n  browsersStats[browser] = (browsersStats[browser] || 0) + 1;\n};\n\nconst updateReferrersStatsForVisit = (referrersStats, { referer: domain }) => {\n  referrersStats[domain] = (referrersStats[domain] || 0) + 1;\n};\n\nconst updateLocationsStatsForVisit = (propertyName) => (stats, visit) => {\n  const hasLocationProperty = visitHasProperty(visit, propertyName);\n  const value = hasLocationProperty ? visit[propertyName] : 'Unknown';\n\n  stats[value] = (stats[value] || 0) + 1;\n};\n\nconst updateCountriesStatsForVisit = updateLocationsStatsForVisit('country');\nconst updateCitiesStatsForVisit = updateLocationsStatsForVisit('city');\n\nconst updateCitiesForMapForVisit = (citiesForMapStats, visit) => {\n  if (!visitHasProperty(visit, 'city') || visit.city === 'Unknown') {\n    return;\n  }\n\n  const { city, latitude, longitude } = visit;\n  const currentCity = citiesForMapStats[city] || {\n    cityName: city,\n    count: 0,\n    latLong: [ parseFloat(latitude), parseFloat(longitude) ],\n  };\n\n  currentCity.count++;\n\n  citiesForMapStats[city] = currentCity;\n};\n\nexport const processStatsFromVisits = (normalizedVisits) =>\n  normalizedVisits.reduce(\n    (stats, visit) => {\n      // We mutate the original object because it has a big performance impact when large data sets are processed\n      updateOsStatsForVisit(stats.os, visit);\n      updateBrowsersStatsForVisit(stats.browsers, visit);\n      updateReferrersStatsForVisit(stats.referrers, visit);\n      updateCountriesStatsForVisit(stats.countries, visit);\n      updateCitiesStatsForVisit(stats.cities, visit);\n      updateCitiesForMapForVisit(stats.citiesForMap, visit);\n\n      return stats;\n    },\n    { os: {}, browsers: {}, referrers: {}, countries: {}, cities: {}, citiesForMap: {} }\n  );\n\nexport const normalizeVisits = map(({ userAgent, date, referer, visitLocation }) => {\n  const { browser, os } = parseUserAgent(userAgent);\n\n  return {\n    date,\n    browser,\n    os,\n    referer: extractDomain(referer),\n    country: (visitLocation && visitLocation.countryName) || 'Unknown',\n    city: (visitLocation && visitLocation.cityName) || 'Unknown',\n    latitude: visitLocation && visitLocation.latitude,\n    longitude: visitLocation && visitLocation.longitude,\n  };\n});\n","import ShortUrlVisits from '../ShortUrlVisits';\nimport { cancelGetShortUrlVisits, getShortUrlVisits } from '../reducers/shortUrlVisits';\nimport { getShortUrlDetail } from '../reducers/shortUrlDetail';\nimport OpenMapModalBtn from '../helpers/OpenMapModalBtn';\nimport MapModal from '../helpers/MapModal';\nimport * as visitsParser from './VisitsParser';\n\nconst provideServices = (bottle, connect) => {\n  // Components\n  bottle.serviceFactory('OpenMapModalBtn', OpenMapModalBtn, 'MapModal');\n  bottle.serviceFactory('MapModal', () => MapModal);\n  bottle.serviceFactory('ShortUrlVisits', ShortUrlVisits, 'VisitsParser', 'OpenMapModalBtn');\n  bottle.decorator('ShortUrlVisits', connect(\n    [ 'shortUrlVisits', 'shortUrlDetail' ],\n    [ 'getShortUrlVisits', 'getShortUrlDetail', 'cancelGetShortUrlVisits' ]\n  ));\n\n  // Services\n  bottle.serviceFactory('VisitsParser', () => visitsParser);\n\n  // Actions\n  bottle.serviceFactory('getShortUrlVisits', getShortUrlVisits, 'buildShlinkApiClient');\n  bottle.serviceFactory('getShortUrlDetail', getShortUrlDetail, 'buildShlinkApiClient');\n  bottle.serviceFactory('cancelGetShortUrlVisits', () => cancelGetShortUrlVisits);\n};\n\nexport default provideServices;\n","import React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { colorGeneratorType } from '../../utils/services/ColorGenerator';\nimport './TagBullet.scss';\n\nconst propTypes = {\n  tag: PropTypes.string.isRequired,\n  colorGenerator: colorGeneratorType,\n};\n\nconst TagBullet = ({ tag, colorGenerator }) => (\n  <div\n    style={{ backgroundColor: colorGenerator.getColorForKey(tag) }}\n    className=\"tag-bullet\"\n  />\n);\n\nTagBullet.propTypes = propTypes;\n\nexport default TagBullet;\n","import React from 'react';\nimport TagsInput from 'react-tagsinput';\nimport PropTypes from 'prop-types';\nimport Autosuggest from 'react-autosuggest';\nimport { identity } from 'ramda';\nimport TagBullet from './TagBullet';\nimport './TagsSelector.scss';\n\nconst TagsSelector = (colorGenerator) => class TagsSelector extends React.Component {\n  static propTypes = {\n    tags: PropTypes.arrayOf(PropTypes.string).isRequired,\n    onChange: PropTypes.func.isRequired,\n    listTags: PropTypes.func,\n    placeholder: PropTypes.string,\n    tagsList: PropTypes.shape({\n      tags: PropTypes.arrayOf(PropTypes.string),\n    }),\n  };\n  static defaultProps = {\n    placeholder: 'Add tags to the URL',\n  };\n\n  componentDidMount() {\n    const { listTags } = this.props;\n\n    listTags();\n  }\n\n  render() {\n    const { tags, onChange, placeholder, tagsList } = this.props;\n    const renderTag = ({ tag, key, disabled, onRemove, classNameRemove, getTagDisplayValue, ...other }) => (\n      <span key={key} style={{ backgroundColor: colorGenerator.getColorForKey(tag) }} {...other}>\n        {getTagDisplayValue(tag)}\n        {!disabled && <span className={classNameRemove} onClick={() => onRemove(key)} />}\n      </span>\n    );\n    const renderAutocompleteInput = (data) => {\n      const { addTag, ...otherProps } = data;\n      const handleOnChange = (e, { method }) => {\n        method === 'enter' ? e.preventDefault() : otherProps.onChange(e);\n      };\n\n      // eslint-disable-next-line no-extra-parens\n      const inputValue = (otherProps.value && otherProps.value.trim().toLowerCase()) || '';\n      const inputLength = inputValue.length;\n      const suggestions = tagsList.tags.filter((state) => state.toLowerCase().slice(0, inputLength) === inputValue);\n\n      return (\n        <Autosuggest\n          ref={otherProps.ref}\n          suggestions={suggestions}\n          inputProps={{ ...otherProps, onChange: handleOnChange }}\n          highlightFirstSuggestion\n          shouldRenderSuggestions={(value) => value && value.trim().length > 0}\n          getSuggestionValue={(suggestion) => suggestion}\n          renderSuggestion={(suggestion) => (\n            <React.Fragment>\n              <TagBullet tag={suggestion} colorGenerator={colorGenerator} />\n              {suggestion}\n            </React.Fragment>\n          )}\n          onSuggestionSelected={(e, { suggestion }) => {\n            addTag(suggestion);\n          }}\n          onSuggestionsClearRequested={identity}\n          onSuggestionsFetchRequested={identity}\n        />\n      );\n    };\n\n    return (\n      <TagsInput\n        value={tags}\n        inputProps={{ placeholder }}\n        onlyUnique\n        renderTag={renderTag}\n        renderInput={renderAutocompleteInput}\n\n        // FIXME Workaround to be able to add tags on Android\n        addOnBlur\n        onChange={onChange}\n      />\n    );\n  }\n};\n\nexport default TagsSelector;\n","import { Card, CardBody } from 'reactstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash as deleteIcon, faPencilAlt as editIcon } from '@fortawesome/free-solid-svg-icons';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport TagBullet from './helpers/TagBullet';\nimport './TagCard.scss';\n\nconst TagCard = (DeleteTagConfirmModal, EditTagModal, colorGenerator) => class TagCard extends React.Component {\n  static propTypes = {\n    tag: PropTypes.string,\n    currentServerId: PropTypes.string,\n  };\n\n  state = { isDeleteModalOpen: false, isEditModalOpen: false };\n\n  render() {\n    const { tag, currentServerId } = this.props;\n    const toggleDelete = () =>\n      this.setState(({ isDeleteModalOpen }) => ({ isDeleteModalOpen: !isDeleteModalOpen }));\n    const toggleEdit = () =>\n      this.setState(({ isEditModalOpen }) => ({ isEditModalOpen: !isEditModalOpen }));\n\n    return (\n      <Card className=\"tag-card\">\n        <CardBody className=\"tag-card__body\">\n          <button className=\"btn btn-light btn-sm tag-card__btn tag-card__btn--last\" onClick={toggleDelete}>\n            <FontAwesomeIcon icon={deleteIcon} />\n          </button>\n          <button className=\"btn btn-light btn-sm tag-card__btn\" onClick={toggleEdit}>\n            <FontAwesomeIcon icon={editIcon} />\n          </button>\n          <h5 className=\"tag-card__tag-title\">\n            <TagBullet tag={tag} colorGenerator={colorGenerator} />\n            <Link to={`/server/${currentServerId}/list-short-urls/1?tag=${tag}`}>{tag}</Link>\n          </h5>\n        </CardBody>\n\n        <DeleteTagConfirmModal tag={tag} toggle={toggleDelete} isOpen={this.state.isDeleteModalOpen} />\n        <EditTagModal tag={tag} toggle={toggleEdit} isOpen={this.state.isEditModalOpen} />\n      </Card>\n    );\n  }\n};\n\nexport default TagCard;\n","import { handleActions } from 'redux-actions';\nimport PropTypes from 'prop-types';\n\n/* eslint-disable padding-line-between-statements */\nexport const DELETE_TAG_START = 'shlink/deleteTag/DELETE_TAG_START';\nexport const DELETE_TAG_ERROR = 'shlink/deleteTag/DELETE_TAG_ERROR';\nexport const DELETE_TAG = 'shlink/deleteTag/DELETE_TAG';\nexport const TAG_DELETED = 'shlink/deleteTag/TAG_DELETED';\n/* eslint-enable padding-line-between-statements */\n\nexport const tagDeleteType = PropTypes.shape({\n  deleting: PropTypes.bool,\n  error: PropTypes.bool,\n});\n\nconst initialState = {\n  deleting: false,\n  error: false,\n};\n\nexport default handleActions({\n  [DELETE_TAG_START]: () => ({ deleting: true, error: false }),\n  [DELETE_TAG_ERROR]: () => ({ deleting: false, error: true }),\n  [DELETE_TAG]: () => ({ deleting: false, error: false }),\n}, initialState);\n\nexport const deleteTag = (buildShlinkApiClient) => (tag) => async (dispatch, getState) => {\n  dispatch({ type: DELETE_TAG_START });\n  const { deleteTags } = buildShlinkApiClient(getState);\n\n  try {\n    await deleteTags([ tag ]);\n    dispatch({ type: DELETE_TAG });\n  } catch (e) {\n    dispatch({ type: DELETE_TAG_ERROR });\n\n    throw e;\n  }\n};\n\nexport const tagDeleted = (tag) => ({ type: TAG_DELETED, tag });\n","import React from 'react';\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { tagDeleteType } from '../reducers/tagDelete';\n\nexport default class DeleteTagConfirmModal extends React.Component {\n  static propTypes = {\n    tag: PropTypes.string.isRequired,\n    toggle: PropTypes.func.isRequired,\n    isOpen: PropTypes.bool.isRequired,\n    deleteTag: PropTypes.func,\n    tagDelete: tagDeleteType,\n    tagDeleted: PropTypes.func,\n  };\n\n  doDelete = async () => {\n    const { tag, toggle, deleteTag } = this.props;\n\n    await deleteTag(tag);\n    this.tagWasDeleted = true;\n    toggle();\n  };\n  handleOnClosed = () => {\n    if (!this.tagWasDeleted) {\n      return;\n    }\n\n    const { tagDeleted, tag } = this.props;\n\n    tagDeleted(tag);\n  };\n\n  componentDidMount() {\n    this.tagWasDeleted = false;\n  }\n\n  render() {\n    const { tag, toggle, isOpen, tagDelete } = this.props;\n\n    return (\n      <Modal toggle={toggle} isOpen={isOpen} centered onClosed={this.handleOnClosed}>\n        <ModalHeader toggle={toggle}>\n          <span className=\"text-danger\">Delete tag</span>\n        </ModalHeader>\n        <ModalBody>\n          Are you sure you want to delete tag <b>{tag}</b>?\n          {tagDelete.error && (\n            <div className=\"p-2 mt-2 bg-danger text-white text-center\">\n              Something went wrong while deleting the tag :(\n            </div>\n          )}\n        </ModalBody>\n        <ModalFooter>\n          <button className=\"btn btn-link\" onClick={toggle}>Cancel</button>\n          <button\n            className=\"btn btn-danger\"\n            disabled={tagDelete.deleting}\n            onClick={() => this.doDelete()}\n          >\n            {tagDelete.deleting ? 'Deleting tag...' : 'Delete tag'}\n          </button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n","import React from 'react';\nimport { Modal, ModalBody, ModalFooter, ModalHeader, Popover } from 'reactstrap';\nimport { ChromePicker } from 'react-color';\nimport { faPalette as colorIcon } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport PropTypes from 'prop-types';\nimport './EditTagModal.scss';\n\nconst EditTagModal = ({ getColorForKey }) => class EditTagModal extends React.Component {\n  static propTypes = {\n    tag: PropTypes.string,\n    editTag: PropTypes.func,\n    toggle: PropTypes.func,\n    tagEdited: PropTypes.func,\n    isOpen: PropTypes.bool,\n    tagEdit: PropTypes.shape({\n      error: PropTypes.bool,\n      editing: PropTypes.bool,\n    }),\n  };\n\n  saveTag = (e) => {\n    e.preventDefault();\n    const { tag: oldName, editTag, toggle } = this.props;\n    const { tag: newName, color } = this.state;\n\n    editTag(oldName, newName, color)\n      .then(() => {\n        this.tagWasEdited = true;\n        toggle();\n      })\n      .catch(() => {});\n  };\n  handleOnClosed = () => {\n    if (!this.tagWasEdited) {\n      return;\n    }\n\n    const { tag: oldName, tagEdited } = this.props;\n    const { tag: newName, color } = this.state;\n\n    tagEdited(oldName, newName, color);\n  };\n\n  constructor(props) {\n    super(props);\n\n    const { tag } = props;\n\n    this.state = {\n      showColorPicker: false,\n      tag,\n      color: getColorForKey(tag),\n    };\n  }\n\n  componentDidMount() {\n    this.tagWasEdited = false;\n  }\n\n  render() {\n    const { isOpen, toggle, tagEdit } = this.props;\n    const { tag, color } = this.state;\n    const toggleColorPicker = () =>\n      this.setState(({ showColorPicker }) => ({ showColorPicker: !showColorPicker }));\n\n    return (\n      <Modal isOpen={isOpen} toggle={toggle} centered onClosed={this.handleOnClosed}>\n        <form onSubmit={(e) => this.saveTag(e)}>\n          <ModalHeader toggle={toggle}>Edit tag</ModalHeader>\n          <ModalBody>\n            <div className=\"input-group\">\n              <div\n                className=\"input-group-prepend\"\n                id=\"colorPickerBtn\"\n                onClick={toggleColorPicker}\n              >\n                <div\n                  className=\"input-group-text edit-tag-modal__color-picker-toggle\"\n                  style={{\n                    backgroundColor: color,\n                    borderColor: color,\n                  }}\n                >\n                  <FontAwesomeIcon icon={colorIcon} className=\"edit-tag-modal__color-icon\" />\n                </div>\n              </div>\n              <Popover\n                isOpen={this.state.showColorPicker}\n                toggle={toggleColorPicker}\n                target=\"colorPickerBtn\"\n                placement=\"right\"\n              >\n                <ChromePicker\n                  color={color}\n                  disableAlpha\n                  onChange={(color) => this.setState({ color: color.hex })}\n                />\n              </Popover>\n              <input\n                type=\"text\"\n                value={tag}\n                placeholder=\"Tag\"\n                required\n                className=\"form-control\"\n                onChange={(e) => this.setState({ tag: e.target.value })}\n              />\n            </div>\n\n            {tagEdit.error && (\n              <div className=\"p-2 mt-2 bg-danger text-white text-center\">\n                Something went wrong while editing the tag :(\n              </div>\n            )}\n          </ModalBody>\n          <ModalFooter>\n            <button type=\"button\" className=\"btn btn-link\" onClick={toggle}>Cancel</button>\n            <button type=\"submit\" className=\"btn btn-primary\" disabled={tagEdit.editing}>\n              {tagEdit.editing ? 'Saving...' : 'Save'}\n            </button>\n          </ModalFooter>\n        </form>\n      </Modal>\n    );\n  }\n};\n\nexport default EditTagModal;\n","import React from 'react';\nimport { splitEvery } from 'ramda';\nimport PropTypes from 'prop-types';\nimport Message from '../utils/Message';\nimport SearchField from '../utils/SearchField';\n\nconst { ceil } = Math;\nconst TAGS_GROUPS_AMOUNT = 4;\n\nconst TagsList = (TagCard) => class TagsList extends React.Component {\n  static propTypes = {\n    filterTags: PropTypes.func,\n    forceListTags: PropTypes.func,\n    tagsList: PropTypes.shape({\n      loading: PropTypes.bool,\n      error: PropTypes.bool,\n      filteredTags: PropTypes.arrayOf(PropTypes.string),\n    }),\n    match: PropTypes.object,\n  };\n\n  componentDidMount() {\n    const { forceListTags } = this.props;\n\n    forceListTags();\n  }\n\n  renderContent() {\n    const { tagsList, match } = this.props;\n\n    if (tagsList.loading) {\n      return <Message noMargin loading />;\n    }\n\n    if (tagsList.error) {\n      return (\n        <div className=\"col-12\">\n          <div className=\"bg-danger p-2 text-white text-center\">Error loading tags :(</div>\n        </div>\n      );\n    }\n\n    const tagsCount = tagsList.filteredTags.length;\n\n    if (tagsCount < 1) {\n      return <Message>No tags found</Message>;\n    }\n\n    const tagsGroups = splitEvery(ceil(tagsCount / TAGS_GROUPS_AMOUNT), tagsList.filteredTags);\n\n    return (\n      <React.Fragment>\n        {tagsGroups.map((group, index) => (\n          <div key={index} className=\"col-md-6 col-xl-3\">\n            {group.map((tag) => (\n              <TagCard\n                key={tag}\n                tag={tag}\n                currentServerId={match.params.serverId}\n              />\n            ))}\n          </div>\n        ))}\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    const { filterTags } = this.props;\n\n    return (\n      <React.Fragment>\n        {!this.props.tagsList.loading &&\n          <SearchField className=\"mb-3\" placeholder=\"Search tags...\" onChange={filterTags} />\n        }\n        <div className=\"row\">\n          {this.renderContent()}\n        </div>\n      </React.Fragment>\n    );\n  }\n};\n\nexport default TagsList;\n","import { pick } from 'ramda';\nimport { handleActions } from 'redux-actions';\n\n/* eslint-disable padding-line-between-statements */\nexport const EDIT_TAG_START = 'shlink/editTag/EDIT_TAG_START';\nexport const EDIT_TAG_ERROR = 'shlink/editTag/EDIT_TAG_ERROR';\nexport const EDIT_TAG = 'shlink/editTag/EDIT_TAG';\n/* eslint-enable padding-line-between-statements */\n\nexport const TAG_EDITED = 'shlink/editTag/TAG_EDITED';\n\nconst initialState = {\n  oldName: '',\n  newName: '',\n  editing: false,\n  error: false,\n};\n\nexport default handleActions({\n  [EDIT_TAG_START]: (state) => ({ ...state, editing: true, error: false }),\n  [EDIT_TAG_ERROR]: (state) => ({ ...state, editing: false, error: true }),\n  [EDIT_TAG]: (state, action) => ({\n    ...pick([ 'oldName', 'newName' ], action),\n    editing: false,\n    error: false,\n  }),\n}, initialState);\n\nexport const editTag = (buildShlinkApiClient, colorGenerator) => (oldName, newName, color) => async (\n  dispatch,\n  getState\n) => {\n  dispatch({ type: EDIT_TAG_START });\n  const { editTag } = buildShlinkApiClient(getState);\n\n  try {\n    await editTag(oldName, newName);\n    colorGenerator.setColorForKey(newName, color);\n    dispatch({ type: EDIT_TAG, oldName, newName });\n  } catch (e) {\n    dispatch({ type: EDIT_TAG_ERROR });\n\n    throw e;\n  }\n};\n\nexport const tagEdited = (oldName, newName, color) => ({\n  type: TAG_EDITED,\n  oldName,\n  newName,\n  color,\n});\n","import { handleActions } from 'redux-actions';\nimport { isEmpty, reject } from 'ramda';\nimport { TAG_DELETED } from './tagDelete';\nimport { TAG_EDITED } from './tagEdit';\n\n/* eslint-disable padding-line-between-statements */\nexport const LIST_TAGS_START = 'shlink/tagsList/LIST_TAGS_START';\nexport const LIST_TAGS_ERROR = 'shlink/tagsList/LIST_TAGS_ERROR';\nexport const LIST_TAGS = 'shlink/tagsList/LIST_TAGS';\nexport const FILTER_TAGS = 'shlink/tagsList/FILTER_TAGS';\n/* eslint-enable padding-line-between-statements */\n\nconst initialState = {\n  tags: [],\n  filteredTags: [],\n  loading: false,\n  error: false,\n};\n\nconst renameTag = (oldName, newName) => (tag) => tag === oldName ? newName : tag;\nconst rejectTag = (tags, tagToReject) => reject((tag) => tag === tagToReject, tags);\n\nexport default handleActions({\n  [LIST_TAGS_START]: (state) => ({ ...state, loading: true, error: false }),\n  [LIST_TAGS_ERROR]: (state) => ({ ...state, loading: false, error: true }),\n  [LIST_TAGS]: (state, { tags }) => ({ tags, filteredTags: tags, loading: false, error: false }),\n  [TAG_DELETED]: (state, { tag }) => ({\n    ...state,\n    tags: rejectTag(state.tags, tag),\n    filteredTags: rejectTag(state.filteredTags, tag),\n  }),\n  [TAG_EDITED]: (state, { oldName, newName }) => ({\n    ...state,\n    tags: state.tags.map(renameTag(oldName, newName)).sort(),\n    filteredTags: state.filteredTags.map(renameTag(oldName, newName)).sort(),\n  }),\n  [FILTER_TAGS]: (state, { searchTerm }) => ({\n    ...state,\n    filteredTags: state.tags.filter((tag) => tag.toLowerCase().match(searchTerm)),\n  }),\n}, initialState);\n\nexport const listTags = (buildShlinkApiClient, force = true) => () => async (dispatch, getState) => {\n  const { tagsList } = getState();\n\n  if (!force && (tagsList.loading || !isEmpty(tagsList.tags))) {\n    return;\n  }\n\n  dispatch({ type: LIST_TAGS_START });\n\n  try {\n    const { listTags } = buildShlinkApiClient(getState);\n    const tags = await listTags();\n\n    dispatch({ tags, type: LIST_TAGS });\n  } catch (e) {\n    dispatch({ type: LIST_TAGS_ERROR });\n  }\n};\n\nexport const filterTags = (searchTerm) => ({\n  type: FILTER_TAGS,\n  searchTerm,\n});\n","import TagsSelector from '../helpers/TagsSelector';\nimport TagCard from '../TagCard';\nimport DeleteTagConfirmModal from '../helpers/DeleteTagConfirmModal';\nimport EditTagModal from '../helpers/EditTagModal';\nimport TagsList from '../TagsList';\nimport { filterTags, listTags } from '../reducers/tagsList';\nimport { deleteTag, tagDeleted } from '../reducers/tagDelete';\nimport { editTag, tagEdited } from '../reducers/tagEdit';\n\nconst provideServices = (bottle, connect) => {\n  // Components\n  bottle.serviceFactory('TagsSelector', TagsSelector, 'ColorGenerator');\n  bottle.decorator('TagsSelector', connect([ 'tagsList' ], [ 'listTags' ]));\n\n  bottle.serviceFactory('TagCard', TagCard, 'DeleteTagConfirmModal', 'EditTagModal', 'ColorGenerator');\n\n  bottle.serviceFactory('DeleteTagConfirmModal', () => DeleteTagConfirmModal);\n  bottle.decorator('DeleteTagConfirmModal', connect([ 'tagDelete' ], [ 'deleteTag', 'tagDeleted' ]));\n\n  bottle.serviceFactory('EditTagModal', EditTagModal, 'ColorGenerator');\n  bottle.decorator('EditTagModal', connect([ 'tagEdit' ], [ 'editTag', 'tagEdited' ]));\n\n  bottle.serviceFactory('TagsList', TagsList, 'TagCard');\n  bottle.decorator('TagsList', connect([ 'tagsList' ], [ 'forceListTags', 'filterTags' ]));\n\n  // Actions\n  const listTagsActionFactory = (force) => ({ buildShlinkApiClient }) => listTags(buildShlinkApiClient, force);\n\n  bottle.factory('listTags', listTagsActionFactory(false));\n  bottle.factory('forceListTags', listTagsActionFactory(true));\n  bottle.serviceFactory('filterTags', () => filterTags);\n  bottle.serviceFactory('tagDeleted', () => tagDeleted);\n  bottle.serviceFactory('tagEdited', () => tagEdited);\n\n  bottle.serviceFactory('deleteTag', deleteTag, 'buildShlinkApiClient');\n  bottle.serviceFactory('editTag', editTag, 'buildShlinkApiClient', 'ColorGenerator');\n};\n\nexport default provideServices;\n","import Bottle from 'bottlejs';\nimport { withRouter } from 'react-router-dom';\nimport { connect as reduxConnect } from 'react-redux';\nimport { pick } from 'ramda';\nimport App from '../App';\nimport provideCommonServices from '../common/services/provideServices';\nimport provideShortUrlsServices from '../short-urls/services/provideServices';\nimport provideServersServices from '../servers/services/provideServices';\nimport provideVisitsServices from '../visits/services/provideServices';\nimport provideTagsServices from '../tags/services/provideServices';\nimport provideUtilsServices from '../utils/services/provideServices';\n\nconst bottle = new Bottle();\nconst { container } = bottle;\n\nconst lazyService = (container, serviceName) => (...args) => container[serviceName](...args);\nconst mapActionService = (map, actionName) => ({\n  ...map,\n\n  // Wrap actual action service in a function so that it is lazily created the first time it is called\n  [actionName]: lazyService(container, actionName),\n});\nconst connect = (propsFromState, actionServiceNames = []) =>\n  reduxConnect(\n    propsFromState ? pick(propsFromState) : null,\n    actionServiceNames.reduce(mapActionService, {})\n  );\n\nbottle.serviceFactory('App', App, 'MainHeader', 'Home', 'MenuLayout', 'CreateServer', 'EditServer');\n\nprovideCommonServices(bottle, connect, withRouter);\nprovideShortUrlsServices(bottle, connect);\nprovideServersServices(bottle, connect, withRouter);\nprovideTagsServices(bottle, connect);\nprovideVisitsServices(bottle, connect);\nprovideUtilsServices(bottle);\n\nexport default container;\n","import { combineReducers } from 'redux';\nimport serversReducer from '../servers/reducers/server';\nimport selectedServerReducer from '../servers/reducers/selectedServer';\nimport shortUrlsListReducer from '../short-urls/reducers/shortUrlsList';\nimport shortUrlsListParamsReducer from '../short-urls/reducers/shortUrlsListParams';\nimport shortUrlCreationReducer from '../short-urls/reducers/shortUrlCreation';\nimport shortUrlDeletionReducer from '../short-urls/reducers/shortUrlDeletion';\nimport shortUrlTagsReducer from '../short-urls/reducers/shortUrlTags';\nimport shortUrlMetaReducer from '../short-urls/reducers/shortUrlMeta';\nimport shortUrlEditionReducer from '../short-urls/reducers/shortUrlEdition';\nimport shortUrlVisitsReducer from '../visits/reducers/shortUrlVisits';\nimport shortUrlDetailReducer from '../visits/reducers/shortUrlDetail';\nimport tagsListReducer from '../tags/reducers/tagsList';\nimport tagDeleteReducer from '../tags/reducers/tagDelete';\nimport tagEditReducer from '../tags/reducers/tagEdit';\n\nexport default combineReducers({\n  servers: serversReducer,\n  selectedServer: selectedServerReducer,\n  shortUrlsList: shortUrlsListReducer,\n  shortUrlsListParams: shortUrlsListParamsReducer,\n  shortUrlCreationResult: shortUrlCreationReducer,\n  shortUrlDeletion: shortUrlDeletionReducer,\n  shortUrlTags: shortUrlTagsReducer,\n  shortUrlMeta: shortUrlMetaReducer,\n  shortUrlEdition: shortUrlEditionReducer,\n  shortUrlVisits: shortUrlVisitsReducer,\n  shortUrlDetail: shortUrlDetailReducer,\n  tagsList: tagsListReducer,\n  tagDelete: tagDeleteReducer,\n  tagEdit: tagEditReducer,\n});\n","import ReduxThunk from 'redux-thunk';\nimport { applyMiddleware, compose, createStore } from 'redux';\nimport reducers from '../reducers';\n\nconst composeEnhancers = process.env.NODE_ENV !== 'production' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n  ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n  : compose;\n\nconst store = createStore(reducers, composeEnhancers(\n  applyMiddleware(ReduxThunk)\n));\n\nexport default store;\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { homepage } from '../package.json';\nimport registerServiceWorker from './registerServiceWorker';\nimport container from './container';\nimport store from './container/store';\nimport { fixLeafletIcons } from './utils/utils';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport 'leaflet/dist/leaflet.css';\nimport './common/react-tagsinput.scss';\nimport './index.scss';\n\n// This overwrites icons used for leaflet maps, fixing some issues caused by webpack while processing the CSS\nfixLeafletIcons();\n\nconst { App, ScrollToTop, ErrorHandler } = container;\n\nrender(\n  <Provider store={store}>\n    <BrowserRouter basename={homepage}>\n      <ErrorHandler>\n        <ScrollToTop>\n          <App />\n        </ScrollToTop>\n      </ErrorHandler>\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root')\n);\nregisterServiceWorker();\n","import { compare } from 'compare-versions';\nimport { identity, memoizeWith } from 'ramda';\nimport { hasValue } from '../utils';\n\nexport const versionMatch = (versionToMatch, { maxVersion, minVersion }) => {\n  if (!hasValue(versionToMatch)) {\n    return false;\n  }\n\n  const matchesMinVersion = !minVersion || compare(versionToMatch, minVersion, '>=');\n  const matchesMaxVersion = !maxVersion || compare(versionToMatch, maxVersion, '<=');\n\n  return !!(matchesMaxVersion && matchesMinVersion);\n};\n\nconst versionIsValidSemVer = memoizeWith(identity, (version) => {\n  try {\n    return compare(version, version, '=');\n  } catch (e) {\n    return false;\n  }\n});\n\nexport const versionToPrintable = (version) => !versionIsValidSemVer(version) ? version : `v${version}`;\n\nexport const versionToSemVer = (defaultValue = 'latest') =>\n  (version) => versionIsValidSemVer(version) ? version : defaultValue;\n","import React from 'react';\nimport { Card } from 'reactstrap';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { faCircleNotch as preloader } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nconst getClassForType = (type) => {\n  const map = {\n    error: 'border-danger',\n  };\n\n  return map[type] || '';\n};\nconst getTextClassForType = (type) => {\n  const map = {\n    error: 'text-danger',\n  };\n\n  return map[type] || 'text-muted';\n};\n\nconst propTypes = {\n  noMargin: PropTypes.bool,\n  loading: PropTypes.bool,\n  children: PropTypes.node,\n  type: PropTypes.oneOf([ 'default', 'error' ]),\n};\n\nconst Message = ({ children, loading = false, noMargin = false, type = 'default' }) => {\n  const cardClasses = classNames('bg-light', getClassForType(type), { 'mt-4': !noMargin });\n\n  return (\n    <div className=\"col-md-10 offset-md-1\">\n      <Card className={cardClasses} body>\n        <h3 className={classNames('text-center mb-0', getTextClassForType(type))}>\n          {loading && <FontAwesomeIcon icon={preloader} spin />}\n          {loading && <span className=\"ml-2\">{children || 'Loading...'}</span>}\n          {!loading && children}\n        </h3>\n      </Card>\n    </div>\n  );\n};\n\nMessage.propTypes = propTypes;\n\nexport default Message;\n"],"sourceRoot":""}