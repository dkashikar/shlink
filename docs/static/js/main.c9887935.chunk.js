(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(15),a=r(1),o=r.n(a),c=r(26),i=Math.floor,s=Math.random,l=function(e){return e.toLowerCase().trim()},u=function e(t){var r=this;Object(n.a)(this,e),this.getColorForKey=function(e){var t=l(e),n=r.colors[t];return n||r.setColorForKey(t,"#".concat(Object(c.d)(6,(function(){return"0123456789ABCDEF"[i(s()*"0123456789ABCDEF".length)]})).join("")))},this.setColorForKey=function(e,t){var n=l(e);return r.colors[n]=t,r.storage.set("colors",r.colors),t},this.storage=t,this.colors=this.storage.get("colors")||{}};o.a.shape({getColorForKey:o.a.func,setColorForKey:o.a.func})},116:function(e){e.exports=JSON.parse('{"a":""}')},117:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(25);t.a=function(e){var t=e.to,r=void 0===t?"/":t,n=e.children,c=void 0===n?"Home":n;return a.a.createElement("div",{className:"home"},a.a.createElement("h2",null,"Oops! We could not find requested route."),a.a.createElement("p",null,"Use your browser's back button to navigate to the page you have previously come from, or just press this button."),a.a.createElement("br",null),a.a.createElement(o.b,{to:r,className:"btn btn-outline-primary btn-lg"},c))}},118:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(548),c=r(549),i=r(25),s=r(8),l=r(9),u=(r(37),r(290),function(e){var t=e.id,r=e.name;return a.a.createElement(o.a,{tag:i.b,to:"/server/".concat(t,"/list-short-urls/1"),className:"servers-list__server-item"},r,a.a.createElement(s.a,{icon:l.i,className:"servers-list__server-item-icon"}))});t.a=function(e){var t=e.servers,r=e.children;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"container"},a.a.createElement("h5",null,r)),t.length>0&&a.a.createElement(c.a,{className:"servers-list__list-group mt-md-3"},t.map((function(e){var t=e.id,r=e.name;return a.a.createElement(u,{key:t,id:t,name:r})}))))}},121:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(0),a=r.n(n),o=r(62),c=(r(37),function(e,t){return function(r){var c=r.selectServer,i=r.selectedServer,s=r.match.params.serverId;return Object(n.useEffect)((function(){c(s)}),[s]),i?i.serverNotFound?a.a.createElement(t,{type:"not-found"}):a.a.createElement(e,r):a.a.createElement(o.a,{loading:!0})}})},125:function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return v}));var n=r(11),a=r.n(n),o=r(18),c=r(15),i=r(82),s=r.n(i),l=r(134),u=r(101),m=r(174),d=r(1),h=r.n(d),f=h.a.shape({type:h.a.string,detail:h.a.string,title:h.a.string,status:h.a.number,error:h.a.string,message:h.a.string}),g=function(e,t){return e?"".concat(e,"/rest/v").concat(t):""},p=Object(l.a)(u.a),v=function e(t,r,n){var i=this;Object(c.a)(this,e),this.listShortUrls=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i._performRequest("/short-urls","GET",e).then((function(e){return e.data.shortUrls}))},this.createShortUrl=function(e){var t=Object(l.a)((function(e){return Object(m.a)(e)||Object(u.a)(e)}),e);return i._performRequest("/short-urls","POST",{},t).then((function(e){return e.data}))},this.getShortUrlVisits=function(e,t){return i._performRequest("/short-urls/".concat(e,"/visits"),"GET",t).then((function(e){return e.data.visits}))},this.getShortUrl=function(e,t){return i._performRequest("/short-urls/".concat(e),"GET",{domain:t}).then((function(e){return e.data}))},this.deleteShortUrl=function(e,t){return i._performRequest("/short-urls/".concat(e),"DELETE",{domain:t}).then((function(){return{}}))},this.updateShortUrlTags=function(e,t,r){return i._performRequest("/short-urls/".concat(e,"/tags"),"PUT",{domain:t},{tags:r}).then((function(e){return e.data.tags}))},this.updateShortUrlMeta=function(e,t,r){return i._performRequest("/short-urls/".concat(e),"PATCH",{domain:t},r).then((function(){return r}))},this.listTags=function(){return i._performRequest("/tags","GET").then((function(e){return e.data.tags.data}))},this.deleteTags=function(e){return i._performRequest("/tags","DELETE",{tags:e}).then((function(){return{tags:e}}))},this.editTag=function(e,t){return i._performRequest("/tags","PUT",{},{oldName:e,newName:t}).then((function(){return{oldName:e,newName:t}}))},this.health=function(){return i._performRequest("/health","GET").then((function(e){return e.data}))},this._performRequest=function(){var e=Object(o.a)(a.a.mark((function e(t){var r,n,o,c,l=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:"GET",n=l.length>2&&void 0!==l[2]?l[2]:{},o=l.length>3&&void 0!==l[3]?l[3]:{},e.prev=3,e.next=6,i.axios({method:r,url:"".concat(g(i._baseUrl,i._apiVersion)).concat(t),headers:{"X-Api-Key":i._apiKey},params:p(n),data:o,paramsSerializer:function(e){return s.a.stringify(e,{arrayFormat:"brackets"})}});case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),c=e.t0.response,!c&&1!==i._apiVersion){e.next=15;break}throw e.t0;case 15:return i._apiVersion=1,e.next=18,i._performRequest(t,r,n,o);case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),this.axios=t,this._apiVersion=2,this._baseUrl=r,this._apiKey=n||""}},236:function(e,t,r){"use strict";(function(e){var n=r(237),a=r(238),o=r(241),c=r(242),i=r(244),s=r(245),l=r(246);t.a=function(t,r,u){t.constant("window",e.window),t.constant("console",e.console),t.serviceFactory("ScrollToTop",n.a,"window"),t.decorator("ScrollToTop",u),t.serviceFactory("MainHeader",a.a,"ServersDropdown"),t.decorator("MainHeader",u),t.serviceFactory("Home",(function(){return o.a})),t.decorator("Home",r(["servers"],["resetSelectedServer"])),t.serviceFactory("MenuLayout",c.a,"TagsList","ShortUrls","AsideMenu","CreateShortUrl","ShortUrlVisits","ShlinkVersions","ServerError"),t.decorator("MenuLayout",r(["selectedServer","shortUrlsListParams"],["selectServer"])),t.decorator("MenuLayout",u),t.serviceFactory("AsideMenu",i.a,"DeleteServerButton"),t.serviceFactory("ShlinkVersions",(function(){return l.a})),t.decorator("ShlinkVersions",r(["selectedServer"])),t.serviceFactory("ErrorHandler",s.a,"window","console")}}).call(this,r(40))},237:function(e,t,r){"use strict";var n=r(15),a=r(23),o=r(20),c=r(19),i=r(21),s=r(0),l=r.n(s);t.a=function(e){var t=e.scrollTo;return(function(e){function r(){return Object(n.a)(this,r),Object(o.a)(this,Object(c.a)(r).apply(this,arguments))}return Object(i.a)(r,e),Object(a.a)(r,[{key:"componentDidUpdate",value:function(e){var r=e.location;this.props.location!==r&&t(0,0)}},{key:"render",value:function(){return this.props.children}}]),r}(l.a.Component))}},238:function(e,t,r){"use strict";var n=r(15),a=r(23),o=r(20),c=r(19),i=r(21),s=r(9),l=r(8),u=r(0),m=r.n(u),d=r(25),h=r(541),f=r(542),g=r(543),p=r(544),v=r(545),b=r(546),E=r(547),O=r(3),S=r.n(O),y=r(239),j=r.n(y);r(281);t.a=function(e){return function(t){function r(){var e,t;Object(n.a)(this,r);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=Object(o.a)(this,(e=Object(c.a)(r)).call.apply(e,[this].concat(i)))).state={isOpen:!1},t.handleToggle=function(){t.setState((function(e){return{isOpen:!e.isOpen}}))},t}return Object(i.a)(r,t),Object(a.a)(r,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&this.setState({isOpen:!1})}},{key:"render",value:function(){var t=this.props.location,r=S()("main-header__toggle-icon",{"main-header__toggle-icon--opened":this.state.isOpen});return m.a.createElement(h.a,{color:"primary",dark:!0,fixed:"top",className:"main-header",expand:"md"},m.a.createElement(f.a,{tag:d.b,to:"/"},m.a.createElement("img",{src:j.a,alt:"Shlink",className:"main-header__brand-logo"})," Shlink"),m.a.createElement(g.a,{onClick:this.handleToggle},m.a.createElement(l.a,{icon:s.h,className:r})),m.a.createElement(p.a,{navbar:!0,isOpen:this.state.isOpen},m.a.createElement(v.a,{navbar:!0,className:"ml-auto"},m.a.createElement(b.a,null,m.a.createElement(E.a,{tag:d.b,to:"/server/create",active:"/server/create"===t.pathname},m.a.createElement(l.a,{icon:s.u}),"\xa0 Add server")),m.a.createElement(e,null))))}}]),r}(m.a.Component)}},239:function(e,t){e.exports="data:image/png;base64,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"},241:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(550),c=r(174),i=r(25),s=(r(289),r(118));t.a=function(e){var t=e.resetSelectedServer,r=e.servers,l=r.list,u=r.loading,m=Object(o.a)(l),d=!Object(c.a)(m);return Object(n.useEffect)((function(){t()}),[]),a.a.createElement("div",{className:"home"},a.a.createElement("h1",{className:"home__title"},"Welcome to Shlink"),a.a.createElement(s.a,{servers:m},!u&&d&&a.a.createElement("span",null,"Please, select a server."),!u&&!d&&a.a.createElement("span",null,"Please, ",a.a.createElement(i.b,{to:"/server/create"},"add a server"),"."),u&&a.a.createElement("span",null,"Trying to load servers...")))}},242:function(e,t,r){"use strict";var n=r(7),a=r(0),o=r.n(a),c=r(44),i=r(243),s=r(9),l=r(8),u=r(3),m=r.n(u),d=(r(37),r(121)),h=r(27),f=r(117);r(291);t.a=function(e,t,r,u,g,p,v){return Object(d.a)((function(d){var b=d.match,E=d.location,O=d.selectedServer,S=Object(h.b)(),y=Object(n.a)(S,4),j=y[0],w=y[1],T=y[2],U=y[3],C=b.params.serverId;if(Object(a.useEffect)((function(){return U()}),[E]),O.serverNotReachable)return o.a.createElement(v,{type:"not-reachable"});var k=m()("menu-layout__burger-icon",{"menu-layout__burger-icon--active":j}),R=function(e){return function(){document.querySelector(".modal")||e()}};return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{icon:s.c,className:k,onClick:w}),o.a.createElement(i.a,{delta:40,className:"menu-layout__swipeable",onSwipedLeft:R(U),onSwipedRight:R(T)},o.a.createElement("div",{className:"row menu-layout__swipeable-inner"},o.a.createElement(r,{className:"col-lg-2 col-md-3",selectedServer:O,showOnMobile:j}),o.a.createElement("div",{className:"col-lg-10 offset-lg-2 col-md-9 offset-md-3",onClick:function(){return U()}},o.a.createElement("div",{className:"menu-layout__container"},o.a.createElement(c.c,null,o.a.createElement(c.a,{exact:!0,path:"/server/:serverId/list-short-urls/:page",component:t}),o.a.createElement(c.a,{exact:!0,path:"/server/:serverId/create-short-url",component:u}),o.a.createElement(c.a,{exact:!0,path:"/server/:serverId/short-code/:shortCode/visits",component:g}),o.a.createElement(c.a,{exact:!0,path:"/server/:serverId/manage-tags",component:e}),o.a.createElement(c.a,{render:function(){return o.a.createElement(f.a,{to:"/server/".concat(C,"/list-short-urls/1")},"List short URLs")}}))),o.a.createElement("div",{className:"menu-layout__footer text-center text-md-right"},o.a.createElement(p,null))))))}),v)}},244:function(e,t,r){"use strict";var n=r(63),a=r(9),o=r(8),c=r(0),i=r.n(c),s=r(25),l=r(3),u=r.n(l),m=(r(37),r(292),function(e){var t=e.children,r=e.to,a=e.className,o=Object(n.a)(e,["children","to","className"]);return i.a.createElement(s.c,Object.assign({className:u()("aside-menu__item",a),activeClassName:"aside-menu__item--selected",to:r},o),t)});t.a=function(e){var t=function(t){var r=t.selectedServer,n=t.className,c=t.showOnMobile,s=r?r.id:"",l=u()("aside-menu",n,{"aside-menu--hidden":!c}),d=function(e){return"/server/".concat(s).concat(e)};return i.a.createElement("aside",{className:l},i.a.createElement("nav",{className:"nav flex-column aside-menu__nav"},i.a.createElement(m,{to:d("/list-short-urls/1"),isActive:function(e,t){return t.pathname.match("/list-short-urls")}},i.a.createElement(o.a,{icon:a.o}),i.a.createElement("span",{className:"aside-menu__item-text"},"List short URLs")),i.a.createElement(m,{to:d("/create-short-url")},i.a.createElement(o.a,{icon:a.n,flip:"horizontal"}),i.a.createElement("span",{className:"aside-menu__item-text"},"Create short URL")),i.a.createElement(m,{to:d("/manage-tags")},i.a.createElement(o.a,{icon:a.z}),i.a.createElement("span",{className:"aside-menu__item-text"},"Manage tags")),i.a.createElement(m,{to:d("/edit"),className:"aside-menu__item--push"},i.a.createElement(o.a,{icon:a.s}),i.a.createElement("span",{className:"aside-menu__item-text"},"Edit this server")),i.a.createElement(e,{className:"aside-menu__item aside-menu__item--danger",textClassName:"aside-menu__item-text",server:r})))};return t}},245:function(e,t,r){"use strict";var n=r(15),a=r(23),o=r(20),c=r(19),i=r(21),s=r(0),l=r.n(s),u=(r(293),r(171));t.a=function(e,t){var r=e.location,s=t.error;return function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={hasError:!1},r}return Object(i.a)(t,e),Object(a.a)(t,[{key:"componentDidCatch",value:function(e){s(e)}},{key:"render",value:function(){return this.state.hasError?l.a.createElement("div",{className:"error-handler"},l.a.createElement("h1",null,"Oops! This is awkward :S"),l.a.createElement("p",null,"It seems that something went wrong. Try refreshing the page or just click this button."),l.a.createElement("br",null),l.a.createElement(u.a,{outline:!0,color:"primary",onClick:function(){return r.reload()}},"Take me back")):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),t}(l.a.Component)}},246:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(3),c=r.n(o),i=r(553),s=(r(37),r(57));t.a=function(e){var t=e.selectedServer,r=e.className,n=e.clientVersion,o=void 0===n?"2.4.0":n,l=t.printableVersion,u=Object(i.a)(Object(s.c)(),s.b)(o);return a.a.createElement("small",{className:c()("text-muted",r)},"Client: ",a.a.createElement("b",null,u)," - Server: ",a.a.createElement("b",null,l))}},26:function(e,t,r){"use strict";r.d(t,"e",(function(){return g})),r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return v})),r.d(t,"d",(function(){return b})),r.d(t,"c",(function(){return E}));var n=r(4),a=r(36),o=r.n(a),c=r(247),i=r.n(c),s=r(248),l=r.n(s),u=r(249),m=r.n(u),d=r(554),h=r(101),f=r(174),g=function(e){return function(t,r){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;t(Object(n.a)({},r,a)),e((function(){return t(Object(n.a)({},r,!a))}),o)}},p=function(e,t,r){return t!==e?"ASC":r?{ASC:"DESC",DESC:void 0}[r]:"ASC"},v=function(){delete o.a.Icon.Default.prototype._getIconUrl,o.a.Icon.Default.mergeOptions({iconRetinaUrl:i.a,iconUrl:l.a,shadowUrl:m.a})},b=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Object(d.a)(r,e+1).map(t)},E=function(e){return!Object(h.a)(e)&&!Object(f.a)(e)}},261:function(e,t,r){"use strict";(function(e){var n=r(262),a=r.n(n),o=r(26),c=r(27),i=r(263),s=r(115),l=r(264);t.a=function(t){t.constant("localStorage",e.localStorage),t.service("Storage",i.a,"localStorage"),t.service("ColorGenerator",s.a,"Storage"),t.constant("axios",a.a),t.serviceFactory("buildShlinkApiClient",l.a,"axios"),t.constant("setTimeout",e.setTimeout),t.serviceFactory("stateFlagTimeout",o.e,"setTimeout"),t.serviceFactory("useStateFlagTimeout",c.a,"setTimeout")}}).call(this,r(40))},263:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(15),a=function(e){return"".concat("shlink",".").concat(e)},o=function e(t){var r=this;Object(n.a)(this,e),this.get=function(e){var t=r.localStorage.getItem(a(e));return t?JSON.parse(t):void 0},this.set=function(e,t){return r.localStorage.setItem(a(e),JSON.stringify(t))},this.localStorage=t}},264:function(e,t,r){"use strict";var n=r(125),a={};t.a=function(e){return function(t){var r="function"===typeof t?t().selectedServer:t,o=r.url,c=r.apiKey,i="".concat(o,"_").concat(c);return a[i]||(a[i]=new n.b(e,o,c)),a[i]}}},267:function(e,t,r){e.exports=r(540)},27:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return c}));var n=r(7),a=r(0),o=function(e){return function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,o=Object(a.useState)(t),c=Object(n.a)(o,2),i=c[0],s=c[1],l=function(){s(!t),e((function(){return s(t)}),r)};return[i,l]}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(a.useState)(e),r=Object(n.a)(t,2),o=r[0],c=r[1];return[o,function(){return c(!o)},function(){return c(!0)},function(){return c(!1)}]}},277:function(e,t,r){},281:function(e,t,r){},289:function(e,t,r){},290:function(e,t,r){},291:function(e,t,r){},292:function(e,t,r){},293:function(e,t,r){},294:function(e,t,r){},295:function(e,t,r){},296:function(e,t,r){},297:function(e,t,r){},298:function(e,t,r){},302:function(e,t,r){},303:function(e,t,r){},305:function(e,t,r){},309:function(e,t,r){},310:function(e,t,r){},311:function(e,t,r){},312:function(e,t,r){},313:function(e,t,r){},316:function(e,t,r){},317:function(e,t,r){},323:function(e,t){},325:function(e,t){},333:function(e,t,r){},334:function(e,t,r){},335:function(e,t,r){},37:function(e,t,r){"use strict";var n=r(1),a=r.n(n),o=a.a.shape({id:a.a.string,name:a.a.string,url:a.a.string,apiKey:a.a.string,version:a.a.string,printableVersion:a.a.string,serverNotReachable:a.a.bool}),c=a.a.shape({serverNotFound:a.a.bool.isRequired});a.a.oneOfType([o,c])},406:function(e,t,r){},407:function(e,t,r){},408:function(e,t,r){},409:function(e,t,r){},410:function(e,t,r){},422:function(e,t,r){},423:function(e,t,r){},424:function(e,t,r){},519:function(e,t,r){},538:function(e,t,r){},539:function(e,t,r){},540:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"processStatsFromVisits",(function(){return wa})),r.d(n,"normalizeVisits",(function(){return Ta}));r(268);var a=r(0),o=r.n(a),c=r(42),i=r(84),s=r(25),l=r(116),u=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function m(e){return navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var d,h,f=r(4),g=r(234),p=r.n(g),v=r(44),b=r(588),E=(r(277),r(117)),O=function(e,t,r,n,a){return function(){return o.a.createElement("div",{className:"container-fluid app-container"},o.a.createElement(e,null),o.a.createElement("div",{className:"app"},o.a.createElement(v.c,null,o.a.createElement(v.a,{exact:!0,path:"/",component:t}),o.a.createElement(v.a,{exact:!0,path:"/server/create",component:n}),o.a.createElement(v.a,{exact:!0,path:"/server/:serverId/edit",component:a}),o.a.createElement(v.a,{path:"/server/:serverId",component:r}),o.a.createElement(v.a,{component:E.a}))))}},S=r(236),y=r(251),j=r(7),w=r(1),T=r.n(w),U=r(559),C=r(560),k=r(561),R=r(554),D=r(557),N=r(558),P=function(e,t){var r=Object(R.a)(Object(D.a)(2,e-2),Object(N.a)(t-1,e+2)+1);return e-2>2&&r.unshift("..."),e+2<t-1&&r.push("..."),r.unshift(1),r.push(t),r},_=function(e,t){return"..."!==e?e:"".concat(e,"_").concat(t)},L=function(e){return"..."===e},x=(r(294),function(e){var t=e.paginator,r=void 0===t?{}:t,n=e.serverId,a=r.currentPage,c=r.pagesCount,i=void 0===c?0:c;if(i<=1)return null;return o.a.createElement(k.a,{className:"short-urls-paginator",listClassName:"flex-wrap justify-content-center mb-0"},o.a.createElement(U.a,{disabled:1===a},o.a.createElement(C.a,{previous:!0,tag:s.b,to:"/server/".concat(n,"/list-short-urls/").concat(a-1)})),P(a,i).map((function(e,t){return o.a.createElement(U.a,{key:_(e,t),disabled:L(e),active:a===e},o.a.createElement(C.a,{tag:s.b,to:"/server/".concat(n,"/list-short-urls/").concat(e)},e))})),o.a.createElement(U.a,{disabled:a>=i},o.a.createElement(C.a,{next:!0,tag:s.b,to:"/server/".concat(n,"/list-short-urls/").concat(a+1)})))}),A=function(e,t){T.a.shape({params:T.a.object}),T.a.object;return function(r){var n=r.match.params,c=r.shortUrlsList,i=n.page,s=n.serverId,l=c.data,u=void 0===l?[]:l,m=c.pagination,d=Object(a.useState)("".concat(s,"_").concat(i)),h=Object(j.a)(d,2),f=h[0],g=h[1];return Object(a.useEffect)((function(){g("".concat(s,"_").concat(i))}),[s,i]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"form-group"},o.a.createElement(e,null)),o.a.createElement("div",null,o.a.createElement(t,Object.assign({},r,{shortUrlsList:u,key:f})),o.a.createElement(x,{paginator:m,serverId:s})))}},M=r(9),F=r(8),H=r(553),V=r(174),I=r(31),G=r.n(I),W=r(3),B=r.n(W),Y=(r(295),function(e){var t=e.onChange,r=e.className,n=e.placeholder,c=void 0===n?"Search...":n,i=e.large,s=void 0===i||i,l=e.noBorder,u=void 0!==l&&l,m=Object(a.useState)(""),h=Object(j.a)(m,2),f=h[0],g=h[1],p=function(){clearTimeout(d),d=null},v=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;g(e),p(),d=setTimeout((function(){t(e),p()}),r)};return o.a.createElement("div",{className:B()("search-field",r)},o.a.createElement("input",{type:"text",className:B()("form-control search-field__input",{"form-control-lg":s,"search-field__input--no-border":u}),placeholder:c,value:f,onChange:function(e){return v(e.target.value)}}),o.a.createElement(F.a,{icon:M.w,className:"search-field__icon"}),o.a.createElement("div",{className:"close search-field__close",hidden:""===f,id:"search-field__close",onClick:function(){return v("",0)}},"\xd7"))}),q=(r(296),r(115),function(e){var t=e.text,r=e.children,n=e.clearable,a=e.colorGenerator,c=e.onClick,i=void 0===c?function(){}:c,s=e.onClose,l=void 0===s?function(){}:s;return o.a.createElement("span",{className:"badge tag",style:{backgroundColor:a.getColorForKey(t),cursor:n?"auto":"pointer"},onClick:i},r||t,n&&o.a.createElement("span",{className:"close tag__close-selected-tag",onClick:l},"\xd7"))}),K=r(101),J=r(266),z=r(68),Z=(r(297),function(e){var t=e.className,r=e.isClearable,n=e.selected,a=e.ref,c=void 0===a?o.a.createRef():a,i=!r||Object(K.a)(n);return o.a.createElement("div",{className:"date-input-container"},o.a.createElement(J.a,Object.assign({},e,{className:B()("date-input-container__input form-control",t),dateFormat:"YYYY-MM-DD",readOnly:!0,ref:c})),i&&o.a.createElement(F.a,{icon:z.a,className:"date-input-container__icon",onClick:function(){return c.current.input.focus()}}))}),X=(r(298),function(e){var t=e.startDate,r=e.endDate,n=e.onStartDateChange,a=e.onEndDateChange,c=e.disabled,i=void 0!==c&&c;return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6"},o.a.createElement(Z,{selected:t,placeholderText:"Since",isClearable:!0,maxDate:r,disabled:i,onChange:n})),o.a.createElement("div",{className:"col-md-6"},o.a.createElement(Z,{className:"date-range-row__date-input",selected:r,placeholderText:"Until",isClearable:!0,minDate:t,disabled:i,onChange:a})))}),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"YYYY-MM-DD";return function(t){return t&&t.format?t.format(e):t}},$=function(e){return e&&e.format?e.format():e},ee=r(589),te=r(597),re=r(11),ne=r.n(re),ae=r(18),oe=r(592),ce=r(134);function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}T.a.shape({shortCode:T.a.string,tags:T.a.arrayOf(T.a.string).isRequired,saving:T.a.bool.isRequired,error:T.a.bool.isRequired});var le,ue={shortCode:null,tags:[],saving:!1,error:!1},me=Object(ee.a)((h={},Object(f.a)(h,"shlink/shortUrlTags/EDIT_SHORT_URL_TAGS_START",(function(e){return se({},e,{saving:!0,error:!1})})),Object(f.a)(h,"shlink/shortUrlTags/EDIT_SHORT_URL_TAGS_ERROR",(function(e){return se({},e,{saving:!1,error:!0})})),Object(f.a)(h,"shlink/shortUrlTags/SHORT_URL_TAGS_EDITED",(function(e,t){return{shortCode:t.shortCode,tags:t.tags,saving:!1,error:!1}})),Object(f.a)(h,"shlink/shortUrlTags/RESET_EDIT_SHORT_URL_TAGS",(function(){return ue})),h),ue),de=function(e){return function(t,r,n){return function(){var a=Object(ae.a)(ne.a.mark((function a(o,c){var i,s,l;return ne.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o({type:"shlink/shortUrlTags/EDIT_SHORT_URL_TAGS_START"}),i=e(c),s=i.updateShortUrlTags,a.prev=2,a.next=5,s(t,r,n);case 5:l=a.sent,o({tags:l,shortCode:t,domain:r,type:"shlink/shortUrlTags/SHORT_URL_TAGS_EDITED"}),a.next=13;break;case 9:throw a.prev=9,a.t0=a.catch(2),o({type:"shlink/shortUrlTags/EDIT_SHORT_URL_TAGS_ERROR"}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e,t){return a.apply(this,arguments)}}()}},he=Object(te.a)("shlink/shortUrlTags/RESET_EDIT_SHORT_URL_TAGS"),fe=r(125);function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ve,be="shlink/deleteShortUrl/SHORT_URL_DELETED",Ee=(T.a.shape({shortCode:T.a.string.isRequired,loading:T.a.bool.isRequired,error:T.a.bool.isRequired,errorData:fe.a.isRequired}),{shortCode:"",loading:!1,error:!1,errorData:{}}),Oe=Object(ee.a)((le={},Object(f.a)(le,"shlink/deleteShortUrl/DELETE_SHORT_URL_START",(function(e){return pe({},e,{loading:!0,error:!1})})),Object(f.a)(le,"shlink/deleteShortUrl/DELETE_SHORT_URL_ERROR",(function(e,t){return pe({},e,{errorData:t.errorData,loading:!1,error:!0})})),Object(f.a)(le,be,(function(e,t){return pe({},e,{shortCode:t.shortCode,loading:!1,error:!1})})),Object(f.a)(le,"shlink/deleteShortUrl/RESET_DELETE_SHORT_URL",(function(){return Ee})),le),Ee),Se=function(e){return function(t,r){return function(){var n=Object(ae.a)(ne.a.mark((function n(a,o){var c,i;return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:"shlink/deleteShortUrl/DELETE_SHORT_URL_START"}),c=e(o),i=c.deleteShortUrl,n.prev=2,n.next=5,i(t,r);case 5:a({type:be,shortCode:t,domain:r}),n.next=12;break;case 8:throw n.prev=8,n.t0=n.catch(2),a({type:"shlink/deleteShortUrl/DELETE_SHORT_URL_ERROR",errorData:n.t0.response.data}),n.t0;case 12:case"end":return n.stop()}}),n,null,[[2,8]])})));return function(e,t){return n.apply(this,arguments)}}()}},ye=Object(te.a)("shlink/deleteShortUrl/RESET_DELETE_SHORT_URL");function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Te,Ue=T.a.shape({validSince:T.a.string,validUntil:T.a.string,maxVisits:T.a.number}),Ce=(T.a.shape({shortCode:T.a.string,meta:Ue.isRequired,saving:T.a.bool.isRequired,error:T.a.bool.isRequired}),{shortCode:null,meta:{},saving:!1,error:!1}),ke=Object(ee.a)((ve={},Object(f.a)(ve,"shlink/shortUrlMeta/EDIT_SHORT_URL_META_START",(function(e){return we({},e,{saving:!0,error:!1})})),Object(f.a)(ve,"shlink/shortUrlMeta/EDIT_SHORT_URL_META_ERROR",(function(e){return we({},e,{saving:!1,error:!0})})),Object(f.a)(ve,"shlink/shortUrlMeta/SHORT_URL_META_EDITED",(function(e,t){return{shortCode:t.shortCode,meta:t.meta,saving:!1,error:!1}})),Object(f.a)(ve,"shlink/shortUrlMeta/RESET_EDIT_SHORT_URL_META",(function(){return Ce})),ve),Ce),Re=function(e){return function(t,r,n){return function(){var a=Object(ae.a)(ne.a.mark((function a(o,c){var i,s;return ne.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o({type:"shlink/shortUrlMeta/EDIT_SHORT_URL_META_START"}),i=e(c),s=i.updateShortUrlMeta,a.prev=2,a.next=5,s(t,r,n);case 5:o({shortCode:t,meta:n,domain:r,type:"shlink/shortUrlMeta/SHORT_URL_META_EDITED"}),a.next=12;break;case 8:throw a.prev=8,a.t0=a.catch(2),o({type:"shlink/shortUrlMeta/EDIT_SHORT_URL_META_ERROR"}),a.t0;case 12:case"end":return a.stop()}}),a,null,[[2,8]])})));return function(e,t){return a.apply(this,arguments)}}()}},De=Object(te.a)("shlink/shortUrlMeta/RESET_EDIT_SHORT_URL_META");function Ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ne(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _e,Le="shlink/shortUrlEdition/SHORT_URL_EDITED",xe=(T.a.shape({shortCode:T.a.string,longUrl:T.a.string,saving:T.a.bool.isRequired,error:T.a.bool.isRequired}),Object(ee.a)((Te={},Object(f.a)(Te,"shlink/shortUrlEdition/EDIT_SHORT_URL_START",(function(e){return Pe({},e,{saving:!0,error:!1})})),Object(f.a)(Te,"shlink/shortUrlEdition/EDIT_SHORT_URL_ERROR",(function(e){return Pe({},e,{saving:!1,error:!0})})),Object(f.a)(Te,Le,(function(e,t){return{shortCode:t.shortCode,longUrl:t.longUrl,saving:!1,error:!1}})),Te),{shortCode:null,longUrl:null,saving:!1,error:!1})),Ae=function(e){return function(t,r,n){return function(){var a=Object(ae.a)(ne.a.mark((function a(o,c){var i,s;return ne.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o({type:"shlink/shortUrlEdition/EDIT_SHORT_URL_START"}),i=e(c),s=i.updateShortUrlMeta,a.prev=2,a.next=5,s(t,r,{longUrl:n});case 5:o({shortCode:t,longUrl:n,domain:r,type:Le}),a.next=12;break;case 8:throw a.prev=8,a.t0=a.catch(2),o({type:"shlink/shortUrlEdition/EDIT_SHORT_URL_ERROR"}),a.t0;case 12:case"end":return a.stop()}}),a,null,[[2,8]])})));return function(e,t){return a.apply(this,arguments)}}()}};function Me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Fe,He="shlink/shortUrlsList/LIST_SHORT_URLS_START",Ve="shlink/shortUrlsList/LIST_SHORT_URLS_ERROR",Ie="shlink/shortUrlsList/LIST_SHORT_URLS",Ge=T.a.shape({shortCode:T.a.string,shortUrl:T.a.string,longUrl:T.a.string,visitsCount:T.a.number,meta:Ue,tags:T.a.arrayOf(T.a.string),domain:T.a.string}),We=function(e,t,r){return Object(K.a)(r)?e.shortCode===t&&!e.domain:e.shortCode===t&&e.domain===r},Be=function(e){return function(t,r){var n=r.shortCode,a=r.domain,o=r[e];return Object(oe.a)(["shortUrls","data"],t.shortUrls.data.map((function(t){return We(t,n,a)?Object(y.a)(e,o,t):t})),t)}},Ye=Object(ee.a)((_e={},Object(f.a)(_e,He,(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Me(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Me(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{loading:!0,error:!1})})),Object(f.a)(_e,Ie,(function(e,t){return{loading:!1,error:!1,shortUrls:t.shortUrls}})),Object(f.a)(_e,Ve,(function(){return{loading:!1,error:!0,shortUrls:{}}})),Object(f.a)(_e,be,(function(e,t){var r=t.shortCode,n=t.domain;return Object(oe.a)(["shortUrls","data"],Object(ce.a)((function(e){return We(e,r,n)}),e.shortUrls.data),e)})),Object(f.a)(_e,"shlink/shortUrlTags/SHORT_URL_TAGS_EDITED",Be("tags")),Object(f.a)(_e,"shlink/shortUrlMeta/SHORT_URL_META_EDITED",Be("meta")),Object(f.a)(_e,Le,Be("longUrl")),_e),{shortUrls:{},loading:!0,error:!1}),qe=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(function(){var r=Object(ae.a)(ne.a.mark((function r(n,a){var o,c,i;return ne.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:He}),o=e(a),c=o.listShortUrls,r.prev=2,r.next=5,c(t);case 5:i=r.sent,n({type:Ie,shortUrls:i,params:t}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),n({type:Ve,params:t});case 12:case"end":return r.stop()}}),r,null,[[2,9]])})));return function(e,t){return r.apply(this,arguments)}}())}};function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}T.a.shape({page:T.a.string,tags:T.a.arrayOf(T.a.string),searchTerm:T.a.string,startDate:T.a.string,endDate:T.a.string,orderBy:T.a.object});var Je={page:"1"},ze=Object(ee.a)((Fe={},Object(f.a)(Fe,Ie,(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{},t.params)})),Object(f.a)(Fe,"shlink/shortUrlsListParams/RESET_SHORT_URL_PARAMS",(function(){return Je})),Fe),Je),Ze=Object(te.a)("shlink/shortUrlsListParams/RESET_SHORT_URL_PARAMS");r(302);function Xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xe(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xe(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $e=function(e){return e?G()(e):void 0},et=function(e,t){var r=function(r){var n=r.listShortUrls,a=r.shortUrlsListParams,c=a.tags||[],i=function(e){return Object(H.a)(Q(),(function(t){return n(Qe({},a,Object(f.a)({},e,t)))}))};return o.a.createElement("div",{className:"search-bar-container"},o.a.createElement(Y,{onChange:function(e){return n(Qe({},a,{searchTerm:e}))}}),o.a.createElement(t,{minVersion:"1.21.0"},o.a.createElement("div",{className:"mt-3"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-lg-8 offset-lg-4 col-xl-6 offset-xl-6"},o.a.createElement(X,{startDate:$e(a.startDate),endDate:$e(a.endDate),onStartDateChange:i("startDate"),onEndDateChange:i("endDate")}))))),!Object(V.a)(c)&&o.a.createElement("h4",{className:"search-bar__selected-tag mt-3"},o.a.createElement(F.a,{icon:M.z,className:"search-bar__tags-icon"}),"\xa0",c.map((function(t){return o.a.createElement(q,{colorGenerator:e,key:t,text:t,clearable:!0,onClose:function(){return n(Qe({},a,{tags:c.filter((function(e){return e!==t}))}))}})}))))};return r},tt=r(15),rt=r(23),nt=r(20),at=r(19),ot=r(21),ct=r(593),it=r(52),st=r(550),lt=r(82),ut=r.n(lt),mt=(r(37),r(562)),dt=r(563),ht=r(564),ft=r(566),gt=r(565),pt=r(26),vt=(r(303),function(e){var t=e.items,r=e.orderField,n=e.orderDir,a=e.onChange,c=e.isButton,i=e.right,s=function(e){return function(){var t=Object(pt.a)(e,r,n);a(t?e:void 0,t)}};return o.a.createElement(mt.a,null,o.a.createElement(dt.a,{caret:!0,color:c?"secondary":"link",className:B()({"btn-block":c,"btn-sm paddingless":!c})},"Order by"),o.a.createElement(ht.a,{right:i,className:B()("sorting-dropdown__menu",{"sorting-dropdown__menu--link":!c})},Object(gt.a)(t).map((function(e){var t=Object(j.a)(e,2),a=t[0],c=t[1];return o.a.createElement(ft.a,{key:a,active:r===a,onClick:s(a)},c,r===a&&o.a.createElement(F.a,{icon:"ASC"===n?M.y:M.x,className:"sorting-dropdown__sort-icon"}))})),o.a.createElement(ft.a,{divider:!0}),o.a.createElement(ft.a,{disabled:!r,onClick:function(){return a()}},o.a.createElement("i",null,"Clear selection"))))});vt.defaultProps={isButton:!0,right:!1};var bt=vt;r(305);function Et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Ot,St={dateCreated:"Created at",shortCode:"Short URL",longUrl:"Long URL",visits:"Visits"},yt=function(e){return function(t){function r(e){var t;Object(tt.a)(this,r),(t=Object(nt.a)(this,Object(at.a)(r).call(this,e))).refreshList=function(e){var r=t.props;(0,r.listShortUrls)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Et(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Et(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r.shortUrlsListParams,{},e))},t.handleOrderBy=function(e,r){t.setState({orderField:e,orderDir:r}),t.refreshList({orderBy:Object(f.a)({},e,r)})},t.orderByColumn=function(e){return function(){return t.handleOrderBy(e,Object(pt.a)(e,t.state.orderField,t.state.orderDir))}},t.renderOrderIcon=function(e){return t.state.orderField!==e?null:t.state.orderDir?o.a.createElement(F.a,{icon:"ASC"===t.state.orderDir?M.e:M.d,className:"short-urls-list__header-icon"}):null};var n=e.shortUrlsListParams.orderBy;return t.state={orderField:n?Object(ct.a)(Object(it.a)(n)):void 0,orderDir:n?Object(ct.a)(Object(st.a)(n)):void 0},t}return Object(ot.a)(r,t),Object(rt.a)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match.params,r=e.location,n=e.shortUrlsListParams,a=ut.a.parse(r.search,{ignoreQueryPrefix:!0}),o=a.tag?[a.tag]:n.tags;this.refreshList({page:t.page,tags:o})}},{key:"componentWillUnmount",value:function(){(0,this.props.resetShortUrlParams)()}},{key:"renderShortUrls",value:function(){var t=this,r=this.props,n=r.shortUrlsList,a=r.selectedServer,c=r.loading,i=r.error,s=r.shortUrlsListParams;return i?o.a.createElement("tr",null,o.a.createElement("td",{colSpan:"6",className:"text-center table-danger"},"Something went wrong while loading short URLs :(")):c?o.a.createElement("tr",null,o.a.createElement("td",{colSpan:"6",className:"text-center"},"Loading...")):!c&&Object(V.a)(n)?o.a.createElement("tr",null,o.a.createElement("td",{colSpan:"6",className:"text-center"},"No results found")):n.map((function(r){return o.a.createElement(e,{key:r.shortUrl,shortUrl:r,selectedServer:a,refreshList:t.refreshList,shortUrlsListParams:s})}))}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"d-block d-md-none mb-3"},o.a.createElement(bt,{items:St,orderField:this.state.orderField,orderDir:this.state.orderDir,onChange:this.handleOrderBy})),o.a.createElement("table",{className:"table table-striped table-hover"},o.a.createElement("thead",{className:"short-urls-list__header"},o.a.createElement("tr",null,o.a.createElement("th",{className:"short-urls-list__header-cell short-urls-list__header-cell--with-action",onClick:this.orderByColumn("dateCreated")},this.renderOrderIcon("dateCreated"),"Created at"),o.a.createElement("th",{className:"short-urls-list__header-cell short-urls-list__header-cell--with-action",onClick:this.orderByColumn("shortCode")},this.renderOrderIcon("shortCode"),"Short URL"),o.a.createElement("th",{className:"short-urls-list__header-cell short-urls-list__header-cell--with-action",onClick:this.orderByColumn("longUrl")},this.renderOrderIcon("longUrl"),"Long URL"),o.a.createElement("th",{className:"short-urls-list__header-cell"},"Tags"),o.a.createElement("th",{className:"short-urls-list__header-cell short-urls-list__header-cell--with-action",onClick:this.orderByColumn("visits")},o.a.createElement("span",{className:"indivisible"},this.renderOrderIcon("visits")," Visits")),o.a.createElement("th",{className:"short-urls-list__header-cell"},"\xa0"))),o.a.createElement("tbody",null,this.renderShortUrls())))}}]),r}(o.a.Component)},jt=r(65),wt=r(77),Tt=r.n(wt),Ut=r(38),Ct=r(126),kt=r(567),Rt=(r(309),r(63)),Dt=function(e,t){var r=e.id,n=t.shortCode,a=t.domain,o=a?"?domain=".concat(a):"";return"/server/".concat(r,"/short-code/").concat(n,"/visits").concat(o)},Nt=function(e){var t=e.selectedServer,r=e.shortUrl,n=e.children,a=Object(Rt.a)(e,["selectedServer","shortUrl","children"]);return t&&r?o.a.createElement(s.b,Object.assign({to:Dt(t,r)},a),n):o.a.createElement("span",a,n)},Pt=function(e){var t=e.visitsCount,r=e.shortUrl,n=e.selectedServer,a=r&&r.meta&&r.meta.maxVisits,c=o.a.createElement(Nt,{selectedServer:n,shortUrl:r},o.a.createElement("strong",null,t));return a?o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:"indivisible"},c,o.a.createElement("small",{id:"maxVisitsControl",className:"short-urls-visits-count__max-visits-control"}," ","/ ",a," ",o.a.createElement("sup",null,o.a.createElement(F.a,{icon:M.m})))),o.a.createElement(kt.a,{target:"maxVisitsControl",placement:"bottom"},"This short URL will not accept more than ",o.a.createElement("b",null,a)," visits.")):c},_t=(r(310),function(e,t,r){return function(n){var a=n.shortUrl,c=n.selectedServer,i=n.refreshList,s=n.shortUrlsListParams,l=r(!1),u=Object(j.a)(l,2),m=u[0],d=u[1];return o.a.createElement("tr",{className:"short-urls-row"},o.a.createElement("td",{className:"indivisible short-urls-row__cell","data-th":"Created at: "},o.a.createElement(Tt.a,{format:"YYYY-MM-DD HH:mm"},a.dateCreated)),o.a.createElement("td",{className:"short-urls-row__cell","data-th":"Short URL: "},o.a.createElement("span",{className:"indivisible short-urls-row__cell--relative"},o.a.createElement(Ut.a,{href:a.shortUrl}),o.a.createElement(Ct.CopyToClipboard,{text:a.shortUrl,onCopy:d},o.a.createElement(F.a,{icon:z.b,className:"ml-2 short-urls-row__copy-btn"})),o.a.createElement("span",{className:"badge badge-warning short-urls-row__copy-hint",hidden:!m},"Copied short URL!"))),o.a.createElement("td",{className:"short-urls-row__cell short-urls-row__cell--break","data-th":"Long URL: "},o.a.createElement(Ut.a,{href:a.longUrl})),o.a.createElement("td",{className:"short-urls-row__cell","data-th":"Tags: "},function(e){if(Object(V.a)(e))return o.a.createElement("i",{className:"indivisible"},o.a.createElement("small",null,"No tags"));var r=s.tags||[];return e.map((function(e){return o.a.createElement(q,{colorGenerator:t,key:e,text:e,onClick:function(){return i({tags:[].concat(Object(jt.a)(r),[e])})}})}))}(a.tags)),o.a.createElement("td",{className:"short-urls-row__cell text-md-right","data-th":"Visits: "},o.a.createElement(Pt,{visitsCount:a.visitsCount,shortUrl:a,selectedServer:c})),o.a.createElement("td",{className:"short-urls-row__cell"},o.a.createElement(e,{selectedServer:c,shortUrl:a})))}}),Lt=r(570),xt=r(27),At=r(598),Mt=r(568),Ft=r(569),Ht=(r(311),function(e){var t=e.url,r=e.toggle,n=e.isOpen;return o.a.createElement(At.a,{isOpen:n,toggle:r,size:"lg"},o.a.createElement(Mt.a,{toggle:r},"Preview for ",o.a.createElement(Ut.a,{href:t},t)),o.a.createElement(Ft.a,null,o.a.createElement("div",{className:"text-center"},o.a.createElement("p",{className:"preview-modal__loader"},"Loading..."),o.a.createElement("img",{src:"".concat(t,"/preview"),className:"preview-modal__img",alt:"Preview"}))))}),Vt=(r(312),function(e){var t=e.url,r=e.toggle,n=e.isOpen;return o.a.createElement(At.a,{isOpen:n,toggle:r,centered:!0},o.a.createElement(Mt.a,{toggle:r},"QR code for ",o.a.createElement(Ut.a,{href:t},t)),o.a.createElement(Ft.a,null,o.a.createElement("div",{className:"text-center"},o.a.createElement("img",{src:"".concat(t,"/qr-code"),className:"qr-code-modal__img",alt:"QR code"}))))}),It=(r(313),function(e,t,r,n,a){return function(c){var i=c.shortUrl,s=c.selectedServer,l=Object(xt.b)(),u=Object(j.a)(l,2),m=u[0],d=u[1],h=Object(xt.b)(),f=Object(j.a)(h,2),g=f[0],p=f[1],v=Object(xt.b)(),b=Object(j.a)(v,2),E=b[0],O=b[1],S=Object(xt.b)(),y=Object(j.a)(S,2),w=y[0],T=y[1],U=Object(xt.b)(),C=Object(j.a)(U,2),k=C[0],R=C[1],D=Object(xt.b)(),N=Object(j.a)(D,2),P=N[0],_=N[1],L=Object(xt.b)(),x=Object(j.a)(L,2),A=x[0],H=x[1],V=i&&i.shortUrl?i.shortUrl:"";return o.a.createElement(Lt.a,{toggle:d,isOpen:m},o.a.createElement(dt.a,{size:"sm",caret:!0,outline:!0,className:"short-urls-row-menu__dropdown-toggle"},"\xa0",o.a.createElement(F.a,{icon:M.l}),"\xa0"),o.a.createElement(ht.a,{right:!0},o.a.createElement(ft.a,{tag:Nt,selectedServer:s,shortUrl:i},o.a.createElement(F.a,{icon:M.f,fixedWidth:!0})," Visit stats"),o.a.createElement(ft.a,{onClick:T},o.a.createElement(F.a,{icon:M.z,fixedWidth:!0})," Edit tags"),o.a.createElement(t,{shortUrl:i,isOpen:w,toggle:T}),o.a.createElement(a,{minVersion:"1.18.0"},o.a.createElement(ft.a,{onClick:R},o.a.createElement(F.a,{icon:M.k,fixedWidth:!0})," Edit metadata"),o.a.createElement(r,{shortUrl:i,isOpen:k,toggle:R})),o.a.createElement(a,{minVersion:"2.1.0"},o.a.createElement(ft.a,{onClick:H},o.a.createElement(F.a,{icon:M.n,fixedWidth:!0})," Edit long URL"),o.a.createElement(n,{shortUrl:i,isOpen:A,toggle:H})),o.a.createElement(ft.a,{onClick:p},o.a.createElement(F.a,{icon:M.v,fixedWidth:!0})," QR code"),o.a.createElement(Vt,{url:V,isOpen:g,toggle:p}),o.a.createElement(a,{maxVersion:"1.x"},o.a.createElement(ft.a,{onClick:O},o.a.createElement(F.a,{icon:z.c,fixedWidth:!0})," Preview"),o.a.createElement(Ht,{url:V,isOpen:E,toggle:O})),o.a.createElement(ft.a,{divider:!0}),o.a.createElement(ft.a,{className:"short-urls-row-menu__dropdown-item--danger",onClick:_},o.a.createElement(F.a,{icon:M.q,fixedWidth:!0})," Delete short URL"),o.a.createElement(e,{shortUrl:i,isOpen:P,toggle:_})))}}),Gt=r(571),Wt=r(572),Bt=r(573),Yt=r(574),qt=r(544),Kt=r(70),Jt=function(e){var t=e.checked,r=e.onChange,n=e.className,a=e.children,c=Object(Kt.v4)();return o.a.createElement("span",{className:B()("custom-control custom-checkbox",n),style:{display:"inline"}},o.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:c,checked:t,onChange:function(e){return r(e.target.checked,e)}}),o.a.createElement("label",{className:"custom-control-label",htmlFor:c},a))},zt=r(57);function Zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zt(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zt(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}T.a.shape({result:T.a.shape({shortUrl:T.a.string}),saving:T.a.bool,error:T.a.bool});var Qt={result:null,saving:!1,error:!1},$t=Object(ee.a)((Ot={},Object(f.a)(Ot,"shlink/createShortUrl/CREATE_SHORT_URL_START",(function(e){return Xt({},e,{saving:!0,error:!1})})),Object(f.a)(Ot,"shlink/createShortUrl/CREATE_SHORT_URL_ERROR",(function(e){return Xt({},e,{saving:!1,error:!0})})),Object(f.a)(Ot,"shlink/createShortUrl/CREATE_SHORT_URL",(function(e,t){return{result:t.result,saving:!1,error:!1}})),Object(f.a)(Ot,"shlink/createShortUrl/RESET_CREATE_SHORT_URL",(function(){return Qt})),Ot),Qt),er=function(e){return function(t){return function(){var r=Object(ae.a)(ne.a.mark((function r(n,a){var o,c,i;return ne.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:"shlink/createShortUrl/CREATE_SHORT_URL_START"}),o=e(a),c=o.createShortUrl,r.prev=2,r.next=5,c(t);case 5:i=r.sent,n({type:"shlink/createShortUrl/CREATE_SHORT_URL",result:i}),r.next=13;break;case 9:throw r.prev=9,r.t0=r.catch(2),n({type:"shlink/createShortUrl/CREATE_SHORT_URL_ERROR"}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[2,9]])})));return function(e,t){return r.apply(this,arguments)}}()}},tr=Object(te.a)("shlink/createShortUrl/RESET_CREATE_SHORT_URL"),rr=(r(316),function(){var e,t,r=Object(xt.b)(),n=Object(j.a)(r,2),a=n[0],c=n[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{title:"What does this mean?"},o.a.createElement(F.a,{icon:M.m,style:{cursor:"pointer"},onClick:c})),(e=a,t=c,o.a.createElement(At.a,{isOpen:e,toggle:t,centered:!0,size:"lg"},o.a.createElement(Mt.a,{toggle:t},"Info"),o.a.createElement(Ft.a,null,o.a.createElement("p",null,"When the\xa0",o.a.createElement("b",null,o.a.createElement("i",null,'"Use existing URL if found"')),"\xa0checkbox is checked, the server will return an existing short URL if it matches provided params."),o.a.createElement("p",null,"These are the checks performed by Shlink in order to determine if an existing short URL should be returned:"),o.a.createElement("ul",null,o.a.createElement("li",null,"When only the long URL is provided: The most recent match will be returned, or a new short URL will be created if none is found."),o.a.createElement("li",null,"When long URL and custom slug and/or domain are provided: Same as in previous case, but it will try to match the short URL using both the long URL and the slug, the long URL and the domain, or the three of them.",o.a.createElement("br",null),"If the slug is being used by another long URL, an error will be returned."),o.a.createElement("li",null,"When other params are provided: Same as in previous cases, but it will try to match existing short URLs with all provided data. If any of them does not match, a new short URL will be created"))))))});function nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nr(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var or=Object(H.a)(Gt.a,Object(Wt.a)(/ /g,"-")),cr=function(e){return Object(K.a)(e)?e:e.format()},ir={longUrl:"",tags:[],customSlug:"",shortCodeLength:"",domain:"",validSince:void 0,validUntil:void 0,maxVisits:"",findIfExists:!1},sr=function(e,t,r){return function(n){var c=n.createShortUrl,i=n.shortUrlCreationResult,s=n.resetCreateShortUrl,l=n.selectedServer,u=Object(a.useState)(ir),m=Object(j.a)(u,2),d=m[0],h=m[1],g=Object(xt.b)(),p=Object(j.a)(g,2),v=p[0],b=p[1],E=function(){return h(ir)},O=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o.a.createElement(Bt.a,null,o.a.createElement(Yt.a,Object.assign({id:e,type:r,placeholder:t,value:d[e],onChange:function(t){return h(ar({},d,Object(f.a)({},e,t.target.value)))}},n)))},S=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.a.createElement("div",{className:"form-group"},o.a.createElement(Z,Object.assign({selected:d[e],placeholderText:t,isClearable:!0,onChange:function(t){return h(ar({},d,Object(f.a)({},e,t)))}},r)))},y=l&&l.version,w=!Object(zt.a)(y,{minVersion:"1.19.0-beta.1"}),T=!Object(zt.a)(y,{minVersion:"2.1.0"});return o.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=ar({},d,{validSince:cr(d.validSince),validUntil:cr(d.validUntil)});c(t).then(E).catch((function(){}))}},o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{className:"form-control form-control-lg",type:"url",placeholder:"Insert the URL to be shortened",required:!0,value:d.longUrl,onChange:function(e){return h(ar({},d,{longUrl:e.target.value}))}})),o.a.createElement(qt.a,{isOpen:v},o.a.createElement("div",{className:"form-group"},o.a.createElement(e,{tags:d.tags,onChange:function(e){return h(ar({},d,{tags:e.map(or)}))}})),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-4"},O("customSlug","Custom slug")),o.a.createElement("div",{className:"col-sm-4"},O("shortCodeLength","Short code length","number",ar({min:4,disabled:T||Object(pt.c)(d.customSlug)},T&&{title:"Shlink 2.1.0 or higher is required to be able to provide the short code length"}))),o.a.createElement("div",{className:"col-sm-4"},O("domain","Domain","text",ar({disabled:w},w&&{title:"Shlink 1.19.0 or higher is required to be able to provide the domain"})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-4"},O("maxVisits","Maximum number of visits allowed","number",{min:1})),o.a.createElement("div",{className:"col-sm-4"},S("validSince","Enabled since...",{maxDate:d.validUntil})),o.a.createElement("div",{className:"col-sm-4"},S("validUntil","Enabled until...",{minDate:d.validSince}))),o.a.createElement(r,{minVersion:"1.16.0"},o.a.createElement("div",{className:"mb-4 text-right"},o.a.createElement(Jt,{className:"mr-2",checked:d.findIfExists,onChange:function(e){return h(ar({},d,{findIfExists:e}))}},"Use existing URL if found"),o.a.createElement(rr,null)))),o.a.createElement("div",null,o.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:b},o.a.createElement(F.a,{icon:v?M.b:M.a}),"\xa0",v?"Less":"More"," options"),o.a.createElement("button",{className:"btn btn-outline-primary float-right",disabled:i.saving||Object(V.a)(d.longUrl)},i.saving?"Creating...":"Create")),o.a.createElement(t,Object.assign({},i,{resetCreateShortUrl:s})))}},lr=r(575),ur=r(555),mr=function(e){function t(){var e,r;Object(tt.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(nt.a)(this,(e=Object(at.a)(t)).call.apply(e,[this].concat(a)))).state={inputValue:""},r.handleDeleteUrl=function(e){e.preventDefault();var t=r.props,n=t.deleteShortUrl,a=t.shortUrl,o=t.toggle;n(a.shortCode,a.domain).then(o).catch(ur.a)},r}return Object(ot.a)(t,e),Object(rt.a)(t,[{key:"componentWillUnmount",value:function(){(0,this.props.resetDeleteShortUrl)()}},{key:"render",value:function(){var e=this,t=this.props,r=t.shortUrl,n=t.toggle,a=t.isOpen,c=t.shortUrlDeletion,i=t.resetDeleteShortUrl,s=c.error,l=c.errorData,u=s&&(l.type||l.error),m="INVALID_SHORTCODE_DELETION"===u,d=s&&"INVALID_SHORTCODE_DELETION"!==u,h=Object(H.a)(i,n);return o.a.createElement(At.a,{isOpen:a,toggle:h,centered:!0},o.a.createElement("form",{onSubmit:this.handleDeleteUrl},o.a.createElement(Mt.a,{toggle:h},o.a.createElement("span",{className:"text-danger"},"Delete short URL")),o.a.createElement(Ft.a,null,o.a.createElement("p",null,o.a.createElement("b",{className:"text-danger"},"Caution!")," You are about to delete a short URL."),o.a.createElement("p",null,"This action cannot be undone. Once you have deleted it, all the visits stats will be lost."),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Insert the short code of the URL",value:this.state.inputValue,onChange:function(t){return e.setState({inputValue:t.target.value})}}),m&&o.a.createElement("div",{className:"p-2 mt-2 bg-warning text-center"},l.threshold&&"This short URL has received more than ".concat(l.threshold," visits, and therefore, it cannot be deleted."),!l.threshold&&"This short URL has received too many visits, and therefore, it cannot be deleted."),d&&o.a.createElement("div",{className:"p-2 mt-2 bg-danger text-white text-center"},"Something went wrong while deleting the URL :(")),o.a.createElement(lr.a,null,o.a.createElement("button",{type:"button",className:"btn btn-link",onClick:h},"Cancel"),o.a.createElement("button",{type:"submit",className:"btn btn-danger",disabled:this.state.inputValue!==r.shortCode||c.loading},c.loading?"Deleting...":"Delete"))))}}]),t}(o.a.Component),dr=function(e){return function(t){function r(e){var t;return Object(tt.a)(this,r),(t=Object(nt.a)(this,Object(at.a)(r).call(this,e))).saveTags=function(){var e=t.props,r=e.editShortUrlTags,n=e.shortUrl,a=e.toggle;r(n.shortCode,n.domain,t.state.tags).then(a).catch((function(){}))},t.state={tags:e.shortUrl.tags},t}return Object(ot.a)(r,t),Object(rt.a)(r,[{key:"componentDidMount",value:function(){(0,this.props.resetShortUrlsTags)()}}]),Object(rt.a)(r,[{key:"render",value:function(){var t=this,r=this.props,n=r.isOpen,a=r.toggle,c=r.shortUrl,i=r.shortUrlTags,s=r.resetShortUrlsTags,l=c&&(c.shortUrl||""),u=Object(H.a)(s,a);return o.a.createElement(At.a,{isOpen:n,toggle:u,centered:!0},o.a.createElement(Mt.a,{toggle:u},"Edit tags for ",o.a.createElement(Ut.a,{href:l})),o.a.createElement(Ft.a,null,o.a.createElement(e,{tags:this.state.tags,onChange:function(e){return t.setState({tags:e})}}),i.error&&o.a.createElement("div",{className:"p-2 mt-2 bg-danger text-white text-center"},"Something went wrong while saving the tags :(")),o.a.createElement(lr.a,null,o.a.createElement("button",{className:"btn btn-link",onClick:u},"Cancel"),o.a.createElement("button",{className:"btn btn-primary",type:"button",disabled:i.saving,onClick:function(){return t.saveTags()}},i.saving?"Saving tags...":"Save tags")))}}]),r}(o.a.Component)},hr=function(e,t){var r=e&&e.meta&&e.meta[t];return r&&G()(r)},fr=function(e){var t=e.isOpen,r=e.toggle,n=e.shortUrl,c=e.shortUrlMeta,i=e.editShortUrlMeta,s=e.resetShortUrlMeta,l=c.saving,u=c.error,m=n&&(n.shortUrl||""),d=Object(a.useState)(hr(n,"validSince")),h=Object(j.a)(d,2),f=h[0],g=h[1],p=Object(a.useState)(hr(n,"validUntil")),v=Object(j.a)(p,2),b=v[0],E=v[1],O=Object(a.useState)(n&&n.meta&&n.meta.maxVisits),S=Object(j.a)(O,2),y=S[0],w=S[1],T=Object(H.a)(s,r);return o.a.createElement(At.a,{isOpen:t,toggle:T,centered:!0},o.a.createElement(Mt.a,{toggle:T},o.a.createElement(F.a,{icon:M.m,id:"metaTitleInfo"})," Edit metadata for ",o.a.createElement(Ut.a,{href:m}),o.a.createElement(kt.a,{target:"metaTitleInfo",placement:"bottom"},o.a.createElement("p",null,"Using these metadata properties, you can limit when and how many times your short URL can be visited."),o.a.createElement("p",null,"If any of the params is not met, the URL will behave as if it was an invalid short URL."))),o.a.createElement("form",{onSubmit:function(e){return e.preventDefault()||i(n.shortCode,n.domain,{maxVisits:y&&!Object(V.a)(y)?parseInt(y):null,validSince:f&&$(f),validUntil:b&&$(b)}).then(T)}},o.a.createElement(Ft.a,null,o.a.createElement(Bt.a,null,o.a.createElement(Z,{placeholderText:"Enabled since...",selected:f,maxDate:b,isClearable:!0,onChange:g})),o.a.createElement(Bt.a,null,o.a.createElement(Z,{placeholderText:"Enabled until...",selected:b,minDate:f,isClearable:!0,onChange:E})),o.a.createElement(Bt.a,{className:"mb-0"},o.a.createElement(Yt.a,{type:"number",placeholder:"Maximum number of visits allowed",min:1,value:y||"",onChange:function(e){return w(e.target.value)}})),u&&o.a.createElement("div",{className:"p-2 mt-2 bg-danger text-white text-center"},"Something went wrong while saving the metadata :(")),o.a.createElement(lr.a,null,o.a.createElement("button",{className:"btn btn-link",type:"button",onClick:T},"Cancel"),o.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:l},l?"Saving...":"Save"))))},gr=r(171),pr=function(e){var t=e.isOpen,r=e.toggle,n=e.shortUrl,c=e.shortUrlEdition,i=e.editShortUrl,s=c.saving,l=c.error,u=n&&(n.shortUrl||""),m=Object(a.useState)(n.longUrl),d=Object(j.a)(m,2),h=d[0],f=d[1];return o.a.createElement(At.a,{isOpen:t,toggle:r,centered:!0},o.a.createElement(Mt.a,{toggle:r},"Edit long URL for ",o.a.createElement(Ut.a,{href:u})),o.a.createElement("form",{onSubmit:function(e){return e.preventDefault()||i(n.shortCode,n.domain,h).then(r)}},o.a.createElement(Ft.a,null,o.a.createElement(Bt.a,{className:"mb-0"},o.a.createElement(Yt.a,{type:"url",required:!0,placeholder:"Long URL",value:h,onChange:function(e){return f(e.target.value)}})),l&&o.a.createElement("div",{className:"p-2 mt-2 bg-danger text-white text-center"},"Something went wrong while saving the long URL :(")),o.a.createElement(lr.a,null,o.a.createElement(gr.a,{color:"link",onClick:r},"Cancel"),o.a.createElement(gr.a,{color:"primary",disabled:s||!Object(pt.c)(h)},s?"Saving...":"Save"))))},vr=r(551),br=r(576),Er=r(172),Or=(r(317),function(e){return function(t){function r(){var e,t;Object(tt.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=Object(nt.a)(this,(e=Object(at.a)(r)).call.apply(e,[this].concat(a)))).state={showCopyTooltip:!1},t}return Object(ot.a)(r,t),Object(rt.a)(r,[{key:"componentDidMount",value:function(){this.props.resetCreateShortUrl()}},{key:"render",value:function(){var t=this,r=this.props,n=r.error,a=r.result;if(n)return o.a.createElement(vr.a,{body:!0,color:"danger",inverse:!0,className:"bg-danger mt-3"},"An error occurred while creating the URL :(");if(Object(K.a)(a))return null;var c=a.shortUrl;return o.a.createElement(vr.a,{inverse:!0,className:"bg-main mt-3"},o.a.createElement(br.a,null,o.a.createElement("b",null,"Great!")," The short URL is ",o.a.createElement("b",null,c),o.a.createElement(Ct.CopyToClipboard,{text:c,onCopy:function(){return e(t.setState.bind(t),"showCopyTooltip")}},o.a.createElement("button",{className:"btn btn-light btn-sm create-short-url-result__copy-btn",id:"copyBtn",type:"button"},o.a.createElement(F.a,{icon:z.b})," Copy")),o.a.createElement(Er.a,{placement:"left",isOpen:this.state.showCopyTooltip,target:"copyBtn"},"Copied!")))}}]),r}(o.a.Component)}),Sr=function(e,t){e.serviceFactory("ShortUrls",A,"SearchBar","ShortUrlsList"),e.decorator("ShortUrls",Object(i.b)((function(e){return Object(y.a)("shortUrlsList",e.shortUrlsList.shortUrls,e.shortUrlsList)}))),e.serviceFactory("SearchBar",et,"ColorGenerator","ForServerVersion"),e.decorator("SearchBar",t(["shortUrlsListParams"],["listShortUrls"])),e.serviceFactory("ShortUrlsList",yt,"ShortUrlsRow"),e.decorator("ShortUrlsList",t(["selectedServer","shortUrlsListParams"],["listShortUrls","resetShortUrlParams"])),e.serviceFactory("ShortUrlsRow",_t,"ShortUrlsRowMenu","ColorGenerator","useStateFlagTimeout"),e.serviceFactory("ShortUrlsRowMenu",It,"DeleteShortUrlModal","EditTagsModal","EditMetaModal","EditShortUrlModal","ForServerVersion"),e.serviceFactory("CreateShortUrlResult",Or,"stateFlagTimeout"),e.serviceFactory("CreateShortUrl",sr,"TagsSelector","CreateShortUrlResult","ForServerVersion"),e.decorator("CreateShortUrl",t(["shortUrlCreationResult","selectedServer"],["createShortUrl","resetCreateShortUrl"])),e.serviceFactory("DeleteShortUrlModal",(function(){return mr})),e.decorator("DeleteShortUrlModal",t(["shortUrlDeletion"],["deleteShortUrl","resetDeleteShortUrl"])),e.serviceFactory("EditTagsModal",dr,"TagsSelector"),e.decorator("EditTagsModal",t(["shortUrlTags"],["editShortUrlTags","resetShortUrlsTags"])),e.serviceFactory("EditMetaModal",(function(){return fr})),e.decorator("EditMetaModal",t(["shortUrlMeta"],["editShortUrlMeta","resetShortUrlMeta"])),e.serviceFactory("EditShortUrlModal",(function(){return pr})),e.decorator("EditShortUrlModal",t(["shortUrlEdition"],["editShortUrl"])),e.serviceFactory("editShortUrlTags",de,"buildShlinkApiClient"),e.serviceFactory("resetShortUrlsTags",(function(){return he})),e.serviceFactory("listShortUrls",qe,"buildShlinkApiClient"),e.serviceFactory("resetShortUrlParams",(function(){return Ze})),e.serviceFactory("createShortUrl",er,"buildShlinkApiClient"),e.serviceFactory("resetCreateShortUrl",(function(){return tr})),e.serviceFactory("deleteShortUrl",Se,"buildShlinkApiClient"),e.serviceFactory("resetDeleteShortUrl",(function(){return ye})),e.serviceFactory("editShortUrlMeta",Re,"buildShlinkApiClient"),e.serviceFactory("resetShortUrlMeta",(function(){return De})),e.serviceFactory("editShortUrl",Ae,"buildShlinkApiClient")},yr=r(254),jr=r.n(yr),wr=(r(333),function(e){var t=e.children,r=e.value,n=e.onChange,a=e.id,c=void 0===a?Object(Kt.v4)():a,i=e.type,s=void 0===i?"text":i,l=e.required,u=void 0===l||l;return o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:c,className:"col-lg-1 col-md-2 col-form-label create-server__label"},t,":"),o.a.createElement("div",{className:"col-lg-11 col-md-10"},o.a.createElement("input",{className:"form-control",type:s,id:c,value:r,required:u,onChange:function(e){return n(e.target.value)}})))}),Tr=function(e){var t=e.onSubmit,r=e.initialValues,n=e.children,c=Object(a.useState)(""),i=Object(j.a)(c,2),s=i[0],l=i[1],u=Object(a.useState)(""),m=Object(j.a)(u,2),d=m[0],h=m[1],f=Object(a.useState)(""),g=Object(j.a)(f,2),p=g[0],v=g[1];return Object(a.useEffect)((function(){r&&l(r.name),r&&h(r.url),r&&v(r.apiKey)}),[r]),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t({name:s,url:d,apiKey:p})}},o.a.createElement(wr,{value:s,onChange:l},"Name"),o.a.createElement(wr,{type:"url",value:d,onChange:h},"URL"),o.a.createElement(wr,{value:p,onChange:v},"API key"),o.a.createElement("div",{className:"text-right"},n))};function Ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Cr,kr=function(e,t){return function(r){var n=r.createServer,c=r.history.push,i=r.resetSelectedServer,s=t(!1,4e3),l=Object(j.a)(s,2),u=l[0],m=l[1];return Object(a.useEffect)((function(){i()}),[]),o.a.createElement("div",{className:"create-server"},o.a.createElement(Tr,{onSubmit:function(e){var t=Object(Kt.v4)(),r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ur(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ur(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:t},e);n(r),c("/server/".concat(t,"/list-short-urls/1"))}},o.a.createElement(e,{onImport:m}),o.a.createElement("button",{className:"btn btn-outline-primary"},"Create server")),u&&o.a.createElement("div",{className:"row create-server__import-success-msg"},o.a.createElement("div",{className:"col-md-10 offset-md-1"},o.a.createElement("div",{className:"p-2 mt-3 bg-main text-white text-center"},"Servers properly imported. You can now select one from the list :)"))))}},Rr=function(e){return function(t){function r(){var t,n;Object(tt.a)(this,r);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(nt.a)(this,(t=Object(at.a)(r)).call.apply(t,[this].concat(c)))).renderServers=function(){var t=n.props,r=t.servers,a=r.list,c=r.loading,i=t.selectedServer,s=Object(st.a)(a),l=n.props.history.push;return c?o.a.createElement(ft.a,{disabled:!0},o.a.createElement("i",null,"Trying to load servers...")):Object(V.a)(s)?o.a.createElement(ft.a,{disabled:!0},o.a.createElement("i",null,"Add a server first...")):o.a.createElement(o.a.Fragment,null,s.map((function(e){var t=e.name,r=e.id;return o.a.createElement(ft.a,{key:r,active:i&&i.id===r,onClick:function(){return function(e){return l("/server/".concat(e,"/list-short-urls/1"))}(r)}},t)})),o.a.createElement(ft.a,{divider:!0}),o.a.createElement(ft.a,{className:"servers-dropdown__export-item",onClick:function(){return e.exportServers()}},"Export servers"))},n.componentDidMount=n.props.listServers,n.render=function(){return o.a.createElement(mt.a,{nav:!0,inNavbar:!0},o.a.createElement(dt.a,{nav:!0,caret:!0},"Servers"),o.a.createElement(ht.a,{right:!0},n.renderServers()))},n}return Object(ot.a)(r,t),r}(o.a.Component)},Dr=function(e){var t=e.server,r=e.toggle,n=e.isOpen,a=e.deleteServer,c=e.history;return o.a.createElement(At.a,{isOpen:n,toggle:r,centered:!0},o.a.createElement(Mt.a,{toggle:r},o.a.createElement("span",{className:"text-danger"},"Remove server")),o.a.createElement(Ft.a,null,o.a.createElement("p",null,"Are you sure you want to remove ",o.a.createElement("b",null,t?t.name:""),"?"),o.a.createElement("p",null,o.a.createElement("i",null,"No data will be deleted, only the access to this server will be removed from this host. You can create it again at any moment."))),o.a.createElement(lr.a,null,o.a.createElement("button",{className:"btn btn-link",onClick:r},"Cancel"),o.a.createElement("button",{className:"btn btn-danger",onClick:function(){return a(t),r(),void c.push("/")}},"Delete")))},Nr=function(e){return function(t){var r=t.server,n=t.className,a=t.children,c=t.textClassName,i=Object(xt.b)(),s=Object(j.a)(i,4),l=s[0],u=s[2],m=s[3];return o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:n,onClick:u},!a&&o.a.createElement(F.a,{icon:M.q}),o.a.createElement("span",{className:c},a||"Remove this server")),o.a.createElement(e,{server:r,isOpen:l,toggle:m}))}},Pr=r(121),_r=function(e){return Object(Pr.a)((function(e){var t=e.editServer,r=e.selectedServer,n=e.history.push;return o.a.createElement("div",{className:"create-server"},o.a.createElement(Tr,{initialValues:r,onSubmit:function(e){t(r.id,e),n("/server/".concat(r.id,"/list-short-urls/1"))}},o.a.createElement("button",{className:"btn btn-outline-primary"},"Save")))}),e)},Lr=function(e){var t,r;return r=t=function(t){function r(e){var t;return Object(tt.a)(this,r),(t=Object(nt.a)(this,Object(at.a)(r).call(this,e))).fileRef=e.fileRef||o.a.createRef(),t}return Object(ot.a)(r,t),Object(rt.a)(r,[{key:"render",value:function(){var t=this,r=e.importServersFromFile,n=this.props,a=n.onImport,c=n.createServers;return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{type:"button",className:"btn btn-outline-secondary mr-2",id:"importBtn",onClick:function(){return t.fileRef.current.click()}},"Import from file"),o.a.createElement(kt.a,{placement:"top",target:"importBtn"},"You can create servers by importing a CSV file with columns ",o.a.createElement("b",null,"name"),", ",o.a.createElement("b",null,"apiKey")," and ",o.a.createElement("b",null,"url")),o.a.createElement("input",{type:"file",accept:"text/csv",className:"create-server__csv-select",ref:this.fileRef,onChange:function(e){var t=e.target;return r(t.files[0]).then(c).then(a).then((function(){t.value=null}))}}))}}]),r}(o.a.Component),t.defaultProps={onImport:function(){return{}}},r},xr=r(552);function Ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ar(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ar(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Fr,Hr="shlink/selectedServer/SELECT_SERVER",Vr=Object(H.a)((function(e){return"latest"===e?"999.999.999":e}),Object(zt.c)("1.0.0")),Ir=Object(xr.a)(ur.a,(function(e,t){return t().then((function(e){var t=e.version;return{version:Vr(t),printableVersion:Object(zt.b)(t)}}))})),Gr=Object(te.a)("shlink/selectedServer/RESET_SELECTED_SERVER"),Wr=function(e,t){var r=e.findServerById;return function(e){return function(){var n=Object(ae.a)(ne.a.mark((function n(a){var o,c,i,s,l,u;return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a(Gr()),a(Ze()),o=r(e)){n.next=6;break}return a({type:Hr,selectedServer:{serverNotFound:!0}}),n.abrupt("return");case 6:return n.prev=6,c=t(o),i=c.health,n.next=10,Ir(e,i);case 10:s=n.sent,l=s.version,u=s.printableVersion,a({type:Hr,selectedServer:Mr({},o,{version:l,printableVersion:u})}),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(6),a({type:Hr,selectedServer:Mr({},o,{serverNotReachable:!0})});case 19:case"end":return n.stop()}}),n,null,[[6,16]])})));return function(e){return n.apply(this,arguments)}}()}},Br=Object(ee.a)((Cr={},Object(f.a)(Cr,"shlink/selectedServer/RESET_SELECTED_SERVER",(function(){return null})),Object(f.a)(Cr,Hr,(function(e,t){return t.selectedServer})),Cr),null),Yr=r(594),qr=r(595);function Kr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kr(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var zr="shlink/servers/FETCH_SERVERS",Zr=function(e){return Object(y.a)("id",e.id||Object(Kt.v4)(),e)},Xr=Object(ee.a)((Fr={},Object(f.a)(Fr,"shlink/servers/FETCH_SERVERS_START",(function(e){return Jr({},e,{loading:!0})})),Object(f.a)(Fr,zr,(function(e,t){return{list:t.list,loading:!1}})),Fr),{list:{},loading:!1}),Qr=function(e,t){var r=e.listServers,n=e.createServers,a=t.get;return function(){return function(){var e=Object(ae.a)(ne.a.mark((function e(t){var o,c,i;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t({type:"shlink/servers/FETCH_SERVERS_START"}),o=r(),Object(V.a)(o)){e.next=5;break}return t({type:zr,list:o}),e.abrupt("return");case 5:return c=Object(H.a)(Object(Yr.a)("data"),(function(e){if(!Array.isArray(e))throw new Error("Value is not an array");return e}),Object(qr.a)(Zr)),e.next=8,a("".concat(l.a,"/servers.json")).then(c).catch((function(){return[]}));case 8:i=e.sent,n(i),t({type:zr,list:i.reduce((function(e,t){return Jr({},e,Object(f.a)({},t.id,t))}),{})});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},$r=function(e,t){var r=e.createServer;return Object(H.a)(r,t)},en=function(e,t){var r=e.editServer;return Object(H.a)(r,t)},tn=function(e,t){var r=e.deleteServer;return Object(H.a)(r,t)},rn=function(e,t){var r=e.createServers;return Object(H.a)(Object(qr.a)(Zr),r,t)},nn=function(e){var t=e.minVersion,r=e.maxVersion,n=e.selectedServer,a=e.children;if(!n)return null;var c=n.version;return Object(zt.a)(c,{maxVersion:r,minVersion:t})?o.a.createElement(o.a.Fragment,null,a):null},an=r(62),on=r(118),cn=(r(334),function(e){return function(t){var r=t.type,n=t.servers.list,a=t.selectedServer;return o.a.createElement("div",{className:"server-error__container flex-column"},o.a.createElement("div",{className:"row w-100 mb-3 mb-md-5"},o.a.createElement(an.a,{type:"error"},"not-found"===r&&"Could not find this Shlink server.","not-reachable"===r&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Oops! Could not connect to this Shlink server."),"Make sure you have internet connection, and the server is properly configured and on-line."))),o.a.createElement(on.a,{servers:Object.values(n)},"These are the Shlink servers currently configured. Choose one of them or ",o.a.createElement(s.b,{to:"/server/create"},"add a new one"),"."),"not-reachable"===r&&o.a.createElement("div",{className:"container mt-3 mt-md-5"},o.a.createElement("h5",null,"Alternatively, if you think you may have miss-configured this server, you can ",o.a.createElement(e,{server:a,className:"server-error__delete-btn"},"remove it")," or\xa0",o.a.createElement(s.b,{to:"/server/".concat(a.id,"/edit")},"edit it"),".")))}}),sn=function e(t){var r=this;Object(tt.a)(this,e),this.importServersFromFile=function(e){if(!e||"text/csv"!==e.type)return Promise.reject("No file provided or file is not a CSV");var t=new FileReader;return new Promise((function(n){t.addEventListener("loadend",(function(e){var t=e.target.result,a=r.csvjson.toObject(t);n(a)})),t.readAsText(e)}))},this.csvjson=t},ln=r(250),un=r(577);function mn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var dn=function e(t){var r=this;Object(tt.a)(this,e),this.listServers=function(){return r.storage.get("servers")||{}},this.findServerById=function(e){return r.listServers()[e]},this.createServer=function(e){return r.createServers([e])},this.createServers=function(e){var t=Object(ln.a)((function(e,t){return Object(y.a)(t.id,t,e)}),r.listServers(),e);r.storage.set("servers",t)},this.deleteServer=function(e){var t=e.id;return r.storage.set("servers",Object(un.a)(t,r.listServers()))},this.editServer=function(e,t){var n=r.listServers();n[e]&&r.storage.set("servers",Object(y.a)(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mn(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mn(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n[e],{},t),n))},this.storage=t},hn=function(e,t){var r=e.navigator,n=e.document,a=new Blob([t],{type:"text/csv;charset=utf-8;"});if(r.msSaveBlob)r.msSaveBlob(a,"shlink-servers.csv");else{var o=n.createElement("a"),c=URL.createObjectURL(a);o.setAttribute("href",c),o.setAttribute("download","shlink-servers.csv"),o.style.visibility="hidden",n.body.appendChild(o),o.click(),n.body.removeChild(o)}},fn=function e(t,r,n){var a=this;Object(tt.a)(this,e),this.exportServers=Object(ae.a)(ne.a.mark((function e(){var t,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(st.a)(a.serversService.listServers()).map(Object(un.a)("id"));try{r=a.csvjson.toCSV(t,{headers:Object(it.a)(Object(ct.a)(t)).join(",")}),hn(a.window,r)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)}))),this.serversService=t,this.window=r,this.csvjson=n},gn=function(e,t,r){e.serviceFactory("CreateServer",kr,"ImportServersBtn","useStateFlagTimeout"),e.decorator("CreateServer",t(["selectedServer"],["createServer","resetSelectedServer"])),e.serviceFactory("EditServer",_r,"ServerError"),e.decorator("EditServer",t(["selectedServer"],["editServer","selectServer"])),e.serviceFactory("ServersDropdown",Rr,"ServersExporter"),e.decorator("ServersDropdown",r),e.decorator("ServersDropdown",t(["servers","selectedServer"],["listServers"])),e.serviceFactory("DeleteServerModal",(function(){return Dr})),e.decorator("DeleteServerModal",r),e.decorator("DeleteServerModal",t(null,["deleteServer"])),e.serviceFactory("DeleteServerButton",Nr,"DeleteServerModal"),e.serviceFactory("ImportServersBtn",Lr,"ServersImporter"),e.decorator("ImportServersBtn",t(null,["createServers"])),e.serviceFactory("ForServerVersion",(function(){return nn})),e.decorator("ForServerVersion",t(["selectedServer"])),e.serviceFactory("ServerError",cn,"DeleteServerButton"),e.decorator("ServerError",t(["servers","selectedServer"])),e.constant("csvjson",jr.a),e.service("ServersImporter",sn,"csvjson"),e.service("ServersService",dn,"Storage"),e.service("ServersExporter",fn,"ServersService","window","csvjson"),e.serviceFactory("selectServer",Wr,"ServersService","buildShlinkApiClient"),e.serviceFactory("createServer",$r,"ServersService","listServers"),e.serviceFactory("createServers",rn,"ServersService","listServers"),e.serviceFactory("deleteServer",tn,"ServersService","listServers"),e.serviceFactory("editServer",en,"ServersService","listServers"),e.serviceFactory("listServers",Qr,"ServersService","axios"),e.serviceFactory("resetSelectedServer",(function(){return Gr}))},pn=r(585),vn=r(170),bn=r(590),En=r(581),On=r(582),Sn=r(578),yn=r(583),jn=r(584),wn=function(e){var t=e.toggleClassName,r=e.ranges,n=e.value,a=e.setValue;return o.a.createElement(mt.a,null,o.a.createElement(dt.a,{caret:!0,color:"link",className:t},"Paginate"),o.a.createElement(ht.a,{right:!0},r.map((function(e){return o.a.createElement(ft.a,{key:e,active:e===n,onClick:function(){return a(e)}},o.a.createElement("b",null,e)," items per page")})),o.a.createElement(ft.a,{divider:!0}),o.a.createElement(ft.a,{disabled:n===1/0,onClick:function(){return a(1/0)}},o.a.createElement("i",null,"Clear pagination"))))},Tn=Math.ceil,Un=new Intl.NumberFormat("en-US"),Cn=function(e){return Un.format(e)},kn=(r(335),function(e){var t=e.pagesCount,r=e.currentPage,n=e.setCurrentPage,a=e.centered,c=void 0===a||a;if(t<2)return null;var i=function(e){return function(){return n(e)}};return o.a.createElement(k.a,{listClassName:B()("flex-wrap mb-0 simple-paginator",{"justify-content-center":c})},o.a.createElement(U.a,{disabled:r<=1},o.a.createElement(C.a,{previous:!0,tag:"span",onClick:i(r-1)})),P(r,t).map((function(e,t){return o.a.createElement(U.a,{key:_(e,t),disabled:L(e),active:r===e},o.a.createElement(C.a,{tag:"span",onClick:i(e)},e))})),o.a.createElement(U.a,{disabled:r>=t},o.a.createElement(C.a,{next:!0,tag:"span",onClick:i(r+1)})))}),Rn=r(579),Dn=r(580),Nn=r(173);r(406);function Pn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pn(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pn(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ln=function(e){return e.startsWith("hidden")?"":e},xn=function(e,t,r,n,a,c){var i=a&&Object.keys(a).length>0,s=t?Nn.b:Nn.a,l=Object(it.a)(r).map(Ln),u=Object(st.a)(i?Object(it.a)(a).reduce((function(e,t){return e[t]&&(e[t]-=a[t]),e}),_n({},r)):r),m=i&&Object(st.a)(_n({},Object(Sn.a)(l,l.map((function(){return 0}))),{},a)),d={legend:t?{display:!1}:{position:"right"},scales:t&&{xAxes:[{ticks:{beginAtZero:!0,max:n},stacked:!0}],yAxes:[{stacked:!0}]},tooltips:{intersect:!t,filter:function(e){var r=e.yLabel;return!t||""!==r}},onHover:t&&function(e,t){e.target.style.cursor=t[0]?"pointer":"default"}},h=function(e,t,r,n,a){return{labels:r,datasets:[{title:e,label:a&&"Non-selected",data:n,backgroundColor:t?"rgba(70, 150, 229, 0.4)":["#97BBCD","#F7464A","#46BFBD","#FDB45C","#949FB1","#57A773","#414066","#08B2E3","#B6C454","#DCDCDC","#463730"],borderColor:t?"rgba(70, 150, 229, 1)":"white",borderWidth:2},a&&{title:e,label:"Selected",data:a,backgroundColor:"rgba(247, 127, 40, 0.4)",borderColor:"#F77F28",borderWidth:2}].filter(Boolean)}}(e,t,l,u,m),f=function(e,t){return!e&&t.length>8?200:e&&t.length>20?8*t.length:null}(t,l);return o.a.createElement(s,{key:f,data:h,options:d,height:f,getElementAtEvent:function(e){var t=Object(j.a)(e,1)[0];if(c&&t){var r=t._index,n=t._chart.data.labels;c(n[r])}}})},An=function(e){var t=e.title,r=e.footer,n=e.isBarChart,a=e.stats,c=e.max,i=e.highlightedStats,s=e.onClick;return o.a.createElement(vr.a,{className:"mt-4"},o.a.createElement(Rn.a,{className:"graph-card__header"},"function"===typeof t?t():t),o.a.createElement(br.a,null,xn(t,n,a,c,i,s)),r&&o.a.createElement(Dn.a,{className:"graph-card__footer--sticky"},r))};function Mn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Fn,Hn=Math.max,Vn=function(e){return"String"===Object(vn.a)(e)?Object(bn.a)(e):e},In=function(e){return Object(j.a)(e,1)[0]},Gn=function(e){return Object(j.a)(e,2)[1]},Wn=function(e){function t(){var e,r;Object(tt.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(nt.a)(this,(e=Object(at.a)(t)).call.apply(e,[this].concat(a)))).state={orderField:void 0,orderDir:void 0,currentPage:1,itemsPerPage:1/0},r}return Object(ot.a)(t,e),Object(rt.a)(t,[{key:"getSortedPairsForStats",value:function(e,t){var r=Object(gt.a)(e),n=this.state.orderField?Object(En.a)(Object(H.a)(Object(Yr.a)(this.state.orderField===Object(ct.a)(Object(it.a)(t))?0:1),Vn),r):r;return this.state.orderDir&&"ASC"!==this.state.orderDir?Object(On.a)(n):n}},{key:"determineStats",value:function(e,t,r){var n=this.getSortedPairsForStats(e,r),a=n.map(In),o=t&&Object(gt.a)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mn(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mn(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(Sn.a)(a,a.map((function(){return 0}))),{},t));if(n.length<=this.state.itemsPerPage)return{currentPageStats:Object(yn.a)(n),currentPageHighlightedStats:o&&Object(yn.a)(o)};var c,i=Object(jn.a)(this.state.itemsPerPage,n),s=o&&Object(jn.a)(this.state.itemsPerPage,o);return{currentPageStats:Object(yn.a)(this.determineCurrentPagePairs(i)),currentPageHighlightedStats:s&&Object(yn.a)(this.determineCurrentPagePairs(s)),pagination:this.renderPagination(i.length),max:(c=Hn.apply(void 0,Object(jt.a)(n.map(Gn))),10*Tn(c/10))}}},{key:"determineCurrentPagePairs",value:function(e){var t=e[this.state.currentPage-1];if(this.state.currentPage<e.length)return t;var r=e[0].length;return[].concat(Object(jt.a)(t),Object(jt.a)(Object(pt.d)(r-t.length,(function(e){return["hidden_".concat(e),0]}))))}},{key:"renderPagination",value:function(e){var t=this,r=this.state.currentPage;return o.a.createElement(kn,{currentPage:r,pagesCount:e,setCurrentPage:function(e){return t.setState({currentPage:e})}})}},{key:"render",value:function(){var e=this,t=this.props,r=t.stats,n=t.highlightedStats,a=t.sortingItems,c=t.title,i=t.extraHeaderContent,s=t.withPagination,l=void 0===s||s,u=Object(Rt.a)(t,["stats","highlightedStats","sortingItems","title","extraHeaderContent","withPagination"]),m=this.determineStats(r,n&&Object(it.a)(n).length>0?n:void 0,a),d=m.currentPageStats,h=m.currentPageHighlightedStats,f=m.pagination,g=m.max,p=Object(it.a)(d);return o.a.createElement(An,Object.assign({isBarChart:!0,title:function(){return o.a.createElement(o.a.Fragment,null,c,o.a.createElement("div",{className:"float-right"},o.a.createElement(bt,{isButton:!1,right:!0,items:a,orderField:e.state.orderField,orderDir:e.state.orderDir,onChange:function(t,r){return e.setState({orderField:t,orderDir:r,currentPage:1})}})),l&&Object(it.a)(r).length>50&&o.a.createElement("div",{className:"float-right"},o.a.createElement(wn,{toggleClassName:"btn-sm paddingless mr-3",ranges:[50,100,200,500],value:e.state.itemsPerPage,setValue:function(t){return e.setState({itemsPerPage:t,currentPage:1})}})),i&&o.a.createElement("div",{className:"float-right"},i(f?p:void 0)))},stats:d,highlightedStats:h,footer:f,max:g},u))}}]),t}(o.a.Component),Bn=r(596);function Yn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yn(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yn(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Kn,Jn=T.a.shape({referer:T.a.string,date:T.a.string,userAgent:T.a.string,visitLocations:T.a.shape({countryCode:T.a.string,countryName:T.a.string,regionName:T.a.string,cityName:T.a.string,latitude:T.a.number,longitude:T.a.number,timezone:T.a.string,isEmpty:T.a.bool})}),zn=(T.a.shape({visits:T.a.arrayOf(Jn),loading:T.a.bool,error:T.a.bool}),Object(ee.a)((Fn={},Object(f.a)(Fn,"shlink/shortUrlVisits/GET_SHORT_URL_VISITS_START",(function(e){return qn({},e,{loading:!0,loadingLarge:!1,cancelLoad:!1})})),Object(f.a)(Fn,"shlink/shortUrlVisits/GET_SHORT_URL_VISITS_ERROR",(function(e){return qn({},e,{loading:!1,loadingLarge:!1,error:!0,cancelLoad:!1})})),Object(f.a)(Fn,"shlink/shortUrlVisits/GET_SHORT_URL_VISITS",(function(e,t){return{visits:t.visits,loading:!1,loadingLarge:!1,error:!1,cancelLoad:!1}})),Object(f.a)(Fn,"shlink/shortUrlVisits/GET_SHORT_URL_VISITS_LARGE",(function(e){return qn({},e,{loadingLarge:!0})})),Object(f.a)(Fn,"shlink/shortUrlVisits/GET_SHORT_URL_VISITS_CANCEL",(function(e){return qn({},e,{cancelLoad:!0})})),Fn),{visits:[],loading:!1,loadingLarge:!1,error:!1,cancelLoad:!1})),Zn=function(e){return function(t,r){return function(){var n=Object(ae.a)(ne.a.mark((function n(a,o){var c,i,s,l,u,m,d;return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:"shlink/shortUrlVisits/GET_SHORT_URL_VISITS_START"}),c=e(o),i=c.getShortUrlVisits,5e3,s=function(e){return e.currentPage>=e.pagesCount},l=function(){var e=Object(ae.a)(ne.a.mark((function e(){var n,o,c,l,m,d,h,f,g=arguments;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g.length>0&&void 0!==g[0]?g[0]:1,e.next=3,i(t,qn({},r,{page:n,itemsPerPage:5e3}));case 3:if(o=e.sent,c=o.pagination,l=o.data,c&&!s(c)){e.next=8;break}return e.abrupt("return",l);case 8:return m=4,d=2,h=Object(R.a)(d,c.pagesCount+1),f=Object(jn.a)(m,h),c.pagesCount-1>m&&a({type:"shlink/shortUrlVisits/GET_SHORT_URL_VISITS_LARGE"}),e.t0=l,e.next=16,u(f);case 16:return e.t1=e.sent,e.abrupt("return",e.t0.concat.call(e.t0,e.t1));case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(ae.a)(ne.a.mark((function e(t){var r,n,a,c=arguments;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:0,n=o(),!n.shortUrlVisits.cancelLoad){e.next=4;break}return e.abrupt("return",[]);case 4:return e.next=6,m(t[r]);case 6:if(a=e.sent,!(r<t.length-1)){e.next=13;break}return e.t0=a,e.next=11,u(t,r+1);case 11:return e.t1=e.sent,e.abrupt("return",e.t0.concat.call(e.t0,e.t1));case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){return Promise.all(e.map((function(e){return i(t,qn({},r,{page:e,itemsPerPage:5e3})).then(Object(Yr.a)("data"))}))).then(Bn.a)},n.prev=7,n.next=10,l();case 10:d=n.sent,a({visits:d,type:"shlink/shortUrlVisits/GET_SHORT_URL_VISITS"}),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(7),a({type:"shlink/shortUrlVisits/GET_SHORT_URL_VISITS_ERROR"});case 17:case"end":return n.stop()}}),n,null,[[7,14]])})));return function(e,t){return n.apply(this,arguments)}}()}},Xn=Object(te.a)("shlink/shortUrlVisits/GET_SHORT_URL_VISITS_CANCEL");function Qn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qn(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qn(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}T.a.shape({shortUrl:Ge,loading:T.a.bool,error:T.a.bool});var ea=Object(ee.a)((Kn={},Object(f.a)(Kn,"shlink/shortUrlDetail/GET_SHORT_URL_DETAIL_START",(function(e){return $n({},e,{loading:!0})})),Object(f.a)(Kn,"shlink/shortUrlDetail/GET_SHORT_URL_DETAIL_ERROR",(function(e){return $n({},e,{loading:!1,error:!0})})),Object(f.a)(Kn,"shlink/shortUrlDetail/GET_SHORT_URL_DETAIL",(function(e,t){return{shortUrl:t.shortUrl,loading:!1,error:!1}})),Kn),{shortUrl:{},loading:!1,error:!1}),ta=function(e){return function(t,r){return function(){var n=Object(ae.a)(ne.a.mark((function n(a,o){var c,i,s;return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:"shlink/shortUrlDetail/GET_SHORT_URL_DETAIL_START"}),c=e(o),i=c.getShortUrl,n.prev=2,n.next=5,i(t,r);case 5:s=n.sent,a({shortUrl:s,type:"shlink/shortUrlDetail/GET_SHORT_URL_DETAIL"}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),a({type:"shlink/shortUrlDetail/GET_SHORT_URL_DETAIL_ERROR"});case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e,t){return n.apply(this,arguments)}}()}};r(407);function ra(e){var t=e.shortUrlDetail,r=e.shortUrlVisits,n=t.shortUrl,a=t.loading,c=r.visits,i=n&&n.shortUrl?n.shortUrl:"",s=n&&n.longUrl?n.longUrl:"";return o.a.createElement("header",null,o.a.createElement(vr.a,{className:"bg-light",body:!0},o.a.createElement("h2",null,o.a.createElement("span",{className:"badge badge-main float-right"},"Visits:"," ",o.a.createElement(Pt,{visitsCount:c.length,shortUrl:n})),"Visit stats for ",o.a.createElement(Ut.a,{href:i})),o.a.createElement("hr",null),o.a.createElement("div",null,"Created: ",o.a.createElement("span",null,o.a.createElement("b",{id:"created",className:"visits-header__created-at"},o.a.createElement(Tt.a,{fromNow:!0},n.dateCreated)),o.a.createElement(kt.a,{placement:"bottom",target:"created"},o.a.createElement(Tt.a,{format:"YYYY-MM-DD HH:mm"},n.dateCreated)))),o.a.createElement("div",null,"Long URL:"," ",a&&o.a.createElement("small",null,"Loading..."),!a&&o.a.createElement(Ut.a,{href:s}))))}r(408);var na,aa=function(e){var t=e.visits,r=e.selectedVisits,n=void 0===r?[]:r,c=e.setSelectedVisits,i=e.isSticky,s=void 0!==i&&i,l=e.matchMedia,u=void 0===l?window.matchMedia:l,m=B()("visits-table__header-cell",{"visits-table__sticky":s}),d=function(){return u("(max-width: 767px)").matches},h=Object(a.useState)(d()),f=Object(j.a)(h,2),g=f[0],p=f[1],v=Object(a.useState)(void 0),b=Object(j.a)(v,2),E=b[0],O=b[1],S=Object(a.useState)({field:void 0,dir:void 0}),y=Object(j.a)(S,2),w=y[0],T=y[1],U=Object(a.useMemo)((function(){return function(e,t,r){var n=t?function(e,t){return t.filter((function(t){return function(e,t){var r=e.browser,n=e.os,a=e.referer,o=e.country,c=e.city;return"".concat(r," ").concat(n," ").concat(a," ").concat(o," ").concat(c).toLowerCase().includes(t.toLowerCase())}(t,e)}))}(t,e):Object(jt.a)(e),a=r.dir?function(e,t){var r=e.field,n=e.dir;return t.sort((function(e,t){var a="ASC"===n?1:-1,o="ASC"===n?-1:1;return e[r]>t[r]?a:o}))}(r,n):n,o=a.length;return{visitsGroups:Object(jn.a)(20,a),total:o}}(t,E,w)}),[E,w]),C=Object(a.useState)(1),k=Object(j.a)(C,2),R=k[0],D=k[1],P=20*R,_=P-20,L=function(e){return function(){return T({field:e,dir:Object(pt.a)(e,w.field,w.dir)})}},x=function(e){return w.dir&&w.field===e&&o.a.createElement(F.a,{icon:"ASC"===w.dir?M.e:M.d,className:"visits-table__header-icon"})};return Object(a.useEffect)((function(){var e=function(){return p(d())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(a.useEffect)((function(){D(1),c([])}),[E]),o.a.createElement("table",{className:"table table-striped table-bordered table-hover table-sm visits-table"},o.a.createElement("thead",{className:"visits-table__header"},o.a.createElement("tr",null,o.a.createElement("th",{className:B()("visits-table__header-cell text-center",{"visits-table__sticky":s}),onClick:function(){return c(n.length<U.total?U.visitsGroups.flat():[])}},o.a.createElement(F.a,{icon:M.g,className:B()({"text-primary":n.length>0})})),o.a.createElement("th",{className:m,onClick:L("date")},"Date",x("date")),o.a.createElement("th",{className:m,onClick:L("country")},"Country",x("country")),o.a.createElement("th",{className:m,onClick:L("city")},"City",x("city")),o.a.createElement("th",{className:m,onClick:L("browser")},"Browser",x("browser")),o.a.createElement("th",{className:m,onClick:L("os")},"OS",x("os")),o.a.createElement("th",{className:m,onClick:L("referer")},"Referrer",x("referer"))),o.a.createElement("tr",null,o.a.createElement("td",{colSpan:7,className:"p-0"},o.a.createElement(Y,{noBorder:!0,large:!1,onChange:O})))),o.a.createElement("tbody",null,(!U.visitsGroups[R-1]||0===U.visitsGroups[R-1].length)&&o.a.createElement("tr",null,o.a.createElement("td",{colSpan:7,className:"text-center"},"No visits found with current filtering")),U.visitsGroups[R-1]&&U.visitsGroups[R-1].map((function(e,t){var r=n.includes(e);return o.a.createElement("tr",{key:t,style:{cursor:"pointer"},className:B()({"table-primary":r}),onClick:function(){return c(r?n.filter((function(t){return t!==e})):[].concat(Object(jt.a)(n),[e]))}},o.a.createElement("td",{className:"text-center"},r&&o.a.createElement(F.a,{icon:M.g,className:"text-primary"})),o.a.createElement("td",null,o.a.createElement(Tt.a,{format:"YYYY-MM-DD HH:mm"},e.date)),o.a.createElement("td",null,e.country),o.a.createElement("td",null,e.city),o.a.createElement("td",null,e.browser),o.a.createElement("td",null,e.os),o.a.createElement("td",null,e.referer))}))),U.total>20&&o.a.createElement("tfoot",null,o.a.createElement("tr",null,o.a.createElement("td",{colSpan:7,className:B()("visits-table__footer-cell",{"visits-table__sticky":s})},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6"},o.a.createElement(kn,{pagesCount:Math.ceil(U.total/20),currentPage:R,setCurrentPage:D,centered:g})),o.a.createElement("div",{className:B()("col-md-6",{"d-flex align-items-center flex-row-reverse":!g,"text-center mt-3":g})},o.a.createElement("div",null,"Visits ",o.a.createElement("b",null,Cn(_+1))," to"," ",o.a.createElement("b",null,Cn(Object(N.a)(P,U.total)))," of"," ",o.a.createElement("b",null,Cn(U.total)))))))))},oa=function(e,t){return e.reduce((function(e,r){return e[r[t]]||(e[r[t]]=0),e[r[t]]+=1,e}),{})},ca=Q(),ia=function(e,t){var r=e.processStatsFromVisits,n=e.normalizeVisits;return function(e){var c=e.match,i=e.location,s=e.shortUrlVisits,l=e.shortUrlDetail,u=e.getShortUrlVisits,m=e.getShortUrlDetail,d=e.cancelGetShortUrlVisits,h=e.matchMedia,f=void 0===h?window.matchMedia:h,g=Object(a.useState)(void 0),p=Object(j.a)(g,2),v=p[0],b=p[1],E=Object(a.useState)(void 0),O=Object(j.a)(E,2),S=O[0],y=O[1],w=Object(xt.b)(),T=Object(j.a)(w,2),U=T[0],C=T[1],k=Object(xt.b)(),R=Object(j.a)(k,4),D=R[0],N=R[2],P=R[3],_=Object(a.useState)([]),L=Object(j.a)(_,2),x=L[0],A=L[1],H=Object(a.useState)(!1),I=Object(j.a)(H,2),G=I[0],W=I[1],Y=function(){return W(f("(max-width: 991px)").matches)},q=function(e){na=void 0,A(e)},K=function(e){return function(t){var r="".concat(e,"_").concat(t);na===r?(A([]),na=void 0):(A(ne.filter(Object(pn.a)(e,t))),na=r)}},J=c.params.shortCode,z=i.search,Z=ut.a.parse(z,{ignoreQueryPrefix:!0}).domain,Q=s.visits,$=s.loading,ee=s.loadingLarge,te=s.error,re=!$&&Q.length>0,ne=Object(a.useMemo)((function(){return n(Q)}),[Q]),ae=Object(a.useMemo)((function(){return r(ne)}),[ne]),oe=ae.os,ce=ae.browsers,ie=ae.referrers,se=ae.countries,le=ae.cities,ue=ae.citiesForMap,me=Object(st.a)(ue);Object(a.useEffect)((function(){return m(J,Z),Y(),window.addEventListener("resize",Y),function(){d(),window.removeEventListener("resize",Y)}}),[]),Object(a.useEffect)((function(){u(J,{startDate:ca(v),endDate:ca(S),domain:Z})}),[v,S]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(ra,{shortUrlDetail:l,shortUrlVisits:s}),o.a.createElement("section",{className:"mt-4"},o.a.createElement("div",{className:"row flex-md-row-reverse"},o.a.createElement("div",{className:"col-lg-7 col-xl-6"},o.a.createElement(X,{disabled:$,startDate:v,endDate:S,onStartDateChange:b,onEndDateChange:y})),o.a.createElement("div",{className:"col-lg-5 col-xl-6 mt-4 mt-lg-0"},re&&o.a.createElement("span",{className:B()({row:G})},o.a.createElement("span",{className:B()({"col-6":G})},o.a.createElement(gr.a,{outline:!0,color:"primary",block:G,onClick:C},U?"Hide":"Show"," table",o.a.createElement(F.a,{icon:M.h,rotation:U?180:void 0,className:"ml-2"}))),o.a.createElement("span",{className:B()({"col-6":G,"ml-2":!G})},o.a.createElement(gr.a,{outline:!0,disabled:0===x.length,block:G,onClick:function(){return q([])}},"Reset selection")))))),re&&o.a.createElement(qt.a,{isOpen:U,onEntered:N,onExiting:P},o.a.createElement(aa,{visits:ne,selectedVisits:x,setSelectedVisits:q,isSticky:D})),o.a.createElement("section",null,function(){if($){var e=ee?"This is going to take a while... :S":"Loading...";return o.a.createElement(an.a,{loading:!0},e)}return te?o.a.createElement(vr.a,{className:"mt-4",body:!0,inverse:!0,color:"danger"},"An error occurred while loading visits :("):Object(V.a)(Q)?o.a.createElement(an.a,null,"There are no visits matching current filter  :("):o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-4 col-lg-6"},o.a.createElement(An,{title:"Operating systems",stats:oe})),o.a.createElement("div",{className:"col-xl-4 col-lg-6"},o.a.createElement(An,{title:"Browsers",stats:ce})),o.a.createElement("div",{className:"col-xl-4"},o.a.createElement(Wn,{title:"Referrers",stats:ie,withPagination:!1,highlightedStats:oa(x,"referer"),sortingItems:{name:"Referrer name",amount:"Visits amount"},onClick:K("referer")})),o.a.createElement("div",{className:"col-lg-6"},o.a.createElement(Wn,{title:"Countries",stats:se,highlightedStats:oa(x,"country"),sortingItems:{name:"Country name",amount:"Visits amount"},onClick:K("country")})),o.a.createElement("div",{className:"col-lg-6"},o.a.createElement(Wn,{title:"Cities",stats:le,highlightedStats:oa(x,"city"),extraHeaderContent:function(e){return me.length>0&&o.a.createElement(t,{modalTitle:"Cities",locations:me,activeCities:e})},sortingItems:{name:"City name",amount:"Visits amount"},onClick:K("city")})))}()))}},sa=r(100),la=(r(409),function(e){var t=function(t){var r=t.modalTitle,n=t.locations,c=void 0===n?[]:n,i=t.activeCities,s=Object(xt.b)(),l=Object(j.a)(s,4),u=l[0],m=l[2],d=l[3],h=Object(xt.b)(),f=Object(j.a)(h,3),g=f[0],p=f[1],v=f[2],b=Object(a.useState)([]),E=Object(j.a)(b,2),O=E[0],S=E[1],y=o.a.createRef(),w=function(e){return function(){S(e?function(e){return e.filter((function(e){var t=e.cityName;return i.includes(t)}))}(c):c),m()}};return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{className:"btn btn-link open-map-modal-btn__btn",ref:y,onClick:function(){if(!i)return S(c),void m();v()}},o.a.createElement(F.a,{icon:M.p})),o.a.createElement(kt.a,{placement:"left",target:function(){return y.current}},"Show in map"),o.a.createElement(sa.a,{isOpen:g,toggle:p,inNavbar:!0},o.a.createElement(ht.a,{right:!0},o.a.createElement(ft.a,{onClick:w(!1)},"Show all locations"),o.a.createElement(ft.a,{onClick:w(!0)},"Show locations in current page"))),o.a.createElement(e,{toggle:d,isOpen:u,title:r,locations:O}))};return t}),ua=r(599),ma=r(591),da=r(586),ha=r(600),fa=(r(410),function(){return o.a.createElement(ua.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}),ga=function(e){var t=e.toggle,r=e.isOpen,n=e.title,a=e.locations;return o.a.createElement(At.a,{toggle:t,isOpen:r,className:"map-modal__modal",contentClassName:"map-modal__modal-content"},o.a.createElement(Ft.a,{className:"map-modal__modal-body"},o.a.createElement("h3",{className:"map-modal__modal-title"},n,o.a.createElement("button",{type:"button",className:"close",onClick:t},"\xd7")),o.a.createElement(ma.a,function(e){return 0===e.length?{}:e.length>1?{bounds:e.map(Object(Yr.a)("latLong"))}:{zoom:"10",center:Object(j.a)(e,1)[0].latLong}}(a),o.a.createElement(fa,null),a.map((function(e,t){var r=e.cityName,n=e.latLong,a=e.count;return o.a.createElement(da.a,{key:t,position:n},o.a.createElement(ha.a,null,o.a.createElement("b",null,a)," visit",a>1?"s":""," from ",o.a.createElement("b",null,r)))})))))};ga.defaultProps={locations:[]};var pa=ga,va=r(257),ba=r.n(va),Ea=["Android Browser","Chrome","Chromium","Firefox","Internet Explorer","Microsoft Edge","Opera","Safari","Samsung Internet for Android","Vivaldi","WeChat"],Oa=function(e,t){return!Object(K.a)(e)&&Object(pt.c)(e[t])},Sa=function(e){return function(t,r){var n=Oa(r,e)?r[e]:"Unknown";t[n]=(t[n]||0)+1}},ya=Sa("country"),ja=Sa("city"),wa=function(e){return e.reduce((function(e,t){return function(e,t){var r=t.os;e[r]=(e[r]||0)+1}(e.os,t),function(e,t){var r=t.browser;e[r]=(e[r]||0)+1}(e.browsers,t),function(e,t){var r=t.referer;e[r]=(e[r]||0)+1}(e.referrers,t),ya(e.countries,t),ja(e.cities,t),function(e,t){if(Oa(t,"city")&&"Unknown"!==t.city){var r=t.city,n=t.latitude,a=t.longitude,o=e[r]||{cityName:r,count:0,latLong:[parseFloat(n),parseFloat(a)]};o.count++,e[r]=o}}(e.citiesForMap,t),e}),{os:{},browsers:{},referrers:{},countries:{},cities:{},citiesForMap:{}})},Ta=Object(qr.a)((function(e){var t,r=e.userAgent,n=e.date,a=e.referer,o=e.visitLocation,c=function(e){if(!Object(pt.c)(e))return{browser:"Others",os:"Others"};var t=ba.a.parse(e),r=t.browser.name;return{os:t.os.name||"Others",browser:r&&Ea.includes(r)?r:"Others"}}(r);return{date:n,browser:c.browser,os:c.os,referer:(t=a,Object(pt.c)(t)?(t.includes("://")?t.split("/")[2]:t.split("/")[0]).split(":")[0]:"Direct"),country:o&&o.countryName||"Unknown",city:o&&o.cityName||"Unknown",latitude:o&&o.latitude,longitude:o&&o.longitude}})),Ua=function(e,t){e.serviceFactory("OpenMapModalBtn",la,"MapModal"),e.serviceFactory("MapModal",(function(){return pa})),e.serviceFactory("ShortUrlVisits",ia,"VisitsParser","OpenMapModalBtn"),e.decorator("ShortUrlVisits",t(["shortUrlVisits","shortUrlDetail"],["getShortUrlVisits","getShortUrlDetail","cancelGetShortUrlVisits"])),e.serviceFactory("VisitsParser",(function(){return n})),e.serviceFactory("getShortUrlVisits",Zn,"buildShlinkApiClient"),e.serviceFactory("getShortUrlDetail",ta,"buildShlinkApiClient"),e.serviceFactory("cancelGetShortUrlVisits",(function(){return Xn}))},Ca=r(258),ka=r.n(Ca),Ra=r(259),Da=r.n(Ra),Na=(r(422),function(e){var t=e.tag,r=e.colorGenerator;return o.a.createElement("div",{style:{backgroundColor:r.getColorForKey(t)},className:"tag-bullet"})});r(423);function Pa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pa(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pa(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var La,xa,Aa=function(e){var t,r;return r=t=function(t){function r(){return Object(tt.a)(this,r),Object(nt.a)(this,Object(at.a)(r).apply(this,arguments))}return Object(ot.a)(r,t),Object(rt.a)(r,[{key:"componentDidMount",value:function(){(0,this.props.listTags)()}},{key:"render",value:function(){var t=this.props,r=t.tags,n=t.onChange,a=t.placeholder,c=t.tagsList;return o.a.createElement(ka.a,{value:r,inputProps:{placeholder:a},onlyUnique:!0,renderTag:function(t){var r=t.tag,n=t.key,a=t.disabled,c=t.onRemove,i=t.classNameRemove,s=t.getTagDisplayValue,l=Object(Rt.a)(t,["tag","key","disabled","onRemove","classNameRemove","getTagDisplayValue"]);return o.a.createElement("span",Object.assign({key:n,style:{backgroundColor:e.getColorForKey(r)}},l),s(r),!a&&o.a.createElement("span",{className:i,onClick:function(){return c(n)}}))},renderInput:function(t){var r=t.addTag,n=Object(Rt.a)(t,["addTag"]),a=n.value&&n.value.trim().toLowerCase()||"",i=a.length,s=c.tags.filter((function(e){return e.toLowerCase().slice(0,i)===a}));return o.a.createElement(Da.a,{ref:n.ref,suggestions:s,inputProps:_a({},n,{onChange:function(e,t){"enter"===t.method?e.preventDefault():n.onChange(e)}}),highlightFirstSuggestion:!0,shouldRenderSuggestions:function(e){return e&&e.trim().length>0},getSuggestionValue:function(e){return e},renderSuggestion:function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement(Na,{tag:t,colorGenerator:e}),t)},onSuggestionSelected:function(e,t){var n=t.suggestion;r(n)},onSuggestionsClearRequested:ur.a,onSuggestionsFetchRequested:ur.a})},addOnBlur:!0,onChange:n})}}]),r}(o.a.Component),t.defaultProps={placeholder:"Add tags to the URL"},r},Ma=(r(424),function(e,t,r){return function(n){function a(){var e,t;Object(tt.a)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=Object(nt.a)(this,(e=Object(at.a)(a)).call.apply(e,[this].concat(n)))).state={isDeleteModalOpen:!1,isEditModalOpen:!1},t}return Object(ot.a)(a,n),Object(rt.a)(a,[{key:"render",value:function(){var n=this,a=this.props,c=a.tag,i=a.currentServerId,l=function(){return n.setState((function(e){return{isDeleteModalOpen:!e.isDeleteModalOpen}}))},u=function(){return n.setState((function(e){return{isEditModalOpen:!e.isEditModalOpen}}))};return o.a.createElement(vr.a,{className:"tag-card"},o.a.createElement(br.a,{className:"tag-card__body"},o.a.createElement("button",{className:"btn btn-light btn-sm tag-card__btn tag-card__btn--last",onClick:l},o.a.createElement(F.a,{icon:M.A})),o.a.createElement("button",{className:"btn btn-light btn-sm tag-card__btn",onClick:u},o.a.createElement(F.a,{icon:M.t})),o.a.createElement("h5",{className:"tag-card__tag-title"},o.a.createElement(Na,{tag:c,colorGenerator:r}),o.a.createElement(s.b,{to:"/server/".concat(i,"/list-short-urls/1?tag=").concat(c)},c))),o.a.createElement(e,{tag:c,toggle:l,isOpen:this.state.isDeleteModalOpen}),o.a.createElement(t,{tag:c,toggle:u,isOpen:this.state.isEditModalOpen}))}}]),a}(o.a.Component)}),Fa=(T.a.shape({deleting:T.a.bool,error:T.a.bool}),Object(ee.a)((La={},Object(f.a)(La,"shlink/deleteTag/DELETE_TAG_START",(function(){return{deleting:!0,error:!1}})),Object(f.a)(La,"shlink/deleteTag/DELETE_TAG_ERROR",(function(){return{deleting:!1,error:!0}})),Object(f.a)(La,"shlink/deleteTag/DELETE_TAG",(function(){return{deleting:!1,error:!1}})),La),{deleting:!1,error:!1})),Ha=function(e){return function(t){return function(){var r=Object(ae.a)(ne.a.mark((function r(n,a){var o,c;return ne.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n({type:"shlink/deleteTag/DELETE_TAG_START"}),o=e(a),c=o.deleteTags,r.prev=2,r.next=5,c([t]);case 5:n({type:"shlink/deleteTag/DELETE_TAG"}),r.next=12;break;case 8:throw r.prev=8,r.t0=r.catch(2),n({type:"shlink/deleteTag/DELETE_TAG_ERROR"}),r.t0;case 12:case"end":return r.stop()}}),r,null,[[2,8]])})));return function(e,t){return r.apply(this,arguments)}}()}},Va=function(e){return{type:"shlink/deleteTag/TAG_DELETED",tag:e}},Ia=function(e){function t(){var e,r;Object(tt.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(nt.a)(this,(e=Object(at.a)(t)).call.apply(e,[this].concat(a)))).doDelete=Object(ae.a)(ne.a.mark((function e(){var t,n,a,o;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props,n=t.tag,a=t.toggle,o=t.deleteTag,e.next=3,o(n);case 3:r.tagWasDeleted=!0,a();case 5:case"end":return e.stop()}}),e)}))),r.handleOnClosed=function(){if(r.tagWasDeleted){var e=r.props;(0,e.tagDeleted)(e.tag)}},r}return Object(ot.a)(t,e),Object(rt.a)(t,[{key:"componentDidMount",value:function(){this.tagWasDeleted=!1}},{key:"render",value:function(){var e=this,t=this.props,r=t.tag,n=t.toggle,a=t.isOpen,c=t.tagDelete;return o.a.createElement(At.a,{toggle:n,isOpen:a,centered:!0,onClosed:this.handleOnClosed},o.a.createElement(Mt.a,{toggle:n},o.a.createElement("span",{className:"text-danger"},"Delete tag")),o.a.createElement(Ft.a,null,"Are you sure you want to delete tag ",o.a.createElement("b",null,r),"?",c.error&&o.a.createElement("div",{className:"p-2 mt-2 bg-danger text-white text-center"},"Something went wrong while deleting the tag :(")),o.a.createElement(lr.a,null,o.a.createElement("button",{className:"btn btn-link",onClick:n},"Cancel"),o.a.createElement("button",{className:"btn btn-danger",disabled:c.deleting,onClick:function(){return e.doDelete()}},c.deleting?"Deleting tag...":"Delete tag")))}}]),t}(o.a.Component),Ga=r(587),Wa=r(260),Ba=(r(519),function(e){var t=e.getColorForKey;return function(e){function r(e){var n;Object(tt.a)(this,r),(n=Object(nt.a)(this,Object(at.a)(r).call(this,e))).saveTag=function(e){e.preventDefault();var t=n.props,r=t.tag,a=t.editTag,o=t.toggle,c=n.state;a(r,c.tag,c.color).then((function(){n.tagWasEdited=!0,o()})).catch((function(){}))},n.handleOnClosed=function(){if(n.tagWasEdited){var e=n.props,t=e.tag,r=e.tagEdited,a=n.state;r(t,a.tag,a.color)}};var a=e.tag;return n.state={showColorPicker:!1,tag:a,color:t(a)},n}return Object(ot.a)(r,e),Object(rt.a)(r,[{key:"componentDidMount",value:function(){this.tagWasEdited=!1}},{key:"render",value:function(){var e=this,t=this.props,r=t.isOpen,n=t.toggle,a=t.tagEdit,c=this.state,i=c.tag,s=c.color,l=function(){return e.setState((function(e){return{showColorPicker:!e.showColorPicker}}))};return o.a.createElement(At.a,{isOpen:r,toggle:n,centered:!0,onClosed:this.handleOnClosed},o.a.createElement("form",{onSubmit:function(t){return e.saveTag(t)}},o.a.createElement(Mt.a,{toggle:n},"Edit tag"),o.a.createElement(Ft.a,null,o.a.createElement("div",{className:"input-group"},o.a.createElement("div",{className:"input-group-prepend",id:"colorPickerBtn",onClick:l},o.a.createElement("div",{className:"input-group-text edit-tag-modal__color-picker-toggle",style:{backgroundColor:s,borderColor:s}},o.a.createElement(F.a,{icon:M.r,className:"edit-tag-modal__color-icon"}))),o.a.createElement(Ga.a,{isOpen:this.state.showColorPicker,toggle:l,target:"colorPickerBtn",placement:"right"},o.a.createElement(Wa.ChromePicker,{color:s,disableAlpha:!0,onChange:function(t){return e.setState({color:t.hex})}})),o.a.createElement("input",{type:"text",value:i,placeholder:"Tag",required:!0,className:"form-control",onChange:function(t){return e.setState({tag:t.target.value})}})),a.error&&o.a.createElement("div",{className:"p-2 mt-2 bg-danger text-white text-center"},"Something went wrong while editing the tag :(")),o.a.createElement(lr.a,null,o.a.createElement("button",{type:"button",className:"btn btn-link",onClick:n},"Cancel"),o.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:a.editing},a.editing?"Saving...":"Save"))))}}]),r}(o.a.Component)}),Ya=Math.ceil,qa=function(e){return function(t){function r(){return Object(tt.a)(this,r),Object(nt.a)(this,Object(at.a)(r).apply(this,arguments))}return Object(ot.a)(r,t),Object(rt.a)(r,[{key:"componentDidMount",value:function(){(0,this.props.forceListTags)()}},{key:"renderContent",value:function(){var t=this.props,r=t.tagsList,n=t.match;if(r.loading)return o.a.createElement(an.a,{noMargin:!0,loading:!0});if(r.error)return o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"bg-danger p-2 text-white text-center"},"Error loading tags :("));var a=r.filteredTags.length;if(a<1)return o.a.createElement(an.a,null,"No tags found");var c=Object(jn.a)(Ya(a/4),r.filteredTags);return o.a.createElement(o.a.Fragment,null,c.map((function(t,r){return o.a.createElement("div",{key:r,className:"col-md-6 col-xl-3"},t.map((function(t){return o.a.createElement(e,{key:t,tag:t,currentServerId:n.params.serverId})})))})))}},{key:"render",value:function(){var e=this.props.filterTags;return o.a.createElement(o.a.Fragment,null,!this.props.tagsList.loading&&o.a.createElement(Y,{className:"mb-3",placeholder:"Search tags...",onChange:e}),o.a.createElement("div",{className:"row"},this.renderContent()))}}]),r}(o.a.Component)};function Ka(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ja(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ka(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ka(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var za,Za=Object(ee.a)((xa={},Object(f.a)(xa,"shlink/editTag/EDIT_TAG_START",(function(e){return Ja({},e,{editing:!0,error:!1})})),Object(f.a)(xa,"shlink/editTag/EDIT_TAG_ERROR",(function(e){return Ja({},e,{editing:!1,error:!0})})),Object(f.a)(xa,"shlink/editTag/EDIT_TAG",(function(e,t){return Ja({},Object(b.a)(["oldName","newName"],t),{editing:!1,error:!1})})),xa),{oldName:"",newName:"",editing:!1,error:!1}),Xa=function(e,t){return function(r,n,a){return function(){var o=Object(ae.a)(ne.a.mark((function o(c,i){var s,l;return ne.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return c({type:"shlink/editTag/EDIT_TAG_START"}),s=e(i),l=s.editTag,o.prev=2,o.next=5,l(r,n);case 5:t.setColorForKey(n,a),c({type:"shlink/editTag/EDIT_TAG",oldName:r,newName:n}),o.next=13;break;case 9:throw o.prev=9,o.t0=o.catch(2),c({type:"shlink/editTag/EDIT_TAG_ERROR"}),o.t0;case 13:case"end":return o.stop()}}),o,null,[[2,9]])})));return function(e,t){return o.apply(this,arguments)}}()}},Qa=function(e,t,r){return{type:"shlink/editTag/TAG_EDITED",oldName:e,newName:t,color:r}};function $a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$a(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$a(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var to="shlink/tagsList/LIST_TAGS_START",ro="shlink/tagsList/LIST_TAGS_ERROR",no="shlink/tagsList/LIST_TAGS",ao=function(e,t){return function(r){return r===e?t:r}},oo=function(e,t){return Object(ce.a)((function(e){return e===t}),e)},co=Object(ee.a)((za={},Object(f.a)(za,to,(function(e){return eo({},e,{loading:!0,error:!1})})),Object(f.a)(za,ro,(function(e){return eo({},e,{loading:!1,error:!0})})),Object(f.a)(za,no,(function(e,t){var r=t.tags;return{tags:r,filteredTags:r,loading:!1,error:!1}})),Object(f.a)(za,"shlink/deleteTag/TAG_DELETED",(function(e,t){var r=t.tag;return eo({},e,{tags:oo(e.tags,r),filteredTags:oo(e.filteredTags,r)})})),Object(f.a)(za,"shlink/editTag/TAG_EDITED",(function(e,t){var r=t.oldName,n=t.newName;return eo({},e,{tags:e.tags.map(ao(r,n)).sort(),filteredTags:e.filteredTags.map(ao(r,n)).sort()})})),Object(f.a)(za,"shlink/tagsList/FILTER_TAGS",(function(e,t){var r=t.searchTerm;return eo({},e,{filteredTags:e.tags.filter((function(e){return e.toLowerCase().match(r)}))})})),za),{tags:[],filteredTags:[],loading:!1,error:!1}),io=function(e){return{type:"shlink/tagsList/FILTER_TAGS",searchTerm:e}},so=function(e,t){e.serviceFactory("TagsSelector",Aa,"ColorGenerator"),e.decorator("TagsSelector",t(["tagsList"],["listTags"])),e.serviceFactory("TagCard",Ma,"DeleteTagConfirmModal","EditTagModal","ColorGenerator"),e.serviceFactory("DeleteTagConfirmModal",(function(){return Ia})),e.decorator("DeleteTagConfirmModal",t(["tagDelete"],["deleteTag","tagDeleted"])),e.serviceFactory("EditTagModal",Ba,"ColorGenerator"),e.decorator("EditTagModal",t(["tagEdit"],["editTag","tagEdited"])),e.serviceFactory("TagsList",qa,"TagCard"),e.decorator("TagsList",t(["tagsList"],["forceListTags","filterTags"]));var r=function(e){return function(t){return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){return function(){var r=Object(ae.a)(ne.a.mark((function r(n,a){var o,c,i,s,l;return ne.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=a(),c=o.tagsList,t||!c.loading&&Object(V.a)(c.tags)){r.next=3;break}return r.abrupt("return");case 3:return n({type:to}),r.prev=4,i=e(a),s=i.listTags,r.next=8,s();case 8:l=r.sent,n({tags:l,type:no}),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(4),n({type:ro});case 15:case"end":return r.stop()}}),r,null,[[4,12]])})));return function(e,t){return r.apply(this,arguments)}}()}}(t.buildShlinkApiClient,e)}};e.factory("listTags",r(!1)),e.factory("forceListTags",r(!0)),e.serviceFactory("filterTags",(function(){return io})),e.serviceFactory("tagDeleted",(function(){return Va})),e.serviceFactory("tagEdited",(function(){return Qa})),e.serviceFactory("deleteTag",Ha,"buildShlinkApiClient"),e.serviceFactory("editTag",Xa,"buildShlinkApiClient","ColorGenerator")},lo=r(261);function uo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var mo=new p.a,ho=mo.container,fo=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uo(r,!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uo(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,Object(f.a)({},t,function(e,t){return function(){return e[t].apply(e,arguments)}}(ho,t)))},go=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(i.b)(e?Object(b.a)(e):null,t.reduce(fo,{}))};mo.serviceFactory("App",O,"MainHeader","Home","MenuLayout","CreateServer","EditServer"),Object(S.a)(mo,go,v.f),Sr(mo,go),gn(mo,go,v.f),so(mo,go),Ua(mo,go),Object(lo.a)(mo);var po=ho,vo=r(265),bo=r(72),Eo=Object(bo.c)({servers:Xr,selectedServer:Br,shortUrlsList:Ye,shortUrlsListParams:ze,shortUrlCreationResult:$t,shortUrlDeletion:Oe,shortUrlTags:me,shortUrlMeta:ke,shortUrlEdition:xe,shortUrlVisits:zn,shortUrlDetail:ea,tagsList:co,tagDelete:Fa,tagEdit:Za}),Oo=bo.d,So=Object(bo.e)(Eo,Oo(Object(bo.a)(vo.a)));r(536),r(537),r(538),r(539);Object(pt.b)();var yo=po.App,jo=po.ScrollToTop,wo=po.ErrorHandler;Object(c.render)(o.a.createElement(i.a,{store:So},o.a.createElement(s.a,{basename:l.a},o.a.createElement(wo,null,o.a.createElement(jo,null,o.a.createElement(yo,null))))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");return u?(function(e){fetch(e).then((function(t){return 404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){return e.unregister().then((function(){window.location.reload()}))})):m(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):m(e)}))}}()},57:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return u}));var n=r(133),a=r(552),o=r(555),c=r(26),i=function(e,t){var r=t.maxVersion,a=t.minVersion;if(!Object(c.c)(e))return!1;var o=!a||Object(n.compare)(e,a,">=");return!(!(!r||Object(n.compare)(e,r,"<="))||!o)},s=Object(a.a)(o.a,(function(e){try{return Object(n.compare)(e,e,"=")}catch(t){return!1}})),l=function(e){return s(e)?"v".concat(e):e},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"latest";return function(t){return s(t)?t:e}}},62:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(551),c=r(3),i=r.n(c),s=r(9),l=r(8),u=function(e){return{error:"text-danger"}[e]||"text-muted"};t.a=function(e){var t=e.children,r=e.loading,n=void 0!==r&&r,c=e.noMargin,m=void 0!==c&&c,d=e.type,h=void 0===d?"default":d,f=i()("bg-light",function(e){return{error:"border-danger"}[e]||""}(h),{"mt-4":!m});return a.a.createElement("div",{className:"col-md-10 offset-md-1"},a.a.createElement(o.a,{className:f,body:!0},a.a.createElement("h3",{className:i()("text-center mb-0",u(h))},n&&a.a.createElement(l.a,{icon:s.j,spin:!0}),n&&a.a.createElement("span",{className:"ml-2"},t||"Loading..."),!n&&t)))}}},[[267,1,2]]]);
//# sourceMappingURL=main.c9887935.chunk.js.map